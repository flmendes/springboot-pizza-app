2025-11-28 17:23:07.202 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 17:23:07.255 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 17:23:07.335 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 17:23:07.453 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 75309 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 17:23:07.454 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 17:23:07.454 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 17:23:07.461 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6342d610
2025-11-28 17:23:08.341 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 17:23:08.768 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 17:23:08.769 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 17:23:08.769 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 17:23:08.769 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 17:23:08.771 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 17:23:08.775 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 17:23:08.776 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 17:23:08.777 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 17:23:08.778 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 17:23:08.964 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 17:23:08.988 WARN  [ ] o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/webmvc/autoconfigure/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'requestMappingHandlerMapping' parameter 0: Error creating bean with name 'mvcContentNegotiationManager' defined in class path resource [org/springframework/boot/webmvc/autoconfigure/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Failed to instantiate [org.springframework.web.accept.ContentNegotiationManager]: Factory method 'mvcContentNegotiationManager' threw exception with message: Error creating bean with name 'serverConvertersCustomizer' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/HttpMessageConvertersAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.http.converter.autoconfigure.ServerHttpMessageConvertersCustomizer]: Factory method 'serverConvertersCustomizer' threw exception with message: Error creating bean with name 'jacksonJsonHttpMessageConverter' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/JacksonHttpMessageConvertersConfiguration$JacksonJsonHttpMessageConverterConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonHttpMessageConverter' parameter 0: Error creating bean with name 'jacksonJsonMapper' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonMapper' parameter 0: Error creating bean with name 'jsonMapperBuilder' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jsonMapperBuilder' parameter 0: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
2025-11-28 17:23:08.989 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 17:23:08.990 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 17:23:08.990 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 17:23:08.990 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 17:23:09.001 INFO  [ ] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-28 17:23:09.008 ERROR [ ] o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to bind properties under 'spring.jackson.serialization' to java.util.Map<tools.jackson.databind.SerializationFeature, java.lang.Boolean>:

    Reason: failed to convert java.lang.String to tools.jackson.databind.SerializationFeature (caused by java.lang.IllegalArgumentException: No enum constant tools.jackson.databind.SerializationFeature.write-dates-as-timestamps)

Action:

Update your application's configuration. The following values are valid:

    CLOSE_CLOSEABLE
    EAGER_SERIALIZER_FETCH
    FAIL_ON_EMPTY_BEANS
    FAIL_ON_ORDER_MAP_BY_INCOMPARABLE_KEY
    FAIL_ON_SELF_REFERENCES
    FAIL_ON_UNWRAPPED_TYPE_IDENTIFIERS
    FLUSH_AFTER_WRITE_VALUE
    INDENT_OUTPUT
    ORDER_MAP_ENTRIES_BY_KEYS
    USE_EQUALITY_FOR_OBJECT_ID
    WRAP_EXCEPTIONS
    WRAP_ROOT_VALUE
    WRITE_CHAR_ARRAYS_AS_JSON_ARRAYS
    WRITE_EMPTY_JSON_ARRAYS
    WRITE_SELF_REFERENCES_AS_NULL
    WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED

2025-11-28 17:23:09.010 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@6ce7d6ab]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@58e61e18 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.Springboot4ExampleApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@6d9f624 key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@41477a6d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@54dcbb9f, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@69eb86b4, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@63429932, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@6f012914, org.springframework.boot.test.context.SpringBootTestAnnotation@8e528135], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.lambda$loadContext$0(DefaultCacheAwareContextLoaderDelegate.java:195)
	at org.springframework.test.context.cache.DefaultContextCache.put(DefaultContextCache.java:172)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:160)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/webmvc/autoconfigure/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'requestMappingHandlerMapping' parameter 0: Error creating bean with name 'mvcContentNegotiationManager' defined in class path resource [org/springframework/boot/webmvc/autoconfigure/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Failed to instantiate [org.springframework.web.accept.ContentNegotiationManager]: Factory method 'mvcContentNegotiationManager' threw exception with message: Error creating bean with name 'serverConvertersCustomizer' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/HttpMessageConvertersAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.http.converter.autoconfigure.ServerHttpMessageConvertersCustomizer]: Factory method 'serverConvertersCustomizer' threw exception with message: Error creating bean with name 'jacksonJsonHttpMessageConverter' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/JacksonHttpMessageConvertersConfiguration$JacksonJsonHttpMessageConverterConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonHttpMessageConverter' parameter 0: Error creating bean with name 'jacksonJsonMapper' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonMapper' parameter 0: Error creating bean with name 'jsonMapperBuilder' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jsonMapperBuilder' parameter 0: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:983)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$2(SpringBootContextLoader.java:148)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1474)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:573)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:148)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:114)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:247)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.lambda$loadContext$0(DefaultCacheAwareContextLoaderDelegate.java:167)
	... 86 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcContentNegotiationManager' defined in class path resource [org/springframework/boot/webmvc/autoconfigure/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Failed to instantiate [org.springframework.web.accept.ContentNegotiationManager]: Factory method 'mvcContentNegotiationManager' threw exception with message: Error creating bean with name 'serverConvertersCustomizer' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/HttpMessageConvertersAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.http.converter.autoconfigure.ServerHttpMessageConvertersCustomizer]: Factory method 'serverConvertersCustomizer' threw exception with message: Error creating bean with name 'jacksonJsonHttpMessageConverter' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/JacksonHttpMessageConvertersConfiguration$JacksonJsonHttpMessageConverterConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonHttpMessageConverter' parameter 0: Error creating bean with name 'jacksonJsonMapper' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonMapper' parameter 0: Error creating bean with name 'jsonMapperBuilder' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jsonMapperBuilder' parameter 0: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 112 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.accept.ContentNegotiationManager]: Factory method 'mvcContentNegotiationManager' threw exception with message: Error creating bean with name 'serverConvertersCustomizer' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/HttpMessageConvertersAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.http.converter.autoconfigure.ServerHttpMessageConvertersCustomizer]: Factory method 'serverConvertersCustomizer' threw exception with message: Error creating bean with name 'jacksonJsonHttpMessageConverter' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/JacksonHttpMessageConvertersConfiguration$JacksonJsonHttpMessageConverterConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonHttpMessageConverter' parameter 0: Error creating bean with name 'jacksonJsonMapper' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonMapper' parameter 0: Error creating bean with name 'jsonMapperBuilder' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jsonMapperBuilder' parameter 0: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:183)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:72)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:152)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 126 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serverConvertersCustomizer' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/HttpMessageConvertersAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.http.converter.autoconfigure.ServerHttpMessageConvertersCustomizer]: Factory method 'serverConvertersCustomizer' threw exception with message: Error creating bean with name 'jacksonJsonHttpMessageConverter' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/JacksonHttpMessageConvertersConfiguration$JacksonJsonHttpMessageConverterConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonHttpMessageConverter' parameter 0: Error creating bean with name 'jacksonJsonMapper' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonMapper' parameter 0: Error creating bean with name 'jsonMapperBuilder' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jsonMapperBuilder' parameter 0: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:2015)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1971)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1711)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.resolveStream(DefaultListableBeanFactory.java:2654)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.orderedStream(DefaultListableBeanFactory.java:2648)
	at org.springframework.boot.webmvc.autoconfigure.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.configureMessageConverters(WebMvcAutoConfiguration.java:247)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurerComposite.configureMessageConverters(WebMvcConfigurerComposite.java:147)
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration.configureMessageConverters(DelegatingWebMvcConfiguration.java:126)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.createMessageConverters(WebMvcConfigurationSupport.java:871)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.addDefaultHttpMessageConverters(WebMvcConfigurationSupport.java:918)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.getMessageConverters(WebMvcConfigurationSupport.java:853)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.getDefaultMediaTypes(WebMvcConfigurationSupport.java:410)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.mvcContentNegotiationManager(WebMvcConfigurationSupport.java:401)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:155)
	... 129 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.http.converter.autoconfigure.ServerHttpMessageConvertersCustomizer]: Factory method 'serverConvertersCustomizer' threw exception with message: Error creating bean with name 'jacksonJsonHttpMessageConverter' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/JacksonHttpMessageConvertersConfiguration$JacksonJsonHttpMessageConverterConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonHttpMessageConverter' parameter 0: Error creating bean with name 'jacksonJsonMapper' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonMapper' parameter 0: Error creating bean with name 'jsonMapperBuilder' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jsonMapperBuilder' parameter 0: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:183)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:72)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:152)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 156 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jacksonJsonHttpMessageConverter' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/JacksonHttpMessageConvertersConfiguration$JacksonJsonHttpMessageConverterConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonHttpMessageConverter' parameter 0: Error creating bean with name 'jacksonJsonMapper' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonMapper' parameter 0: Error creating bean with name 'jsonMapperBuilder' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jsonMapperBuilder' parameter 0: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:2015)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1971)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1711)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.resolveStream(DefaultListableBeanFactory.java:2654)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.orderedStream(DefaultListableBeanFactory.java:2648)
	at org.springframework.boot.http.converter.autoconfigure.HttpMessageConvertersAutoConfiguration.serverConvertersCustomizer(HttpMessageConvertersAutoConfiguration.java:85)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:155)
	... 159 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jacksonJsonMapper' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonMapper' parameter 0: Error creating bean with name 'jsonMapperBuilder' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jsonMapperBuilder' parameter 0: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 179 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonMapperBuilder' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jsonMapperBuilder' parameter 0: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:351)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 193 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:2008)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1971)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanCollection(DefaultListableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1711)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 205 common frames omitted
Caused by: org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:104)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:84)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:426)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1809)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 223 common frames omitted
Caused by: org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under 'spring.jackson.serialization' to java.util.Map<tools.jackson.databind.SerializationFeature, java.lang.Boolean>
	at org.springframework.boot.context.properties.bind.Binder.handleBindError(Binder.java:418)
	at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:377)
	at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$0(Binder.java:505)
	at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:127)
	at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:115)
	at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:71)
	at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$2(Binder.java:508)
	at org.springframework.boot.context.properties.bind.Binder.fromDataObjectBinders(Binder.java:517)
	at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$1(Binder.java:507)
	at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:632)
	at org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:618)
	at org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:509)
	at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:445)
	at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:373)
	at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:360)
	at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:287)
	at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:274)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:96)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:101)
	... 237 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [tools.jackson.databind.SerializationFeature] for value [write-dates-as-timestamps]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:181)
	at org.springframework.boot.context.properties.bind.BindConverter.convert(BindConverter.java:113)
	at org.springframework.boot.context.properties.bind.BindConverter.convert(BindConverter.java:104)
	at org.springframework.boot.context.properties.bind.MapBinder$EntryBinder.bindEntries(MapBinder.java:184)
	at org.springframework.boot.context.properties.bind.MapBinder.bindAggregate(MapBinder.java:76)
	at org.springframework.boot.context.properties.bind.AggregateBinder.bind(AggregateBinder.java:59)
	at org.springframework.boot.context.properties.bind.Binder.lambda$bindAggregate$2(Binder.java:469)
	at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:632)
	at org.springframework.boot.context.properties.bind.Binder.bindAggregate(Binder.java:470)
	at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:430)
	at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:373)
	... 254 common frames omitted
Caused by: java.lang.IllegalArgumentException: No enum constant tools.jackson.databind.SerializationFeature.write-dates-as-timestamps
	at org.springframework.boot.convert.LenientObjectToEnumConverterFactory$LenientToEnumConverter.findEnum(LenientObjectToEnumConverterFactory.java:95)
	at org.springframework.boot.convert.LenientObjectToEnumConverterFactory$LenientToEnumConverter.convert(LenientObjectToEnumConverterFactory.java:82)
	at org.springframework.boot.convert.LenientObjectToEnumConverterFactory$LenientToEnumConverter.convert(LenientObjectToEnumConverterFactory.java:63)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:406)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 265 common frames omitted
2025-11-28 17:23:09.026 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@432fca40]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@58e61e18 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.Springboot4ExampleApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@6d9f624 key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@41477a6d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@54dcbb9f, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@69eb86b4, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@63429932, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@6f012914, org.springframework.boot.test.context.SpringBootTestAnnotation@8e528135], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 17:23:09.028 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@71662b15]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@58e61e18 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.Springboot4ExampleApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@6d9f624 key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@41477a6d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@54dcbb9f, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@69eb86b4, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@63429932, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@6f012914, org.springframework.boot.test.context.SpringBootTestAnnotation@8e528135], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 17:23:09.029 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@6f10082e]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@58e61e18 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.Springboot4ExampleApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@6d9f624 key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@41477a6d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@54dcbb9f, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@69eb86b4, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@63429932, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@6f012914, org.springframework.boot.test.context.SpringBootTestAnnotation@8e528135], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 17:23:09.030 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@2179127d]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@58e61e18 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.Springboot4ExampleApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@6d9f624 key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@41477a6d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@54dcbb9f, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@69eb86b4, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@63429932, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@6f012914, org.springframework.boot.test.context.SpringBootTestAnnotation@8e528135], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 17:23:09.031 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@196f9b75]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@58e61e18 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.Springboot4ExampleApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@6d9f624 key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@41477a6d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@54dcbb9f, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@69eb86b4, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@63429932, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@6f012914, org.springframework.boot.test.context.SpringBootTestAnnotation@8e528135], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 17:23:09.032 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@2ca9e25a]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@58e61e18 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.Springboot4ExampleApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@6d9f624 key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@41477a6d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@54dcbb9f, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@69eb86b4, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@63429932, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@6f012914, org.springframework.boot.test.context.SpringBootTestAnnotation@8e528135], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 17:23:09.033 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@32b5b8f8]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@58e61e18 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.Springboot4ExampleApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@6d9f624 key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@41477a6d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@54dcbb9f, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@69eb86b4, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@63429932, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@6f012914, org.springframework.boot.test.context.SpringBootTestAnnotation@8e528135], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 17:23:09.035 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@4306709f]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@58e61e18 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.Springboot4ExampleApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@6d9f624 key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@41477a6d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@54dcbb9f, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@69eb86b4, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@63429932, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@6f012914, org.springframework.boot.test.context.SpringBootTestAnnotation@8e528135], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 17:23:09.044 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.Springboot4ExampleApplicationTests
2025-11-28 17:23:09.045 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 17:23:09.062 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Starting Springboot4ExampleApplicationTests using Java 21.0.9 with PID 75309 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 17:23:09.062 DEBUG [ ] c.m.e.Springboot4ExampleApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 17:23:09.062 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - The following 1 profile is active: "test"
2025-11-28 17:23:09.063 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4b6abf4e
2025-11-28 17:23:09.195 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 17:23:09.216 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 17:23:09.216 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 17:23:09.216 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 17:23:09.217 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 17:23:09.217 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 17:23:09.217 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 17:23:09.218 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 17:23:09.218 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 17:23:09.219 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 17:23:09.252 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 17:23:09.259 WARN  [ ] o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/webmvc/autoconfigure/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'requestMappingHandlerMapping' parameter 0: Error creating bean with name 'mvcContentNegotiationManager' defined in class path resource [org/springframework/boot/webmvc/autoconfigure/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Failed to instantiate [org.springframework.web.accept.ContentNegotiationManager]: Factory method 'mvcContentNegotiationManager' threw exception with message: Error creating bean with name 'serverConvertersCustomizer' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/HttpMessageConvertersAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.http.converter.autoconfigure.ServerHttpMessageConvertersCustomizer]: Factory method 'serverConvertersCustomizer' threw exception with message: Error creating bean with name 'jacksonJsonHttpMessageConverter' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/JacksonHttpMessageConvertersConfiguration$JacksonJsonHttpMessageConverterConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonHttpMessageConverter' parameter 0: Error creating bean with name 'jacksonJsonMapper' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonMapper' parameter 0: Error creating bean with name 'jsonMapperBuilder' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jsonMapperBuilder' parameter 0: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
2025-11-28 17:23:09.259 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 17:23:09.260 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 17:23:09.261 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 17:23:09.261 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 17:23:09.264 INFO  [ ] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-28 17:23:09.264 ERROR [ ] o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to bind properties under 'spring.jackson.serialization' to java.util.Map<tools.jackson.databind.SerializationFeature, java.lang.Boolean>:

    Reason: failed to convert java.lang.String to tools.jackson.databind.SerializationFeature (caused by java.lang.IllegalArgumentException: No enum constant tools.jackson.databind.SerializationFeature.write-dates-as-timestamps)

Action:

Update your application's configuration. The following values are valid:

    CLOSE_CLOSEABLE
    EAGER_SERIALIZER_FETCH
    FAIL_ON_EMPTY_BEANS
    FAIL_ON_ORDER_MAP_BY_INCOMPARABLE_KEY
    FAIL_ON_SELF_REFERENCES
    FAIL_ON_UNWRAPPED_TYPE_IDENTIFIERS
    FLUSH_AFTER_WRITE_VALUE
    INDENT_OUTPUT
    ORDER_MAP_ENTRIES_BY_KEYS
    USE_EQUALITY_FOR_OBJECT_ID
    WRAP_EXCEPTIONS
    WRAP_ROOT_VALUE
    WRITE_CHAR_ARRAYS_AS_JSON_ARRAYS
    WRITE_EMPTY_JSON_ARRAYS
    WRITE_SELF_REFERENCES_AS_NULL
    WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED

2025-11-28 17:23:09.264 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.Springboot4ExampleApplicationTests@56a3da69]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@f5b08d4 testClass = com.mendes.example.Springboot4ExampleApplicationTests, locations = [], classes = [com.mendes.example.Springboot4ExampleApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.PropertyMappingContextCustomizer@0, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@41477a6d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@54dcbb9f, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@69eb86b4, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@63429932, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@6f012914, org.springframework.boot.test.context.SpringBootTestAnnotation@8e528135], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.lambda$loadContext$0(DefaultCacheAwareContextLoaderDelegate.java:195)
	at org.springframework.test.context.cache.DefaultContextCache.put(DefaultContextCache.java:172)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:160)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/webmvc/autoconfigure/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'requestMappingHandlerMapping' parameter 0: Error creating bean with name 'mvcContentNegotiationManager' defined in class path resource [org/springframework/boot/webmvc/autoconfigure/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Failed to instantiate [org.springframework.web.accept.ContentNegotiationManager]: Factory method 'mvcContentNegotiationManager' threw exception with message: Error creating bean with name 'serverConvertersCustomizer' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/HttpMessageConvertersAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.http.converter.autoconfigure.ServerHttpMessageConvertersCustomizer]: Factory method 'serverConvertersCustomizer' threw exception with message: Error creating bean with name 'jacksonJsonHttpMessageConverter' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/JacksonHttpMessageConvertersConfiguration$JacksonJsonHttpMessageConverterConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonHttpMessageConverter' parameter 0: Error creating bean with name 'jacksonJsonMapper' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonMapper' parameter 0: Error creating bean with name 'jsonMapperBuilder' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jsonMapperBuilder' parameter 0: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:983)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$2(SpringBootContextLoader.java:148)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1474)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:573)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:148)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:114)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:247)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.lambda$loadContext$0(DefaultCacheAwareContextLoaderDelegate.java:167)
	... 86 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcContentNegotiationManager' defined in class path resource [org/springframework/boot/webmvc/autoconfigure/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Failed to instantiate [org.springframework.web.accept.ContentNegotiationManager]: Factory method 'mvcContentNegotiationManager' threw exception with message: Error creating bean with name 'serverConvertersCustomizer' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/HttpMessageConvertersAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.http.converter.autoconfigure.ServerHttpMessageConvertersCustomizer]: Factory method 'serverConvertersCustomizer' threw exception with message: Error creating bean with name 'jacksonJsonHttpMessageConverter' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/JacksonHttpMessageConvertersConfiguration$JacksonJsonHttpMessageConverterConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonHttpMessageConverter' parameter 0: Error creating bean with name 'jacksonJsonMapper' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonMapper' parameter 0: Error creating bean with name 'jsonMapperBuilder' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jsonMapperBuilder' parameter 0: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:1225)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 112 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.accept.ContentNegotiationManager]: Factory method 'mvcContentNegotiationManager' threw exception with message: Error creating bean with name 'serverConvertersCustomizer' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/HttpMessageConvertersAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.http.converter.autoconfigure.ServerHttpMessageConvertersCustomizer]: Factory method 'serverConvertersCustomizer' threw exception with message: Error creating bean with name 'jacksonJsonHttpMessageConverter' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/JacksonHttpMessageConvertersConfiguration$JacksonJsonHttpMessageConverterConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonHttpMessageConverter' parameter 0: Error creating bean with name 'jacksonJsonMapper' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonMapper' parameter 0: Error creating bean with name 'jsonMapperBuilder' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jsonMapperBuilder' parameter 0: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:183)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:72)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:152)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 126 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serverConvertersCustomizer' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/HttpMessageConvertersAutoConfiguration.class]: Failed to instantiate [org.springframework.boot.http.converter.autoconfigure.ServerHttpMessageConvertersCustomizer]: Factory method 'serverConvertersCustomizer' threw exception with message: Error creating bean with name 'jacksonJsonHttpMessageConverter' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/JacksonHttpMessageConvertersConfiguration$JacksonJsonHttpMessageConverterConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonHttpMessageConverter' parameter 0: Error creating bean with name 'jacksonJsonMapper' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonMapper' parameter 0: Error creating bean with name 'jsonMapperBuilder' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jsonMapperBuilder' parameter 0: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:2015)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1971)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1711)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.resolveStream(DefaultListableBeanFactory.java:2654)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.orderedStream(DefaultListableBeanFactory.java:2648)
	at org.springframework.boot.webmvc.autoconfigure.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.configureMessageConverters(WebMvcAutoConfiguration.java:247)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurerComposite.configureMessageConverters(WebMvcConfigurerComposite.java:147)
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration.configureMessageConverters(DelegatingWebMvcConfiguration.java:126)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.createMessageConverters(WebMvcConfigurationSupport.java:871)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.addDefaultHttpMessageConverters(WebMvcConfigurationSupport.java:918)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.getMessageConverters(WebMvcConfigurationSupport.java:853)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.getDefaultMediaTypes(WebMvcConfigurationSupport.java:410)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.mvcContentNegotiationManager(WebMvcConfigurationSupport.java:401)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:155)
	... 129 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.http.converter.autoconfigure.ServerHttpMessageConvertersCustomizer]: Factory method 'serverConvertersCustomizer' threw exception with message: Error creating bean with name 'jacksonJsonHttpMessageConverter' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/JacksonHttpMessageConvertersConfiguration$JacksonJsonHttpMessageConverterConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonHttpMessageConverter' parameter 0: Error creating bean with name 'jacksonJsonMapper' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonMapper' parameter 0: Error creating bean with name 'jsonMapperBuilder' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jsonMapperBuilder' parameter 0: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:183)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:72)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:152)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 156 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jacksonJsonHttpMessageConverter' defined in class path resource [org/springframework/boot/http/converter/autoconfigure/JacksonHttpMessageConvertersConfiguration$JacksonJsonHttpMessageConverterConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonHttpMessageConverter' parameter 0: Error creating bean with name 'jacksonJsonMapper' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonMapper' parameter 0: Error creating bean with name 'jsonMapperBuilder' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jsonMapperBuilder' parameter 0: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:2015)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1971)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1792)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1711)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.resolveStream(DefaultListableBeanFactory.java:2654)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.orderedStream(DefaultListableBeanFactory.java:2648)
	at org.springframework.boot.http.converter.autoconfigure.HttpMessageConvertersAutoConfiguration.serverConvertersCustomizer(HttpMessageConvertersAutoConfiguration.java:85)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:155)
	... 159 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jacksonJsonMapper' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jacksonJsonMapper' parameter 0: Error creating bean with name 'jsonMapperBuilder' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jsonMapperBuilder' parameter 0: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 179 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonMapperBuilder' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration.class]: Unsatisfied dependency expressed through method 'jsonMapperBuilder' parameter 0: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:351)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 193 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'standardJsonMapperBuilderCustomizer' defined in class path resource [org/springframework/boot/jackson/autoconfigure/JacksonAutoConfiguration$JacksonJsonMapperBuilderCustomizerConfiguration.class]: Unsatisfied dependency expressed through method 'standardJsonMapperBuilderCustomizer' parameter 0: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:2008)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1971)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanCollection(DefaultListableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1711)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 205 common frames omitted
Caused by: org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.jackson-org.springframework.boot.jackson.autoconfigure.JacksonProperties': Could not bind properties to 'JacksonProperties' : prefix=spring.jackson, ignoreInvalidFields=false, ignoreUnknownFields=true
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:104)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:84)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:426)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1809)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 223 common frames omitted
Caused by: org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under 'spring.jackson.serialization' to java.util.Map<tools.jackson.databind.SerializationFeature, java.lang.Boolean>
	at org.springframework.boot.context.properties.bind.Binder.handleBindError(Binder.java:418)
	at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:377)
	at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$0(Binder.java:505)
	at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:127)
	at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:115)
	at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:71)
	at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$2(Binder.java:508)
	at org.springframework.boot.context.properties.bind.Binder.fromDataObjectBinders(Binder.java:517)
	at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$1(Binder.java:507)
	at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:632)
	at org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:618)
	at org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:509)
	at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:445)
	at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:373)
	at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:360)
	at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:287)
	at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:274)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:96)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:101)
	... 237 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [tools.jackson.databind.SerializationFeature] for value [write-dates-as-timestamps]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:181)
	at org.springframework.boot.context.properties.bind.BindConverter.convert(BindConverter.java:113)
	at org.springframework.boot.context.properties.bind.BindConverter.convert(BindConverter.java:104)
	at org.springframework.boot.context.properties.bind.MapBinder$EntryBinder.bindEntries(MapBinder.java:184)
	at org.springframework.boot.context.properties.bind.MapBinder.bindAggregate(MapBinder.java:76)
	at org.springframework.boot.context.properties.bind.AggregateBinder.bind(AggregateBinder.java:59)
	at org.springframework.boot.context.properties.bind.Binder.lambda$bindAggregate$2(Binder.java:469)
	at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:632)
	at org.springframework.boot.context.properties.bind.Binder.bindAggregate(Binder.java:470)
	at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:430)
	at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:373)
	... 254 common frames omitted
Caused by: java.lang.IllegalArgumentException: No enum constant tools.jackson.databind.SerializationFeature.write-dates-as-timestamps
	at org.springframework.boot.convert.LenientObjectToEnumConverterFactory$LenientToEnumConverter.findEnum(LenientObjectToEnumConverterFactory.java:95)
	at org.springframework.boot.convert.LenientObjectToEnumConverterFactory$LenientToEnumConverter.convert(LenientObjectToEnumConverterFactory.java:82)
	at org.springframework.boot.convert.LenientObjectToEnumConverterFactory$LenientToEnumConverter.convert(LenientObjectToEnumConverterFactory.java:63)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:406)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 265 common frames omitted
2025-11-28 17:29:48.247 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 17:29:48.330 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 17:29:48.439 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 17:29:48.561 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 78814 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 17:29:48.561 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 17:29:48.561 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 17:29:48.568 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@118ffcfd
2025-11-28 17:29:49.446 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 17:29:49.874 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 17:29:49.875 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 17:29:49.875 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 17:29:49.875 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 17:29:49.877 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 17:29:49.881 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 17:29:49.882 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 17:29:49.883 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 17:29:49.883 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 17:29:50.082 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 17:29:50.165 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 17:29:50.177 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 17:29:50.189 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 17:29:50.212 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 17:29:50.464 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 17:29:50.465 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 17:29:50.497 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.061 seconds (process running for 2.707)
2025-11-28 17:29:50.868 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 17:29:50.885 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 17:29:50.896 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 17:29:50.900 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:50.905 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:50.906 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:50.946 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 17:29:50.947 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 17:29:50.949 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 17:29:50.949 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/orders for request '/api/v1/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testGetOrdersByStatus_Success(OrderControllerIntegrationTest.java:290)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 17:29:50.953 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 17:29:50.954 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 17:29:50.960 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/orders for request '/api/v1/orders'.]
2025-11-28 17:29:50.976 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 17:29:50.978 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 17:29:50.981 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 17:29:50.981 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:50.982 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:50.983 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:50.984 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 17:29:50.985 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 17:29:50.985 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 17:29:50.985 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/orders for request '/api/v1/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCreateOrder_WithInvalidPizzaId_ShouldFail(OrderControllerIntegrationTest.java:376)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 17:29:50.986 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 17:29:50.986 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 17:29:50.986 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/orders for request '/api/v1/orders'.]
2025-11-28 17:29:50.991 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 17:29:50.991 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 17:29:50.993 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 17:29:50.994 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:50.994 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:50.995 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:50.996 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 17:29:50.996 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 17:29:50.996 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 17:29:50.997 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/orders for request '/api/v1/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testGetOrdersByCustomerId_Success(OrderControllerIntegrationTest.java:260)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 17:29:50.997 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 17:29:50.997 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 17:29:50.997 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/orders for request '/api/v1/orders'.]
2025-11-28 17:29:51.002 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 17:29:51.003 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 17:29:51.005 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 17:29:51.005 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:51.006 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:51.006 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:51.007 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 17:29:51.007 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 17:29:51.008 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 17:29:51.008 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/orders for request '/api/v1/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testConfirmOrder_Success(OrderControllerIntegrationTest.java:173)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 17:29:51.008 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 17:29:51.008 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 17:29:51.008 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/orders for request '/api/v1/orders'.]
2025-11-28 17:29:51.012 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 17:29:51.013 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 17:29:51.015 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 17:29:51.016 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:51.017 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:51.017 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:51.018 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 17:29:51.019 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 17:29:51.019 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 17:29:51.019 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/orders for request '/api/v1/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCreateOrder_Success(OrderControllerIntegrationTest.java:133)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 17:29:51.019 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 17:29:51.019 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 17:29:51.019 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/orders for request '/api/v1/orders'.]
2025-11-28 17:29:51.023 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 17:29:51.024 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 17:29:51.025 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 17:29:51.026 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:51.026 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:51.027 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:51.028 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 17:29:51.028 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 17:29:51.028 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 17:29:51.029 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/orders for request '/api/v1/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCreateOrder_WithNullItems_ShouldFail(OrderControllerIntegrationTest.java:350)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 17:29:51.029 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 17:29:51.029 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 17:29:51.029 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/orders for request '/api/v1/orders'.]
2025-11-28 17:29:51.033 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 17:29:51.034 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 17:29:51.035 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 17:29:51.036 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:51.036 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:51.037 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:51.038 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 17:29:51.038 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 17:29:51.038 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 17:29:51.038 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/orders for request '/api/v1/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCompleteOrderFlow_Success(OrderControllerIntegrationTest.java:207)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 17:29:51.039 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 17:29:51.039 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 17:29:51.039 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/orders for request '/api/v1/orders'.]
2025-11-28 17:29:51.042 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 17:29:51.043 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 17:29:51.045 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 17:29:51.045 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:51.046 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:51.046 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:51.047 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 17:29:51.047 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 17:29:51.048 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 17:29:51.048 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/orders for request '/api/v1/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:622)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testGetAllOrders_Success(OrderControllerIntegrationTest.java:149)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 17:29:51.048 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 17:29:51.048 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 17:29:51.048 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/orders for request '/api/v1/orders'.]
2025-11-28 17:29:51.052 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 17:29:51.052 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 17:29:51.054 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 17:29:51.054 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:51.055 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:51.055 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 17:29:51.056 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 17:29:51.057 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 17:29:51.057 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 17:29:51.057 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/orders for request '/api/v1/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCancelOrder_Success(OrderControllerIntegrationTest.java:325)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 17:29:51.057 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 17:29:51.057 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 17:29:51.057 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/v1/orders for request '/api/v1/orders'.]
2025-11-28 17:29:51.068 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.Springboot4ExampleApplicationTests
2025-11-28 17:29:51.071 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 17:29:51.087 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Starting Springboot4ExampleApplicationTests using Java 21.0.9 with PID 78814 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 17:29:51.087 DEBUG [ ] c.m.e.Springboot4ExampleApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 17:29:51.087 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - The following 1 profile is active: "test"
2025-11-28 17:29:51.087 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5ef53e42
2025-11-28 17:29:51.214 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 17:29:51.243 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 17:29:51.244 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 17:29:51.244 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 17:29:51.245 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 17:29:51.246 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 17:29:51.246 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 17:29:51.247 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 17:29:51.247 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 17:29:51.248 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 17:29:51.288 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 17:29:51.309 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 17:29:51.312 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 17:29:51.314 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 17:29:51.317 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 17:29:51.355 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Started Springboot4ExampleApplicationTests in 0.284 seconds (process running for 3.569)
2025-11-28 17:29:51.364 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@118ffcfd, started on Fri Nov 28 17:29:48 BRT 2025
2025-11-28 17:29:51.406 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:282)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1324)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1257)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1143)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1072)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1474)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1437)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 17:29:51.410 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 17:29:51.410 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 17:29:51.411 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 17:29:51.411 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 17:29:51.413 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@5ef53e42, started on Fri Nov 28 17:29:51 BRT 2025
2025-11-28 17:29:51.416 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:282)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1324)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1257)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1143)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1072)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1474)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1437)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 17:29:51.418 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 17:29:51.418 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 17:29:51.418 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 17:29:51.418 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:25:05.907 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 18:25:05.958 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 18:25:06.033 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:25:06.149 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 5010 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:25:06.149 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:25:06.149 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 18:25:06.156 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@118ffcfd
2025-11-28 18:25:07.042 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:25:07.464 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:25:07.465 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:25:07.465 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:25:07.465 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:25:07.467 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:25:07.471 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:25:07.472 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:25:07.473 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:25:07.473 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:25:07.658 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:25:07.735 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:25:07.745 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:25:07.756 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:25:07.779 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:25:08.012 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 18:25:08.013 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 18:25:08.047 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.013 seconds (process running for 2.584)
2025-11-28 18:25:08.407 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:25:08.423 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:25:08.433 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:25:08.437 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.441 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.441 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.480 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 18:25:08.481 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 18:25:08.483 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:25:08.483 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testGetOrdersByStatus_Success(OrderControllerIntegrationTest.java:300)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:25:08.487 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:25:08.488 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:25:08.494 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.]
2025-11-28 18:25:08.510 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:25:08.511 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:25:08.513 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:25:08.513 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.514 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.515 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.516 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 18:25:08.516 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 18:25:08.517 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:25:08.517 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCreateOrder_WithInvalidPizzaId_ShouldFail(OrderControllerIntegrationTest.java:386)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:25:08.517 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:25:08.517 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:25:08.518 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.]
2025-11-28 18:25:08.522 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:25:08.523 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:25:08.525 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:25:08.526 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.526 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.527 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.529 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 18:25:08.530 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 18:25:08.530 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:25:08.530 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testGetOrdersByCustomerId_Success(OrderControllerIntegrationTest.java:270)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:25:08.530 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:25:08.530 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:25:08.530 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.]
2025-11-28 18:25:08.535 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:25:08.536 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:25:08.538 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:25:08.539 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.539 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.540 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.541 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 18:25:08.541 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 18:25:08.541 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:25:08.541 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testConfirmOrder_Success(OrderControllerIntegrationTest.java:182)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:25:08.542 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:25:08.542 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:25:08.542 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.]
2025-11-28 18:25:08.546 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:25:08.547 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:25:08.549 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:25:08.550 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.550 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.551 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.552 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 18:25:08.552 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 18:25:08.552 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:25:08.552 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCreateOrder_Success(OrderControllerIntegrationTest.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:25:08.553 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:25:08.553 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:25:08.553 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.]
2025-11-28 18:25:08.557 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:25:08.558 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:25:08.559 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:25:08.559 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.560 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.561 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.562 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 18:25:08.562 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 18:25:08.562 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:25:08.562 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCreateOrder_WithNullItems_ShouldFail(OrderControllerIntegrationTest.java:360)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:25:08.562 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:25:08.563 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:25:08.563 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.]
2025-11-28 18:25:08.566 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:25:08.567 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:25:08.569 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:25:08.569 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.570 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.570 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.571 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 18:25:08.572 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 18:25:08.572 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:25:08.572 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCompleteOrderFlow_Success(OrderControllerIntegrationTest.java:216)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:25:08.572 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:25:08.572 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:25:08.573 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.]
2025-11-28 18:25:08.576 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:25:08.577 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:25:08.579 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:25:08.579 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.580 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.580 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.582 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 18:25:08.582 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 18:25:08.582 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:25:08.582 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:622)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testGetAllOrders_Success(OrderControllerIntegrationTest.java:158)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:25:08.582 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:25:08.582 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:25:08.583 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.]
2025-11-28 18:25:08.587 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:25:08.587 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:25:08.589 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:25:08.589 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.590 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.590 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:08.591 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 18:25:08.592 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 18:25:08.592 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:25:08.592 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCancelOrder_Success(OrderControllerIntegrationTest.java:335)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:25:08.592 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:25:08.592 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:25:08.592 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.]
2025-11-28 18:25:08.603 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.Springboot4ExampleApplicationTests
2025-11-28 18:25:08.605 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:25:08.619 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Starting Springboot4ExampleApplicationTests using Java 21.0.9 with PID 5010 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:25:08.620 DEBUG [ ] c.m.e.Springboot4ExampleApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:25:08.620 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - The following 1 profile is active: "test"
2025-11-28 18:25:08.620 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@64db8a3
2025-11-28 18:25:08.726 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:25:08.754 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:25:08.755 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:25:08.755 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:25:08.756 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:25:08.756 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:25:08.757 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:25:08.757 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:25:08.758 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:25:08.758 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:25:08.792 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:25:08.812 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:25:08.816 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:25:08.818 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:25:08.821 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:25:08.856 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Started Springboot4ExampleApplicationTests in 0.251 seconds (process running for 3.397)
2025-11-28 18:25:08.865 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@118ffcfd, started on Fri Nov 28 18:25:06 BRT 2025
2025-11-28 18:25:08.906 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:282)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1324)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1257)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1143)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1072)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1474)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1437)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:25:17.025 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:25:17.027 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:25:17.027 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:25:17.027 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:25:17.030 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@64db8a3, started on Fri Nov 28 18:25:08 BRT 2025
2025-11-28 18:25:17.032 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:282)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1324)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1257)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1143)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1072)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1474)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1437)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:25:17.035 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:25:17.035 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:25:17.036 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:25:17.036 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:25:57.245 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 18:25:57.294 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 18:25:57.365 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:25:57.482 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 5552 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:25:57.482 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:25:57.482 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 18:25:57.489 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@118ffcfd
2025-11-28 18:25:58.363 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:25:58.805 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:25:58.806 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:25:58.806 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:25:58.806 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:25:58.808 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:25:58.812 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:25:58.813 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:25:58.813 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:25:58.814 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:25:59.006 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:25:59.094 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:25:59.107 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:25:59.118 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:25:59.143 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:25:59.391 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 18:25:59.391 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 18:25:59.426 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.062 seconds (process running for 2.639)
2025-11-28 18:25:59.777 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:25:59.794 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:25:59.805 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:25:59.810 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.814 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.815 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.851 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 18:25:59.852 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 18:25:59.854 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:25:59.854 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testGetOrdersByStatus_Success(OrderControllerIntegrationTest.java:300)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:25:59.858 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:25:59.860 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:25:59.866 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.]
2025-11-28 18:25:59.881 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:25:59.882 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:25:59.884 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:25:59.884 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.885 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.885 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.887 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 18:25:59.887 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 18:25:59.888 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:25:59.888 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCreateOrder_WithInvalidPizzaId_ShouldFail(OrderControllerIntegrationTest.java:386)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:25:59.888 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:25:59.888 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:25:59.889 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.]
2025-11-28 18:25:59.893 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:25:59.894 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:25:59.895 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:25:59.896 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.897 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.897 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.899 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 18:25:59.899 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 18:25:59.899 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:25:59.899 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testGetOrdersByCustomerId_Success(OrderControllerIntegrationTest.java:270)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:25:59.900 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:25:59.900 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:25:59.900 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.]
2025-11-28 18:25:59.905 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:25:59.906 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:25:59.908 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:25:59.908 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.909 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.910 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.919 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 18:25:59.919 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 18:25:59.919 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:25:59.919 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testConfirmOrder_Success(OrderControllerIntegrationTest.java:182)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:25:59.920 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:25:59.920 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:25:59.920 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.]
2025-11-28 18:25:59.924 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:25:59.925 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:25:59.927 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:25:59.927 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.928 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.928 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.929 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 18:25:59.929 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 18:25:59.930 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:25:59.930 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCreateOrder_Success(OrderControllerIntegrationTest.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:25:59.930 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:25:59.930 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:25:59.930 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.]
2025-11-28 18:25:59.934 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:25:59.934 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:25:59.936 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:25:59.937 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.937 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.938 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.939 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 18:25:59.939 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 18:25:59.939 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:25:59.939 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCreateOrder_WithNullItems_ShouldFail(OrderControllerIntegrationTest.java:360)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:25:59.939 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:25:59.939 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:25:59.939 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.]
2025-11-28 18:25:59.943 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:25:59.943 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:25:59.945 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:25:59.945 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.946 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.946 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.947 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 18:25:59.947 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 18:25:59.948 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:25:59.948 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCompleteOrderFlow_Success(OrderControllerIntegrationTest.java:216)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:25:59.948 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:25:59.948 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:25:59.948 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.]
2025-11-28 18:25:59.951 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:25:59.952 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:25:59.953 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:25:59.953 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.954 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.954 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.955 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 18:25:59.956 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 18:25:59.956 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:25:59.956 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:622)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testGetAllOrders_Success(OrderControllerIntegrationTest.java:158)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:25:59.956 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:25:59.956 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:25:59.956 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.]
2025-11-28 18:25:59.959 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:25:59.960 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:25:59.962 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:25:59.962 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.962 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.963 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:25:59.964 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-28 18:25:59.964 DEBUG [ ] o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-28 18:25:59.964 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:25:59.964 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:527)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:50)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCancelOrder_Success(OrderControllerIntegrationTest.java:335)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:25:59.964 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:25:59.964 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:25:59.964 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders for request '/api/orders'.]
2025-11-28 18:25:59.974 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.Springboot4ExampleApplicationTests
2025-11-28 18:25:59.975 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:25:59.990 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Starting Springboot4ExampleApplicationTests using Java 21.0.9 with PID 5552 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:25:59.990 DEBUG [ ] c.m.e.Springboot4ExampleApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:25:59.990 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - The following 1 profile is active: "test"
2025-11-28 18:25:59.990 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@51102651
2025-11-28 18:26:00.102 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:282)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1324)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1257)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1143)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1072)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1474)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1437)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 8 common frames omitted
2025-11-28 18:26:00.106 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:26:00.130 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:26:00.131 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:26:00.131 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:26:00.132 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:26:00.132 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:26:00.133 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:26:00.133 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:26:00.134 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:26:00.134 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:26:00.167 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:26:00.187 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:26:00.190 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:26:00.192 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:26:00.194 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:26:00.253 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Started Springboot4ExampleApplicationTests in 0.277 seconds (process running for 3.47)
2025-11-28 18:26:00.261 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@118ffcfd, started on Fri Nov 28 18:25:57 BRT 2025
2025-11-28 18:26:00.264 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:282)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1324)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1257)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1143)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1072)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1474)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1437)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:26:00.267 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:26:00.268 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:26:00.268 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:26:00.268 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:26:00.270 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@51102651, started on Fri Nov 28 18:25:59 BRT 2025
2025-11-28 18:26:00.272 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:282)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1324)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1257)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1143)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1072)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1474)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1437)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:26:00.274 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:26:00.274 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:26:00.274 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:26:00.275 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:28:52.001 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 18:28:52.055 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 18:28:52.118 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:28:52.226 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.6 with PID 6976 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:28:52.226 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:28:52.226 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 18:28:52.233 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@53f4c1e6
2025-11-28 18:28:53.081 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:28:53.521 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:28:53.522 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:28:53.522 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:28:53.522 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:28:53.524 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:28:53.528 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:28:53.529 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:28:53.530 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:28:53.531 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:28:53.719 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:28:53.805 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:28:53.816 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:28:53.828 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:28:53.850 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:28:54.097 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 18:28:54.097 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 18:28:54.131 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.013 seconds (process running for 2.602)
2025-11-28 18:28:54.522 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:28:54.538 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:28:54.549 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:28:54.553 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.557 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.558 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.596 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:28:54.615 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=1, items=[OrderItemRequest(pizzaId=9, quantity=1, unitPrice=45.0)], no (truncated)...]
2025-11-28 18:28:54.621 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:28:54.622 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testGetOrdersByStatus_Success(OrderControllerIntegrationTest.java:301)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:28:54.625 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:28:54.626 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:28:54.631 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:28:54.646 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:28:54.646 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:28:54.648 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:28:54.649 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.649 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.650 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.651 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:28:54.651 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2, items=[OrderItemRequest(pizzaId=999, quantity=1, unitPrice=45.0)],  (truncated)...]
2025-11-28 18:28:54.652 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-28 18:28:54.653 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-28 18:28:54.653 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-28 18:28:54.653 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:28:54.653 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-28 18:28:54.654 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-28 18:28:54.657 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:28:54.658 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:28:54.660 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:28:54.660 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.661 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.661 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.662 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:28:54.662 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=3, items=[OrderItemRequest(pizzaId=13, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:28:54.663 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:28:54.663 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testGetOrdersByCustomerId_Success(OrderControllerIntegrationTest.java:271)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:28:54.663 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:28:54.663 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:28:54.664 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:28:54.667 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:28:54.668 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:28:54.669 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:28:54.670 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.670 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.671 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.672 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:28:54.672 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4, items=[OrderItemRequest(pizzaId=15, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:28:54.673 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:28:54.673 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testConfirmOrder_Success(OrderControllerIntegrationTest.java:183)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:28:54.673 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:28:54.673 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:28:54.673 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:28:54.677 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:28:54.677 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:28:54.679 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:28:54.679 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.680 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.680 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.681 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:28:54.681 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5, items=[OrderItemRequest(pizzaId=17, quantity=2, unitPrice=45.0), Or (truncated)...]
2025-11-28 18:28:54.682 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:28:54.682 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCreateOrder_Success(OrderControllerIntegrationTest.java:143)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:28:54.682 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:28:54.682 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:28:54.682 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:28:54.685 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:28:54.686 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:28:54.688 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:28:54.688 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.689 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.689 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.690 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:28:54.690 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6, items=[], notes=null)]
2025-11-28 18:28:54.690 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-28 18:28:54.690 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-28 18:28:54.690 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:28:54.691 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-28 18:28:54.691 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-28 18:28:54.707 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:28:54.707 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:28:54.709 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:28:54.709 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.710 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.710 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.711 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:28:54.712 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7, items=[OrderItemRequest(pizzaId=21, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:28:54.712 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:28:54.712 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCompleteOrderFlow_Success(OrderControllerIntegrationTest.java:217)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:28:54.712 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:28:54.712 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:28:54.713 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:28:54.716 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:28:54.717 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:28:54.718 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:28:54.719 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.719 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.719 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.722 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-28 18:28:54.723 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:28:54.724 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:28:54.725 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 18:28:54.730 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:28:54.731 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:28:54.733 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:28:54.733 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.733 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.734 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:28:54.735 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:28:54.735 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=9, items=[OrderItemRequest(pizzaId=25, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:28:54.735 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:28:54.735 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCancelOrder_Success(OrderControllerIntegrationTest.java:336)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:28:54.736 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:28:54.736 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:28:54.736 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:28:54.761 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@53f4c1e6, started on Fri Nov 28 18:28:52 BRT 2025
2025-11-28 18:28:54.828 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1461)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1432)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:29:02.328 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:29:02.331 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:29:02.332 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:29:02.332 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:29:08.691 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 18:29:08.738 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 18:29:08.795 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:29:08.900 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.6 with PID 7168 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:29:08.900 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:29:08.900 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 18:29:08.907 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@53f4c1e6
2025-11-28 18:29:09.701 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:29:10.116 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:29:10.116 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:29:10.116 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:29:10.117 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:29:10.119 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:29:10.123 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:29:10.123 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:29:10.124 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:29:10.125 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:29:10.310 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:29:10.401 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:29:10.413 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:29:10.422 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:29:10.442 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:29:10.652 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 18:29:10.652 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 18:29:10.685 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 1.891 seconds (process running for 2.43)
2025-11-28 18:29:11.034 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:29:11.049 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:29:11.059 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:29:11.063 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.067 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.068 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.104 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:29:11.123 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=1, items=[OrderItemRequest(pizzaId=9, quantity=1, unitPrice=45.0)], no (truncated)...]
2025-11-28 18:29:11.128 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:29:11.129 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testGetOrdersByStatus_Success(OrderControllerIntegrationTest.java:301)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:29:11.132 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:29:11.133 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:29:11.138 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:29:11.152 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:29:11.152 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:29:11.154 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:29:11.154 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.155 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.156 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.157 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:29:11.157 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2, items=[OrderItemRequest(pizzaId=999, quantity=1, unitPrice=45.0)],  (truncated)...]
2025-11-28 18:29:11.158 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-28 18:29:11.159 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-28 18:29:11.159 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-28 18:29:11.159 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:29:11.159 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-28 18:29:11.159 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-28 18:29:11.164 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:29:11.164 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:29:11.166 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:29:11.167 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.167 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.168 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.169 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:29:11.169 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=3, items=[OrderItemRequest(pizzaId=13, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:29:11.170 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:29:11.170 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testGetOrdersByCustomerId_Success(OrderControllerIntegrationTest.java:271)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:29:11.170 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:29:11.170 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:29:11.170 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:29:11.174 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:29:11.175 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:29:11.177 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:29:11.178 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.178 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.179 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.180 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:29:11.180 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4, items=[OrderItemRequest(pizzaId=15, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:29:11.180 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:29:11.181 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testConfirmOrder_Success(OrderControllerIntegrationTest.java:183)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:29:11.181 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:29:11.181 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:29:11.181 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:29:11.184 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:29:11.185 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:29:11.187 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:29:11.187 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.188 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.189 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.191 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:29:11.192 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5, items=[OrderItemRequest(pizzaId=17, quantity=2, unitPrice=45.0), Or (truncated)...]
2025-11-28 18:29:11.192 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:29:11.192 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCreateOrder_Success(OrderControllerIntegrationTest.java:143)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:29:11.192 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:29:11.192 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:29:11.193 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:29:11.197 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:29:11.197 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:29:11.199 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:29:11.199 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.200 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.200 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.201 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:29:11.201 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6, items=[], notes=null)]
2025-11-28 18:29:11.201 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-28 18:29:11.201 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-28 18:29:11.202 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:29:11.202 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-28 18:29:11.202 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-28 18:29:11.219 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:29:11.220 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:29:11.221 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:29:11.222 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.222 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.223 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.223 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:29:11.224 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7, items=[OrderItemRequest(pizzaId=21, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:29:11.224 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:29:11.224 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCompleteOrderFlow_Success(OrderControllerIntegrationTest.java:217)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:29:11.225 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:29:11.225 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:29:11.225 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:29:11.229 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:29:11.230 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:29:11.231 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:29:11.232 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.232 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.233 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.233 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-28 18:29:11.234 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:29:11.236 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:29:11.236 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 18:29:11.242 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:29:11.242 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:29:11.244 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:29:11.244 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.245 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.246 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:29:11.247 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:29:11.247 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=9, items=[OrderItemRequest(pizzaId=25, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:29:11.248 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:29:11.248 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCancelOrder_Success(OrderControllerIntegrationTest.java:336)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:29:11.248 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:29:11.248 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:29:11.248 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:29:11.276 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@53f4c1e6, started on Fri Nov 28 18:29:08 BRT 2025
2025-11-28 18:29:11.320 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1461)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1432)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:29:20.056 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:29:20.057 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:29:20.058 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:29:20.058 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:36:22.507 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 18:36:22.560 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 18:36:22.643 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:36:22.764 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 10743 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:36:22.764 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:36:22.764 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 18:36:22.771 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6342d610
2025-11-28 18:36:23.630 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:36:24.061 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:36:24.062 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:36:24.062 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:36:24.062 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:36:24.064 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:36:24.068 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:36:24.069 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:36:24.070 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:36:24.071 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:36:24.262 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:36:24.342 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:36:24.355 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:36:24.366 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:36:24.388 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:36:24.611 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 18:36:24.611 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 18:36:24.645 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.002 seconds (process running for 2.598)
2025-11-28 18:36:25.011 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:36:25.026 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:36:25.036 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:36:25.040 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.044 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.045 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.083 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:36:25.103 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=1, items=[OrderItemRequest(pizzaId=9, quantity=1, unitPrice=45.0)], no (truncated)...]
2025-11-28 18:36:25.108 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:36:25.108 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testGetOrdersByStatus_Success(OrderControllerIntegrationTest.java:301)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:36:25.112 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:36:25.113 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:36:25.120 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:36:25.137 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:36:25.137 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:36:25.139 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:36:25.140 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.141 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.141 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.142 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:36:25.143 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2, items=[OrderItemRequest(pizzaId=999, quantity=1, unitPrice=45.0)],  (truncated)...]
2025-11-28 18:36:25.144 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-28 18:36:25.145 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-28 18:36:25.145 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-28 18:36:25.145 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:36:25.145 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-28 18:36:25.146 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-28 18:36:25.151 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:36:25.152 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:36:25.154 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:36:25.154 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.155 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.156 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.157 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:36:25.157 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=3, items=[OrderItemRequest(pizzaId=13, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:36:25.158 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:36:25.158 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testGetOrdersByCustomerId_Success(OrderControllerIntegrationTest.java:271)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:36:25.158 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:36:25.158 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:36:25.158 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:36:25.163 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:36:25.164 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:36:25.166 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:36:25.166 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.167 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.167 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.168 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:36:25.169 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4, items=[OrderItemRequest(pizzaId=15, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:36:25.169 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:36:25.169 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testConfirmOrder_Success(OrderControllerIntegrationTest.java:183)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:36:25.169 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:36:25.169 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:36:25.170 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:36:25.173 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:36:25.174 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:36:25.176 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:36:25.177 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.177 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.178 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.179 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:36:25.179 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5, items=[OrderItemRequest(pizzaId=17, quantity=2, unitPrice=45.0), Or (truncated)...]
2025-11-28 18:36:25.180 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:36:25.180 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCreateOrder_Success(OrderControllerIntegrationTest.java:143)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:36:25.180 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:36:25.180 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:36:25.180 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:36:25.184 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:36:25.185 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:36:25.187 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:36:25.188 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.188 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.189 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.190 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:36:25.190 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6, items=[], notes=null)]
2025-11-28 18:36:25.190 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-28 18:36:25.190 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-28 18:36:25.190 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:36:25.191 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-28 18:36:25.191 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-28 18:36:25.208 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:36:25.209 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:36:25.211 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:36:25.211 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.212 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.212 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.213 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:36:25.214 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7, items=[OrderItemRequest(pizzaId=21, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:36:25.214 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:36:25.214 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCompleteOrderFlow_Success(OrderControllerIntegrationTest.java:217)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:36:25.215 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:36:25.215 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:36:25.215 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:36:25.218 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:36:25.219 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:36:25.220 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:36:25.221 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.221 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.222 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.223 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-28 18:36:25.224 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:36:25.225 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:36:25.225 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 18:36:25.231 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:36:25.232 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:36:25.233 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:36:25.234 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.235 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.235 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:36:25.236 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:36:25.236 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=9, items=[OrderItemRequest(pizzaId=25, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:36:25.236 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:36:25.237 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCancelOrder_Success(OrderControllerIntegrationTest.java:336)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-28 18:36:25.237 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:36:25.237 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:36:25.237 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:36:25.246 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.Springboot4ExampleApplicationTests
2025-11-28 18:36:25.247 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:36:25.262 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Starting Springboot4ExampleApplicationTests using Java 21.0.9 with PID 10743 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:36:25.262 DEBUG [ ] c.m.e.Springboot4ExampleApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:36:25.262 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - The following 1 profile is active: "test"
2025-11-28 18:36:25.263 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3514d1a4
2025-11-28 18:36:25.374 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:36:25.401 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:36:25.401 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:36:25.402 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:36:25.402 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:36:25.403 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:36:25.403 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:36:25.404 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:36:25.404 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:36:25.405 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:36:25.441 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:36:25.462 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:36:25.466 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:36:25.468 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:36:25.470 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:36:25.507 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Started Springboot4ExampleApplicationTests in 0.26 seconds (process running for 3.464)
2025-11-28 18:36:25.515 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@6342d610, started on Fri Nov 28 18:36:22 BRT 2025
2025-11-28 18:36:25.554 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:282)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1324)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1257)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1143)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1072)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1474)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1437)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:36:25.558 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:36:25.559 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:36:25.559 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:36:25.559 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:36:25.561 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@3514d1a4, started on Fri Nov 28 18:36:25 BRT 2025
2025-11-28 18:36:25.564 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:282)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1324)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1257)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1143)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1072)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1474)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1437)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:36:25.566 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:36:25.566 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:36:25.566 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:36:25.566 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:37:03.583 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 18:37:03.634 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 18:37:03.702 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:37:03.827 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 11067 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:37:03.827 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:37:03.827 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 18:37:03.836 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2849434b
2025-11-28 18:37:04.707 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:37:05.139 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:37:05.140 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:37:05.140 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:37:05.140 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:37:05.142 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:37:05.147 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:37:05.147 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:37:05.148 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:37:05.149 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:37:05.344 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:37:05.423 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:37:05.437 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:37:05.447 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:37:05.469 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:37:05.693 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 18:37:05.693 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 18:37:05.726 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.024 seconds (process running for 2.68)
2025-11-28 18:37:05.939 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:37:05.956 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:37:05.967 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:37:05.972 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:37:05.977 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:37:05.977 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:37:06.019 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:37:06.043 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=1, items=[OrderItemRequest(pizzaId=9, quantity=1, unitPrice=45.0)], no (truncated)...]
2025-11-28 18:37:06.049 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:37:06.049 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testGetOrdersByStatus_Success(OrderControllerIntegrationTest.java:301)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:93)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$0(InterceptingLauncher.java:41)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:40)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:67)
	at com.intellij.junit6.JUnit6IdeaTestRunner.startRunnerWithArgs(JUnit6IdeaTestRunner.java:67)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
2025-11-28 18:37:06.054 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:37:06.055 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:37:06.061 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:37:06.080 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@2849434b, started on Fri Nov 28 18:37:03 BRT 2025
2025-11-28 18:37:06.128 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:282)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1324)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1257)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1143)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1072)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1474)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1437)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:37:06.132 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:37:06.133 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:37:06.133 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:37:06.133 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:38:57.282 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 18:38:57.338 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 18:38:57.471 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:38:57.649 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 11980 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:38:57.649 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:38:57.649 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 18:38:57.659 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@a5272be
2025-11-28 18:38:58.567 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:38:59.073 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:38:59.079 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:38:59.079 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:38:59.079 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:38:59.082 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:38:59.087 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:38:59.088 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:38:59.089 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:38:59.089 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:38:59.281 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:38:59.373 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:38:59.388 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:38:59.400 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:38:59.424 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:38:59.675 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 18:38:59.676 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 18:38:59.712 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.251 seconds (process running for 2.982)
2025-11-28 18:39:00.071 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:39:00.088 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:39:00.098 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:39:00.103 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:39:00.107 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:39:00.108 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:39:00.112 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:39:00.131 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-28 18:39:00.298 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-28 18:39:00.304 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:39:00.304 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 18:39:00.343 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@a5272be, started on Fri Nov 28 18:38:57 BRT 2025
2025-11-28 18:39:00.383 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:282)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1324)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1257)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1143)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1072)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1474)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1437)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:39:00.388 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:39:00.388 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:39:00.389 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:39:00.389 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:40:18.462 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 18:40:18.516 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 18:40:18.587 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:40:18.739 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 12648 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:40:18.739 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:40:18.739 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 18:40:18.747 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2cae9b8
2025-11-28 18:40:19.632 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:40:20.090 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:40:20.090 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:40:20.090 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:40:20.091 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:40:20.093 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:40:20.097 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:40:20.098 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:40:20.099 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:40:20.099 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:40:20.288 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:40:20.384 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:40:20.396 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:40:20.407 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:40:20.431 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:40:20.666 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 18:40:20.667 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 18:40:20.701 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.115 seconds (process running for 2.796)
2025-11-28 18:40:21.052 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:40:21.069 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:40:21.080 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:40:21.084 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.089 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.089 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.094 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.115 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-28 18:40:21.283 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-28 18:40:21.289 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:40:21.289 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 18:40:21.331 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:40:21.332 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:40:21.334 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:40:21.335 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.336 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.336 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.356 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:40:21.372 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2, items=[OrderItemRequest(pizzaId=999, quantity=1, unitPrice=45.0)],  (truncated)...]
2025-11-28 18:40:21.375 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-28 18:40:21.376 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-28 18:40:21.377 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-28 18:40:21.377 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:40:21.378 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-28 18:40:21.382 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-28 18:40:21.387 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:40:21.388 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:40:21.390 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:40:21.390 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.391 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.391 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.392 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:40:21.393 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=3, items=[OrderItemRequest(pizzaId=13, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:40:21.394 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:40:21.394 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testGetOrdersByCustomerId_Success(OrderControllerIntegrationTest.java:271)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:93)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$0(InterceptingLauncher.java:41)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:40)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:67)
	at com.intellij.junit6.JUnit6IdeaTestRunner.startRunnerWithArgs(JUnit6IdeaTestRunner.java:67)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
2025-11-28 18:40:21.395 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:40:21.396 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:40:21.396 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:40:21.400 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:40:21.401 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:40:21.402 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:40:21.403 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.404 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.404 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.405 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:40:21.405 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4, items=[OrderItemRequest(pizzaId=15, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:40:21.406 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:40:21.406 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testConfirmOrder_Success(OrderControllerIntegrationTest.java:183)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:93)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$0(InterceptingLauncher.java:41)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:40)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:67)
	at com.intellij.junit6.JUnit6IdeaTestRunner.startRunnerWithArgs(JUnit6IdeaTestRunner.java:67)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
2025-11-28 18:40:21.407 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:40:21.407 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:40:21.407 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:40:21.411 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:40:21.411 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:40:21.413 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:40:21.414 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.414 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.414 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.415 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:40:21.416 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5, items=[OrderItemRequest(pizzaId=17, quantity=2, unitPrice=45.0), Or (truncated)...]
2025-11-28 18:40:21.416 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:40:21.416 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCreateOrder_Success(OrderControllerIntegrationTest.java:143)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:93)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$0(InterceptingLauncher.java:41)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:40)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:67)
	at com.intellij.junit6.JUnit6IdeaTestRunner.startRunnerWithArgs(JUnit6IdeaTestRunner.java:67)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
2025-11-28 18:40:21.417 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:40:21.417 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:40:21.417 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:40:21.421 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:40:21.422 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:40:21.423 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:40:21.423 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.424 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.425 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.426 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:40:21.426 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6, items=[], notes=null)]
2025-11-28 18:40:21.426 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-28 18:40:21.426 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-28 18:40:21.426 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:40:21.427 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-28 18:40:21.427 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-28 18:40:21.431 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:40:21.431 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:40:21.433 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:40:21.433 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.434 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.435 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.436 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:40:21.436 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7, items=[OrderItemRequest(pizzaId=21, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:40:21.437 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:40:21.437 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCompleteOrderFlow_Success(OrderControllerIntegrationTest.java:217)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:93)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$0(InterceptingLauncher.java:41)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:40)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:67)
	at com.intellij.junit6.JUnit6IdeaTestRunner.startRunnerWithArgs(JUnit6IdeaTestRunner.java:67)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
2025-11-28 18:40:21.437 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:40:21.437 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:40:21.437 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:40:21.441 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:40:21.442 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:40:21.444 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:40:21.444 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.445 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.445 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.446 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-28 18:40:21.447 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:40:21.448 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:40:21.448 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 18:40:21.451 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:40:21.452 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:40:21.454 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:40:21.454 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.455 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.455 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:40:21.456 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:40:21.456 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=9, items=[OrderItemRequest(pizzaId=25, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:40:21.457 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleGeneralException(Exception, WebRequest)
2025-11-28 18:40:21.457 ERROR [ ] c.m.e.s.e.GlobalExceptionHandler - Unexpected error: 
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1385)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.mendes.example.order.domain.Order.calculateTotalAmount(Order.java:65)
	at com.mendes.example.order.domain.Order.addItem(Order.java:71)
	at com.mendes.example.order.application.OrderService.createOrder(OrderService.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.mendes.example.order.application.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.mendes.example.order.presentation.OrderController.createOrder(OrderController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:160)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:127)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)
	at com.mendes.example.order.presentation.OrderControllerIntegrationTest.testCancelOrder_Success(OrderControllerIntegrationTest.java:320)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
	at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:93)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$0(InterceptingLauncher.java:41)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:40)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:67)
	at com.intellij.junit6.JUnit6IdeaTestRunner.startRunnerWithArgs(JUnit6IdeaTestRunner.java:67)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
2025-11-28 18:40:21.457 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:40:21.457 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/internal-server-error', title='Internal Server  (truncated)...]
2025-11-28 18:40:21.457 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-28 18:40:21.463 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@2cae9b8, started on Fri Nov 28 18:40:18 BRT 2025
2025-11-28 18:40:21.502 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:282)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1324)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1257)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1143)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1072)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1474)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1437)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:40:21.506 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:40:21.507 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:40:21.507 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:40:21.508 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:41:48.313 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 18:41:48.366 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 18:41:48.431 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:41:48.544 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.6 with PID 13787 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:41:48.545 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:41:48.545 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 18:41:48.552 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5a6fa56e
2025-11-28 18:41:49.428 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:41:49.888 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:41:49.889 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:41:49.889 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:41:49.889 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:41:49.891 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:41:49.895 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:41:49.896 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:41:49.897 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:41:49.897 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:41:50.093 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:41:50.168 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:41:50.179 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:41:50.188 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:41:50.208 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:41:50.438 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 18:41:50.439 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 18:41:50.473 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.041 seconds (process running for 2.639)
2025-11-28 18:41:50.844 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:41:50.861 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:41:50.872 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:41:50.876 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:50.881 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:50.882 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:50.886 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:50.905 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-28 18:41:51.057 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-28 18:41:51.062 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:41:51.063 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 18:41:51.096 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:41:51.097 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:41:51.099 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:41:51.100 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.101 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.101 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.121 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:41:51.135 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2, items=[OrderItemRequest(pizzaId=999, quantity=1, unitPrice=45.0)],  (truncated)...]
2025-11-28 18:41:51.138 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-28 18:41:51.140 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-28 18:41:51.140 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-28 18:41:51.140 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:41:51.142 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-28 18:41:51.146 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-28 18:41:51.150 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:41:51.151 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:41:51.153 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:41:51.153 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.154 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.154 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.156 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:41:51.157 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=3, items=[OrderItemRequest(pizzaId=13, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:41:51.158 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.159 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.160 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:41:51.161 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:41:51.167 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(Long)
2025-11-28 18:41:51.169 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-28 18:41:51.170 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:41:51.170 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemRes (truncated)...]
2025-11-28 18:41:51.175 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:41:51.175 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:41:51.177 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:41:51.177 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.178 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.178 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.179 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:41:51.179 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4, items=[OrderItemRequest(pizzaId=15, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:41:51.180 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.180 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.180 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:41:51.180 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:41:51.182 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:41:51.182 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 18:41:51.184 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:41:51.184 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 18:41:51.187 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:41:51.188 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:41:51.190 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:41:51.190 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.191 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.191 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.192 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:41:51.192 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5, items=[OrderItemRequest(pizzaId=17, quantity=2, unitPrice=45.0), Or (truncated)...]
2025-11-28 18:41:51.193 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.193 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.193 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.194 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:41:51.194 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=4, customerId=5, status=PENDING, totalAmount=140.0, notes=Sem cebola na primeira pi (truncated)...]
2025-11-28 18:41:51.197 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:41:51.197 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:41:51.199 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:41:51.199 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.200 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.200 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.201 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:41:51.201 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6, items=[], notes=null)]
2025-11-28 18:41:51.201 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-28 18:41:51.201 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-28 18:41:51.202 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:41:51.202 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-28 18:41:51.202 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-28 18:41:51.206 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:41:51.206 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:41:51.207 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:41:51.208 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.208 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.208 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.209 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:41:51.210 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7, items=[OrderItemRequest(pizzaId=21, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:41:51.210 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.211 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.211 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:41:51.211 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PENDING, totalAmount=45.0, notes=Entregar rpido, items=[Or (truncated)...]
2025-11-28 18:41:51.212 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:41:51.213 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 18:41:51.213 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:41:51.213 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=CONFIRMED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:41:51.214 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(Long)
2025-11-28 18:41:51.214 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:41:51.214 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PREPARING, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:41:51.215 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(Long)
2025-11-28 18:41:51.216 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:41:51.216 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=READY, totalAmount=45.0, notes=Entregar rpido, items=[Orde (truncated)...]
2025-11-28 18:41:51.216 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(Long)
2025-11-28 18:41:51.217 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:41:51.217 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=IN_DELIVERY, totalAmount=45.0, notes=Entregar rpido, items (truncated)...]
2025-11-28 18:41:51.218 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(Long)
2025-11-28 18:41:51.218 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:41:51.218 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=DELIVERED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:41:51.221 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:41:51.222 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:41:51.223 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:41:51.224 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.224 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.225 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.225 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-28 18:41:51.226 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:41:51.226 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:41:51.226 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 18:41:51.229 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:41:51.230 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:41:51.231 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:41:51.231 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.232 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.232 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.233 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:41:51.233 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=9, items=[OrderItemRequest(pizzaId=25, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:41:51.233 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.234 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:41:51.234 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:41:51.234 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:41:51.235 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:41:51.235 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(Long)
2025-11-28 18:41:51.236 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:41:51.236 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=CANCELLED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 18:41:51.260 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@5a6fa56e, started on Fri Nov 28 18:41:48 BRT 2025
2025-11-28 18:41:51.309 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1461)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1432)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:41:59.058 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:41:59.060 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:41:59.060 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:41:59.061 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:42:06.145 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 18:42:06.195 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 18:42:06.254 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:42:06.357 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.6 with PID 14113 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:42:06.358 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:42:06.358 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 18:42:06.365 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@53f4c1e6
2025-11-28 18:42:07.166 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:42:07.613 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:42:07.614 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:42:07.614 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:42:07.614 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:42:07.616 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:42:07.620 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:42:07.621 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:42:07.622 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:42:07.622 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:42:07.818 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:42:07.910 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:42:07.925 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:42:07.935 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:42:07.963 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:42:08.257 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 18:42:08.258 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 18:42:08.297 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.043 seconds (process running for 2.58)
2025-11-28 18:42:08.669 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:42:08.686 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:42:08.696 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:42:08.701 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:08.705 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:08.706 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:08.710 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:08.730 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-28 18:42:08.881 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-28 18:42:08.887 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:42:08.887 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 18:42:08.927 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:42:08.928 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:42:08.930 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:42:08.931 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:08.931 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:08.932 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:08.954 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:42:08.971 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2, items=[OrderItemRequest(pizzaId=999, quantity=1, unitPrice=45.0)],  (truncated)...]
2025-11-28 18:42:08.974 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-28 18:42:08.976 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-28 18:42:08.976 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-28 18:42:08.976 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:42:08.977 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-28 18:42:08.982 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-28 18:42:08.986 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:42:08.987 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:42:08.989 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:42:08.989 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:08.990 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:08.991 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:08.992 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:42:08.992 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=3, items=[OrderItemRequest(pizzaId=13, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:42:08.993 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:08.994 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:08.995 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:42:08.996 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:42:09.002 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(Long)
2025-11-28 18:42:09.004 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-28 18:42:09.005 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:42:09.005 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemRes (truncated)...]
2025-11-28 18:42:09.010 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:42:09.011 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:42:09.013 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:42:09.013 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.014 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.015 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.015 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:42:09.016 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4, items=[OrderItemRequest(pizzaId=15, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:42:09.016 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.016 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.017 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:42:09.017 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:42:09.018 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:42:09.019 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 18:42:09.020 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:42:09.020 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 18:42:09.023 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:42:09.024 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:42:09.025 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:42:09.026 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.026 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.027 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.028 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:42:09.028 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5, items=[OrderItemRequest(pizzaId=17, quantity=2, unitPrice=45.0), Or (truncated)...]
2025-11-28 18:42:09.029 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.029 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.029 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.030 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:42:09.030 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=4, customerId=5, status=PENDING, totalAmount=140.0, notes=Sem cebola na primeira pi (truncated)...]
2025-11-28 18:42:09.033 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:42:09.034 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:42:09.035 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:42:09.035 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.036 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.036 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.037 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:42:09.038 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6, items=[], notes=null)]
2025-11-28 18:42:09.038 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-28 18:42:09.038 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-28 18:42:09.038 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:42:09.038 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-28 18:42:09.038 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-28 18:42:09.041 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:42:09.042 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:42:09.044 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:42:09.044 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.045 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.045 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.054 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:42:09.055 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7, items=[OrderItemRequest(pizzaId=21, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:42:09.055 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.056 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.056 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:42:09.056 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PENDING, totalAmount=45.0, notes=Entregar rpido, items=[Or (truncated)...]
2025-11-28 18:42:09.058 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:42:09.058 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 18:42:09.059 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:42:09.059 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=CONFIRMED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:42:09.059 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(Long)
2025-11-28 18:42:09.060 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:42:09.060 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PREPARING, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:42:09.061 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(Long)
2025-11-28 18:42:09.061 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:42:09.062 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=READY, totalAmount=45.0, notes=Entregar rpido, items=[Orde (truncated)...]
2025-11-28 18:42:09.064 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(Long)
2025-11-28 18:42:09.064 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:42:09.064 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=IN_DELIVERY, totalAmount=45.0, notes=Entregar rpido, items (truncated)...]
2025-11-28 18:42:09.066 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(Long)
2025-11-28 18:42:09.066 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:42:09.066 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=DELIVERED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:42:09.070 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:42:09.071 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:42:09.072 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:42:09.072 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.073 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.073 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.074 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-28 18:42:09.074 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:42:09.075 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:42:09.075 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 18:42:09.078 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:42:09.078 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:42:09.079 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:42:09.080 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.080 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.080 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.081 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:42:09.081 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=9, items=[OrderItemRequest(pizzaId=25, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:42:09.082 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.082 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:42:09.082 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:42:09.083 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:42:09.084 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:42:09.084 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(Long)
2025-11-28 18:42:09.085 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:42:09.085 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=CANCELLED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 18:42:09.108 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@53f4c1e6, started on Fri Nov 28 18:42:06 BRT 2025
2025-11-28 18:42:09.168 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1461)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1432)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:42:17.401 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:42:17.403 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:42:17.403 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:42:17.404 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:44:25.444 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 18:44:25.496 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 18:44:25.558 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:44:25.670 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.6 with PID 15520 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:44:25.671 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:44:25.672 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 18:44:25.680 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@53f4c1e6
2025-11-28 18:44:26.506 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:44:26.934 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:44:26.935 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:44:26.935 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:44:26.935 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:44:26.938 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:44:26.942 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:44:26.943 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:44:26.944 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:44:26.944 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:44:27.132 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:44:27.206 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:44:27.216 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:44:27.226 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:44:27.246 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:44:27.474 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 18:44:27.474 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 18:44:27.506 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 1.948 seconds (process running for 2.508)
2025-11-28 18:44:27.898 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:44:27.914 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:44:27.925 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:44:27.929 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:27.934 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:27.934 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:27.938 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:27.942 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:44:27.943 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:44:27.943 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:44:27.943 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:44:27.944 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:44:27.944 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:44:27.944 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:44:27.944 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:44:27.964 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-28 18:44:28.114 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-28 18:44:28.119 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:44:28.119 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 18:44:28.153 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:44:28.154 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:44:28.156 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:44:28.157 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.157 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.158 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.175 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:44:28.188 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2, items=[OrderItemRequest(pizzaId=999, quantity=1, unitPrice=45.0)],  (truncated)...]
2025-11-28 18:44:28.191 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-28 18:44:28.192 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-28 18:44:28.193 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-28 18:44:28.193 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:44:28.194 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-28 18:44:28.197 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-28 18:44:28.204 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:44:28.204 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:44:28.206 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:44:28.206 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.207 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.207 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.208 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:44:28.208 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=3, items=[OrderItemRequest(pizzaId=13, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:44:28.210 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.210 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.211 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:44:28.213 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:44:28.217 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(Long)
2025-11-28 18:44:28.220 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-28 18:44:28.221 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:44:28.221 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemRes (truncated)...]
2025-11-28 18:44:28.225 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:44:28.226 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:44:28.228 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:44:28.228 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.229 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.229 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.230 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:44:28.230 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4, items=[OrderItemRequest(pizzaId=15, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:44:28.231 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.231 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.232 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:44:28.232 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:44:28.233 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:44:28.234 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 18:44:28.235 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:44:28.235 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 18:44:28.239 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:44:28.239 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:44:28.241 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:44:28.241 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.242 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.242 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.243 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:44:28.243 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5, items=[OrderItemRequest(pizzaId=17, quantity=2, unitPrice=45.0), Or (truncated)...]
2025-11-28 18:44:28.243 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.244 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.244 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.245 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:44:28.245 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=4, customerId=5, status=PENDING, totalAmount=140.0, notes=Sem cebola na primeira pi (truncated)...]
2025-11-28 18:44:28.248 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:44:28.249 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:44:28.250 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:44:28.250 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.251 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.251 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.252 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:44:28.252 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6, items=[], notes=null)]
2025-11-28 18:44:28.253 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-28 18:44:28.253 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-28 18:44:28.253 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:44:28.253 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-28 18:44:28.253 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-28 18:44:28.256 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:44:28.257 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:44:28.258 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:44:28.258 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.259 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.259 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.260 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:44:28.260 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7, items=[OrderItemRequest(pizzaId=21, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:44:28.261 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.261 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.261 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:44:28.261 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PENDING, totalAmount=45.0, notes=Entregar rpido, items=[Or (truncated)...]
2025-11-28 18:44:28.262 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:44:28.263 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 18:44:28.263 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:44:28.263 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=CONFIRMED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:44:28.264 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(Long)
2025-11-28 18:44:28.264 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:44:28.264 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PREPARING, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:44:28.265 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(Long)
2025-11-28 18:44:28.265 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:44:28.265 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=READY, totalAmount=45.0, notes=Entregar rpido, items=[Orde (truncated)...]
2025-11-28 18:44:28.266 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(Long)
2025-11-28 18:44:28.267 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:44:28.267 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=IN_DELIVERY, totalAmount=45.0, notes=Entregar rpido, items (truncated)...]
2025-11-28 18:44:28.267 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(Long)
2025-11-28 18:44:28.268 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:44:28.268 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=DELIVERED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:44:28.271 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:44:28.272 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:44:28.273 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:44:28.273 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.274 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.274 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.275 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-28 18:44:28.276 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:44:28.276 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:44:28.276 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 18:44:28.279 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:44:28.279 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:44:28.280 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:44:28.281 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.281 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.282 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.282 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:44:28.283 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=9, items=[OrderItemRequest(pizzaId=25, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:44:28.283 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.283 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:44:28.284 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:44:28.284 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:44:28.285 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:44:28.285 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(Long)
2025-11-28 18:44:28.286 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:44:28.286 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=CANCELLED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 18:44:28.307 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@53f4c1e6, started on Fri Nov 28 18:44:25 BRT 2025
2025-11-28 18:44:28.360 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1461)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1432)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:44:28.364 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:44:28.365 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:44:28.365 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:44:28.365 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:50:54.574 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 18:50:54.625 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 18:50:54.688 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:50:54.806 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.6 with PID 18652 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:50:54.806 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:50:54.806 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 18:50:54.813 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@53f4c1e6
2025-11-28 18:50:55.651 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:50:56.093 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:50:56.093 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:50:56.093 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:50:56.093 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:50:56.096 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:50:56.100 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:50:56.101 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:50:56.101 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:50:56.102 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:50:56.286 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:50:56.371 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:50:56.383 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:50:56.393 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:50:56.415 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:50:56.634 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 18:50:56.634 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 18:50:56.667 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 1.979 seconds (process running for 2.555)
2025-11-28 18:50:57.036 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:50:57.051 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:50:57.061 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:50:57.065 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.069 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.070 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.109 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:50:57.129 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=1, items=[OrderItemRequest(pizzaId=9, quantity=1, unitPrice=45.0)], no (truncated)...]
2025-11-28 18:50:57.137 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.138 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.142 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:50:57.143 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:50:57.155 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:50:57.156 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 18:50:57.157 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:50:57.158 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 18:50:57.160 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-28 18:50:57.296 DEBUG [ ] org.hibernate.SQL - 
    /* update
        
    for
        com.mendes.example.order.domain.Order */update orders 
    set
        customer_id=?,
        notes=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2025-11-28 18:50:57.298 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:50:57.299 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:50:57.299 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:50:57.299 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:50:57.299 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:50:57.299 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:50:57.299 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:50:57.300 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:50:57.300 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-28 18:50:57.301 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:50:57.302 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemR (truncated)...]
2025-11-28 18:50:57.324 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:50:57.324 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:50:57.326 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:50:57.327 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.328 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.328 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.329 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:50:57.329 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2, items=[OrderItemRequest(pizzaId=999, quantity=1, unitPrice=45.0)],  (truncated)...]
2025-11-28 18:50:57.330 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-28 18:50:57.331 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-28 18:50:57.331 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-28 18:50:57.332 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:50:57.333 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-28 18:50:57.336 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-28 18:50:57.342 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:50:57.342 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:50:57.344 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:50:57.344 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.345 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.345 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.346 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:50:57.346 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=3, items=[OrderItemRequest(pizzaId=13, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:50:57.347 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.347 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.347 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:50:57.348 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:50:57.348 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(Long)
2025-11-28 18:50:57.350 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-28 18:50:57.351 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:50:57.351 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemRes (truncated)...]
2025-11-28 18:50:57.355 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:50:57.356 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:50:57.357 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:50:57.358 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.358 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.359 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.368 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:50:57.368 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4, items=[OrderItemRequest(pizzaId=15, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:50:57.369 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.369 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.370 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:50:57.370 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:50:57.371 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:50:57.371 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 18:50:57.372 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:50:57.372 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 18:50:57.375 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:50:57.376 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:50:57.377 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:50:57.378 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.378 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.379 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.380 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:50:57.380 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5, items=[OrderItemRequest(pizzaId=17, quantity=2, unitPrice=45.0), Or (truncated)...]
2025-11-28 18:50:57.380 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.381 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.381 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.382 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:50:57.382 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=4, customerId=5, status=PENDING, totalAmount=140.0, notes=Sem cebola na primeira pi (truncated)...]
2025-11-28 18:50:57.385 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:50:57.386 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:50:57.387 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:50:57.387 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.388 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.388 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.389 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:50:57.389 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6, items=[], notes=null)]
2025-11-28 18:50:57.390 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-28 18:50:57.390 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-28 18:50:57.390 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:50:57.390 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-28 18:50:57.390 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-28 18:50:57.393 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:50:57.393 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:50:57.395 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:50:57.395 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.395 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.396 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.397 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:50:57.397 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7, items=[OrderItemRequest(pizzaId=21, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:50:57.397 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.398 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.398 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:50:57.398 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PENDING, totalAmount=45.0, notes=Entregar rpido, items=[Or (truncated)...]
2025-11-28 18:50:57.399 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:50:57.400 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 18:50:57.400 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:50:57.400 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=CONFIRMED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:50:57.401 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(Long)
2025-11-28 18:50:57.401 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:50:57.401 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PREPARING, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:50:57.402 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(Long)
2025-11-28 18:50:57.402 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:50:57.402 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=READY, totalAmount=45.0, notes=Entregar rpido, items=[Orde (truncated)...]
2025-11-28 18:50:57.403 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(Long)
2025-11-28 18:50:57.403 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:50:57.403 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=IN_DELIVERY, totalAmount=45.0, notes=Entregar rpido, items (truncated)...]
2025-11-28 18:50:57.404 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(Long)
2025-11-28 18:50:57.404 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:50:57.405 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=DELIVERED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:50:57.407 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:50:57.408 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:50:57.409 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:50:57.410 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.410 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.411 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.411 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-28 18:50:57.412 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:50:57.412 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:50:57.412 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 18:50:57.415 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:50:57.415 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:50:57.416 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:50:57.416 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.417 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.417 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.418 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:50:57.418 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=9, items=[OrderItemRequest(pizzaId=25, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:50:57.418 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.419 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:50:57.419 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:50:57.419 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:50:57.420 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:50:57.420 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(Long)
2025-11-28 18:50:57.421 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:50:57.421 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=CANCELLED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 18:50:57.443 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@53f4c1e6, started on Fri Nov 28 18:50:54 BRT 2025
2025-11-28 18:50:57.498 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1461)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1432)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:51:05.467 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:51:05.470 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:51:05.471 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:51:05.472 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:51:11.668 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 18:51:11.716 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 18:51:11.771 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:51:11.879 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.6 with PID 19099 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:51:11.879 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:51:11.879 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 18:51:11.886 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@53f4c1e6
2025-11-28 18:51:12.681 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:51:13.084 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:51:13.084 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:51:13.084 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:51:13.085 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:51:13.087 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:51:13.091 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:51:13.092 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:51:13.092 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:51:13.093 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:51:13.282 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:51:13.354 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:51:13.366 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:51:13.375 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:51:13.393 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:51:13.617 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 18:51:13.617 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 18:51:13.652 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 1.88 seconds (process running for 2.419)
2025-11-28 18:51:13.981 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:13.997 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:51:14.007 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:51:14.011 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.015 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.016 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.054 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:51:14.073 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=1, items=[OrderItemRequest(pizzaId=9, quantity=1, unitPrice=45.0)], no (truncated)...]
2025-11-28 18:51:14.082 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.083 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.087 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:14.088 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:51:14.100 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:14.101 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 18:51:14.103 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:14.103 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 18:51:14.104 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-28 18:51:14.243 DEBUG [ ] org.hibernate.SQL - 
    /* update
        
    for
        com.mendes.example.order.domain.Order */update orders 
    set
        customer_id=?,
        notes=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2025-11-28 18:51:14.246 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:51:14.246 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:51:14.246 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:51:14.247 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:51:14.247 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:51:14.247 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:51:14.247 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:51:14.247 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:51:14.248 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-28 18:51:14.249 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:14.249 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemR (truncated)...]
2025-11-28 18:51:14.269 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:14.270 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:51:14.272 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:51:14.272 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.273 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.273 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.274 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:51:14.274 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2, items=[OrderItemRequest(pizzaId=999, quantity=1, unitPrice=45.0)],  (truncated)...]
2025-11-28 18:51:14.275 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-28 18:51:14.276 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-28 18:51:14.276 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-28 18:51:14.277 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:51:14.278 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-28 18:51:14.281 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-28 18:51:14.288 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:14.289 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:51:14.290 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:51:14.291 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.291 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.292 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.293 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:51:14.293 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=3, items=[OrderItemRequest(pizzaId=13, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:51:14.293 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.294 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.294 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:14.294 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:51:14.295 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(Long)
2025-11-28 18:51:14.297 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-28 18:51:14.298 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:14.298 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemRes (truncated)...]
2025-11-28 18:51:14.302 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:14.303 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:51:14.304 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:51:14.305 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.305 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.306 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.306 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:51:14.307 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4, items=[OrderItemRequest(pizzaId=15, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:51:14.307 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.308 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.308 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:14.308 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:51:14.309 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:14.309 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 18:51:14.310 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:14.310 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 18:51:14.313 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:14.313 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:51:14.315 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:51:14.315 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.316 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.316 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.317 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:51:14.317 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5, items=[OrderItemRequest(pizzaId=17, quantity=2, unitPrice=45.0), Or (truncated)...]
2025-11-28 18:51:14.318 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.318 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.319 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.319 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:14.319 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=4, customerId=5, status=PENDING, totalAmount=140.0, notes=Sem cebola na primeira pi (truncated)...]
2025-11-28 18:51:14.322 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:14.323 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:51:14.324 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:51:14.324 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.325 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.325 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.326 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:51:14.326 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6, items=[], notes=null)]
2025-11-28 18:51:14.326 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-28 18:51:14.327 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-28 18:51:14.327 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:51:14.327 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-28 18:51:14.327 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-28 18:51:14.330 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:14.330 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:51:14.332 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:51:14.332 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.333 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.333 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.334 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:51:14.334 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7, items=[OrderItemRequest(pizzaId=21, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:51:14.335 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.335 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.335 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:14.335 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PENDING, totalAmount=45.0, notes=Entregar rpido, items=[Or (truncated)...]
2025-11-28 18:51:14.337 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:14.337 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 18:51:14.337 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:14.338 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=CONFIRMED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:51:14.340 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(Long)
2025-11-28 18:51:14.340 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:14.341 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PREPARING, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:51:14.342 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(Long)
2025-11-28 18:51:14.342 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:14.342 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=READY, totalAmount=45.0, notes=Entregar rpido, items=[Orde (truncated)...]
2025-11-28 18:51:14.343 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(Long)
2025-11-28 18:51:14.343 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:14.343 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=IN_DELIVERY, totalAmount=45.0, notes=Entregar rpido, items (truncated)...]
2025-11-28 18:51:14.344 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(Long)
2025-11-28 18:51:14.344 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:14.344 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=DELIVERED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:51:14.347 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:14.348 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:51:14.349 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:51:14.350 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.350 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.351 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.352 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-28 18:51:14.352 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:14.353 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:14.353 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 18:51:14.356 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:14.356 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:51:14.358 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:51:14.358 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.359 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.359 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.360 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:51:14.361 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=9, items=[OrderItemRequest(pizzaId=25, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:51:14.361 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.362 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:14.362 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:14.362 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:51:14.363 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:14.364 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(Long)
2025-11-28 18:51:14.365 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:14.365 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=CANCELLED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 18:51:14.389 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@53f4c1e6, started on Fri Nov 28 18:51:11 BRT 2025
2025-11-28 18:51:14.438 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1461)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1432)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:51:22.605 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:51:22.606 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:51:22.607 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:51:22.607 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:51:30.565 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 18:51:30.613 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 18:51:30.676 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:51:30.781 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.6 with PID 19431 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:51:30.781 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:51:30.782 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 18:51:30.788 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5a6fa56e
2025-11-28 18:51:31.583 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:51:31.985 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:51:31.986 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:51:31.986 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:51:31.986 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:51:31.989 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:51:31.993 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:51:31.994 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:51:31.994 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:51:31.995 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:51:32.178 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:51:32.251 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:51:32.262 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:51:32.271 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:51:32.292 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:51:32.520 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 18:51:32.520 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 18:51:32.553 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 1.876 seconds (process running for 2.437)
2025-11-28 18:51:32.913 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:32.929 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:51:32.939 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:51:32.944 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:32.948 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:32.949 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:32.984 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:51:33.002 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=1, items=[OrderItemRequest(pizzaId=9, quantity=1, unitPrice=45.0)], no (truncated)...]
2025-11-28 18:51:33.011 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.012 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.016 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:33.018 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:51:33.029 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:33.031 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 18:51:33.033 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:33.033 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 18:51:33.034 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-28 18:51:33.182 DEBUG [ ] org.hibernate.SQL - 
    /* update
        
    for
        com.mendes.example.order.domain.Order */update orders 
    set
        customer_id=?,
        notes=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2025-11-28 18:51:33.185 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:51:33.186 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:51:33.186 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:51:33.186 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:51:33.186 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:51:33.186 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:51:33.186 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:51:33.186 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:51:33.187 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-28 18:51:33.188 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:33.188 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemR (truncated)...]
2025-11-28 18:51:33.212 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:33.213 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:51:33.214 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:51:33.215 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.216 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.216 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.217 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:51:33.218 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2, items=[OrderItemRequest(pizzaId=999, quantity=1, unitPrice=45.0)],  (truncated)...]
2025-11-28 18:51:33.218 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-28 18:51:33.219 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-28 18:51:33.220 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-28 18:51:33.220 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:51:33.221 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-28 18:51:33.225 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-28 18:51:33.231 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:33.231 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:51:33.233 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:51:33.233 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.234 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.234 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.237 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:51:33.237 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=3, items=[OrderItemRequest(pizzaId=13, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:51:33.237 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.238 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.238 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:33.238 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:51:33.240 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(Long)
2025-11-28 18:51:33.242 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-28 18:51:33.242 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:33.243 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemRes (truncated)...]
2025-11-28 18:51:33.247 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:33.248 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:51:33.249 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:51:33.250 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.250 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.251 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.251 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:51:33.252 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4, items=[OrderItemRequest(pizzaId=15, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:51:33.252 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.253 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.253 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:33.253 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:51:33.254 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:33.255 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 18:51:33.256 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:33.256 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 18:51:33.259 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:33.259 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:51:33.260 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:51:33.261 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.261 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.262 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.263 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:51:33.263 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5, items=[OrderItemRequest(pizzaId=17, quantity=2, unitPrice=45.0), Or (truncated)...]
2025-11-28 18:51:33.263 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.264 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.264 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.264 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:33.265 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=4, customerId=5, status=PENDING, totalAmount=140.0, notes=Sem cebola na primeira pi (truncated)...]
2025-11-28 18:51:33.268 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:33.269 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:51:33.270 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:51:33.271 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.271 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.272 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.272 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:51:33.273 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6, items=[], notes=null)]
2025-11-28 18:51:33.273 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-28 18:51:33.273 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-28 18:51:33.273 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:51:33.273 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-28 18:51:33.273 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-28 18:51:33.277 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:33.277 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:51:33.279 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:51:33.279 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.280 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.280 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.281 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:51:33.282 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7, items=[OrderItemRequest(pizzaId=21, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:51:33.282 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.282 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.283 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:33.283 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PENDING, totalAmount=45.0, notes=Entregar rpido, items=[Or (truncated)...]
2025-11-28 18:51:33.284 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:33.285 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 18:51:33.285 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:33.285 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=CONFIRMED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:51:33.286 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(Long)
2025-11-28 18:51:33.286 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:33.286 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PREPARING, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:51:33.287 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(Long)
2025-11-28 18:51:33.287 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:33.287 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=READY, totalAmount=45.0, notes=Entregar rpido, items=[Orde (truncated)...]
2025-11-28 18:51:33.288 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(Long)
2025-11-28 18:51:33.289 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:33.289 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=IN_DELIVERY, totalAmount=45.0, notes=Entregar rpido, items (truncated)...]
2025-11-28 18:51:33.290 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(Long)
2025-11-28 18:51:33.290 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:33.290 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=DELIVERED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:51:33.293 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:33.293 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:51:33.295 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:51:33.295 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.296 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.296 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.297 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-28 18:51:33.298 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:33.298 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:33.298 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 18:51:33.302 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:33.303 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:51:33.304 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:51:33.304 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.305 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.305 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.306 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:51:33.307 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=9, items=[OrderItemRequest(pizzaId=25, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:51:33.307 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.307 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:51:33.308 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:33.308 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:51:33.309 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:51:33.309 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(Long)
2025-11-28 18:51:33.310 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:51:33.310 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=CANCELLED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 18:51:33.335 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@5a6fa56e, started on Fri Nov 28 18:51:30 BRT 2025
2025-11-28 18:51:33.384 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1461)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1432)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:51:41.597 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:51:41.600 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:51:41.600 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:51:41.601 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:57:44.798 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 18:57:44.849 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 18:57:44.924 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:57:45.040 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 22514 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:57:45.040 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:57:45.041 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 18:57:45.049 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@118ffcfd
2025-11-28 18:57:45.914 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:57:46.348 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:57:46.348 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:57:46.349 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:57:46.349 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:57:46.351 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:57:46.355 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:57:46.355 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:57:46.356 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:57:46.357 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:57:46.545 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:57:46.624 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:57:46.639 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:57:46.650 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:57:46.675 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:57:46.915 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 18:57:46.916 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 18:57:46.952 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.029 seconds (process running for 2.608)
2025-11-28 18:57:47.303 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:57:47.320 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:57:47.331 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:57:47.335 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.339 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.340 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.378 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:57:47.396 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=1, items=[OrderItemRequest(pizzaId=9, quantity=1, unitPrice=45.0)], no (truncated)...]
2025-11-28 18:57:47.403 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.405 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.409 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:57:47.410 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:57:47.423 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:57:47.424 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 18:57:47.426 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:57:47.426 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 18:57:47.427 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-28 18:57:47.576 DEBUG [ ] org.hibernate.SQL - 
    /* update
        
    for
        com.mendes.example.order.domain.Order */update orders 
    set
        customer_id=?,
        notes=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2025-11-28 18:57:47.579 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:57:47.579 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:57:47.579 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:57:47.580 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:57:47.580 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:57:47.580 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:57:47.580 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:57:47.580 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 18:57:47.581 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-28 18:57:47.582 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:57:47.582 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemR (truncated)...]
2025-11-28 18:57:47.607 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:57:47.608 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:57:47.611 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:57:47.611 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.612 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.613 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.615 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:57:47.616 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2, items=[OrderItemRequest(pizzaId=999, quantity=1, unitPrice=45.0)],  (truncated)...]
2025-11-28 18:57:47.616 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-28 18:57:47.618 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-28 18:57:47.618 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-28 18:57:47.619 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:57:47.620 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-28 18:57:47.624 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-28 18:57:47.630 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:57:47.631 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:57:47.633 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:57:47.634 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.634 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.635 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.635 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:57:47.636 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=3, items=[OrderItemRequest(pizzaId=13, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:57:47.636 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.637 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.637 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:57:47.637 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:57:47.638 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(Long)
2025-11-28 18:57:47.640 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-28 18:57:47.640 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:57:47.641 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemRes (truncated)...]
2025-11-28 18:57:47.646 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:57:47.646 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:57:47.648 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:57:47.648 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.649 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.649 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.650 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:57:47.651 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4, items=[OrderItemRequest(pizzaId=15, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:57:47.651 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.651 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.652 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:57:47.652 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:57:47.653 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:57:47.653 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 18:57:47.654 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:57:47.654 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 18:57:47.657 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:57:47.658 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:57:47.660 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:57:47.660 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.661 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.661 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.662 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:57:47.663 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5, items=[OrderItemRequest(pizzaId=17, quantity=2, unitPrice=45.0), Or (truncated)...]
2025-11-28 18:57:47.663 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.664 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.664 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.665 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:57:47.665 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=4, customerId=5, status=PENDING, totalAmount=140.0, notes=Sem cebola na primeira pi (truncated)...]
2025-11-28 18:57:47.669 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:57:47.670 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:57:47.671 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:57:47.672 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.672 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.673 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.674 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:57:47.675 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6, items=[], notes=null)]
2025-11-28 18:57:47.676 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-28 18:57:47.676 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-28 18:57:47.676 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 18:57:47.676 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-28 18:57:47.676 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-28 18:57:47.680 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:57:47.681 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:57:47.683 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:57:47.684 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.684 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.685 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.686 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:57:47.686 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7, items=[OrderItemRequest(pizzaId=21, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:57:47.687 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.688 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.688 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:57:47.688 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PENDING, totalAmount=45.0, notes=Entregar rpido, items=[Or (truncated)...]
2025-11-28 18:57:47.689 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:57:47.690 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 18:57:47.691 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:57:47.691 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=CONFIRMED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:57:47.692 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(Long)
2025-11-28 18:57:47.692 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:57:47.692 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PREPARING, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:57:47.693 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(Long)
2025-11-28 18:57:47.694 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:57:47.694 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=READY, totalAmount=45.0, notes=Entregar rpido, items=[Orde (truncated)...]
2025-11-28 18:57:47.694 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(Long)
2025-11-28 18:57:47.695 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:57:47.695 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=IN_DELIVERY, totalAmount=45.0, notes=Entregar rpido, items (truncated)...]
2025-11-28 18:57:47.696 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(Long)
2025-11-28 18:57:47.697 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:57:47.697 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=DELIVERED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 18:57:47.700 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:57:47.701 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:57:47.703 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:57:47.704 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.705 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.705 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.706 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-28 18:57:47.707 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:57:47.707 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:57:47.707 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 18:57:47.711 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:57:47.711 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 18:57:47.712 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 18:57:47.713 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.713 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.714 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.714 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 18:57:47.715 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=9, items=[OrderItemRequest(pizzaId=25, quantity=1, unitPrice=45.0)], n (truncated)...]
2025-11-28 18:57:47.715 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.715 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 18:57:47.716 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:57:47.716 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 18:57:47.717 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 18:57:47.718 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(Long)
2025-11-28 18:57:47.719 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 18:57:47.719 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=CANCELLED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 18:57:47.728 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.Springboot4ExampleApplicationTests
2025-11-28 18:57:47.730 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 18:57:47.747 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Starting Springboot4ExampleApplicationTests using Java 21.0.9 with PID 22514 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 18:57:47.747 DEBUG [ ] c.m.e.Springboot4ExampleApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 18:57:47.747 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - The following 1 profile is active: "test"
2025-11-28 18:57:47.748 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7342eb53
2025-11-28 18:57:47.902 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 18:57:47.929 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:57:47.930 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:57:47.930 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:57:47.931 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:57:47.931 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 18:57:47.932 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 18:57:47.932 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 18:57:47.933 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 18:57:47.933 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 18:57:47.971 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 18:57:47.992 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 18:57:47.996 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 18:57:47.998 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 18:57:48.001 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 18:57:48.037 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Started Springboot4ExampleApplicationTests in 0.307 seconds (process running for 3.698)
2025-11-28 18:57:48.047 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@118ffcfd, started on Fri Nov 28 18:57:45 BRT 2025
2025-11-28 18:57:48.090 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:282)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1324)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1257)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1143)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1072)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1474)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1437)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:57:56.166 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:57:56.168 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:57:56.169 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:57:56.169 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 18:57:56.175 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@7342eb53, started on Fri Nov 28 18:57:47 BRT 2025
2025-11-28 18:57:56.181 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:282)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1324)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1257)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1143)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1072)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1474)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1437)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 18:57:56.184 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 18:57:56.184 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 18:57:56.184 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 18:57:56.184 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:05:35.276 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 22:05:35.335 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 22:05:35.436 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 22:05:35.606 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.6 with PID 44049 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 22:05:35.606 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 22:05:35.607 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 22:05:35.617 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@68ab0936
2025-11-28 22:05:36.661 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 22:05:37.118 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:05:37.119 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:05:37.119 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:05:37.119 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:05:37.122 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 22:05:37.126 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 22:05:37.127 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 22:05:37.128 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 22:05:37.128 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 22:05:37.325 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 22:05:37.416 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 22:05:37.428 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 22:05:37.438 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 22:05:37.460 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 22:05:37.858 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 22:05:37.859 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 22:05:37.863 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-28 22:05:37.910 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.485 seconds (process running for 3.165)
2025-11-28 22:05:38.314 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:38.339 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:05:38.348 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:05:38.353 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.357 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.358 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.397 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:05:38.418 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=1, items=[OrderItemRequest(pizzaId=9, quantity=1)], notes=null)]
2025-11-28 22:05:38.426 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.427 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.432 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:38.434 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:05:38.446 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:38.449 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 22:05:38.451 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:38.451 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 22:05:38.453 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-28 22:05:38.600 DEBUG [ ] org.hibernate.SQL - 
    /* update
        
    for
        com.mendes.example.order.domain.Order */update orders 
    set
        customer_id=?,
        notes=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2025-11-28 22:05:38.603 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:05:38.603 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:05:38.603 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:05:38.604 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:05:38.604 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:05:38.604 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:05:38.604 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:05:38.604 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:05:38.604 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-28 22:05:38.606 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:38.606 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemR (truncated)...]
2025-11-28 22:05:38.640 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:38.641 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:05:38.647 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:05:38.648 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.649 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.651 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.653 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:05:38.653 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2, items=[OrderItemRequest(pizzaId=999, quantity=1)], notes=null)]
2025-11-28 22:05:38.654 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-28 22:05:38.656 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-28 22:05:38.656 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-28 22:05:38.656 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 22:05:38.658 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-28 22:05:38.662 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-28 22:05:38.669 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:38.669 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:05:38.671 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:05:38.671 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.672 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.672 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.673 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:05:38.673 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=3, items=[OrderItemRequest(pizzaId=13, quantity=1)], notes=null)]
2025-11-28 22:05:38.674 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.674 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.675 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:38.675 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:05:38.676 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(Long)
2025-11-28 22:05:38.678 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-28 22:05:38.679 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:38.679 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemRes (truncated)...]
2025-11-28 22:05:38.684 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:38.685 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:05:38.686 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:05:38.686 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.687 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.688 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.688 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:05:38.689 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4, items=[OrderItemRequest(pizzaId=15, quantity=1)], notes=null)]
2025-11-28 22:05:38.689 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.690 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.690 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:38.690 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:05:38.691 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:38.692 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 22:05:38.692 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:38.692 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 22:05:38.695 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:38.696 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:05:38.697 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:05:38.698 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.698 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.699 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.699 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:05:38.700 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5, items=[OrderItemRequest(pizzaId=17, quantity=2), OrderItemRequest(p (truncated)...]
2025-11-28 22:05:38.700 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.701 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.701 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.701 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:38.701 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=4, customerId=5, status=PENDING, totalAmount=140.0, notes=Sem cebola na primeira pi (truncated)...]
2025-11-28 22:05:38.705 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:38.706 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:05:38.707 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:05:38.707 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.708 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.708 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.709 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:05:38.709 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6, items=[], notes=null)]
2025-11-28 22:05:38.710 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-28 22:05:38.710 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-28 22:05:38.710 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 22:05:38.710 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-28 22:05:38.710 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-28 22:05:38.714 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:38.714 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:05:38.716 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:05:38.716 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.716 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.717 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.718 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:05:38.718 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7, items=[OrderItemRequest(pizzaId=21, quantity=1)], notes=Entregar r (truncated)...]
2025-11-28 22:05:38.718 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.719 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.719 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:38.719 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PENDING, totalAmount=45.0, notes=Entregar rpido, items=[Or (truncated)...]
2025-11-28 22:05:38.720 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:38.721 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 22:05:38.722 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:38.722 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=CONFIRMED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 22:05:38.722 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(Long)
2025-11-28 22:05:38.723 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:38.723 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PREPARING, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 22:05:38.724 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(Long)
2025-11-28 22:05:38.724 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:38.724 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=READY, totalAmount=45.0, notes=Entregar rpido, items=[Orde (truncated)...]
2025-11-28 22:05:38.725 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(Long)
2025-11-28 22:05:38.725 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:38.726 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=IN_DELIVERY, totalAmount=45.0, notes=Entregar rpido, items (truncated)...]
2025-11-28 22:05:38.726 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(Long)
2025-11-28 22:05:38.727 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:38.727 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=DELIVERED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 22:05:38.731 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:38.732 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:05:38.733 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:05:38.734 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.734 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.735 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.735 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-28 22:05:38.736 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:38.736 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:38.736 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 22:05:38.740 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:38.740 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:05:38.742 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:05:38.742 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.743 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.744 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.744 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:05:38.745 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=9, items=[OrderItemRequest(pizzaId=25, quantity=1)], notes=null)]
2025-11-28 22:05:38.745 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.746 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:38.746 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:38.746 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:05:38.747 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:38.748 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(Long)
2025-11-28 22:05:38.748 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:38.748 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=CANCELLED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 22:05:38.773 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@68ab0936, started on Fri Nov 28 22:05:35 BRT 2025
2025-11-28 22:05:38.846 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-28 22:05:38.891 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:05:38.892 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:05:38.892 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:05:38.892 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:05:56.944 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 22:05:56.996 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 22:05:57.062 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 22:05:57.172 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.6 with PID 44514 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 22:05:57.172 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 22:05:57.172 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 22:05:57.179 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@68ab0936
2025-11-28 22:05:58.135 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 22:05:58.572 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:05:58.573 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:05:58.573 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:05:58.573 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:05:58.575 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 22:05:58.579 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 22:05:58.580 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 22:05:58.580 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 22:05:58.581 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 22:05:58.776 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 22:05:58.864 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 22:05:58.877 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 22:05:58.888 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 22:05:58.909 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 22:05:59.196 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 22:05:59.196 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 22:05:59.200 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-28 22:05:59.243 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.181 seconds (process running for 2.812)
2025-11-28 22:05:59.613 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:59.630 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:05:59.641 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:05:59.645 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.650 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.650 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.689 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:05:59.709 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=1, items=[OrderItemRequest(pizzaId=9, quantity=1)], notes=null)]
2025-11-28 22:05:59.719 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.720 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.725 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:59.726 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:05:59.738 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:59.740 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 22:05:59.741 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:59.742 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 22:05:59.743 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-28 22:05:59.883 DEBUG [ ] org.hibernate.SQL - 
    /* update
        
    for
        com.mendes.example.order.domain.Order */update orders 
    set
        customer_id=?,
        notes=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2025-11-28 22:05:59.886 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:05:59.886 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:05:59.887 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:05:59.887 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:05:59.887 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:05:59.887 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:05:59.887 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:05:59.887 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:05:59.888 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-28 22:05:59.889 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:59.889 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemR (truncated)...]
2025-11-28 22:05:59.913 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:59.913 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:05:59.915 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:05:59.916 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.917 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.917 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.918 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:05:59.918 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2, items=[OrderItemRequest(pizzaId=999, quantity=1)], notes=null)]
2025-11-28 22:05:59.919 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-28 22:05:59.920 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-28 22:05:59.920 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-28 22:05:59.920 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 22:05:59.922 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-28 22:05:59.925 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-28 22:05:59.938 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:59.939 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:05:59.940 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:05:59.941 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.942 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.942 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.943 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:05:59.943 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=3, items=[OrderItemRequest(pizzaId=13, quantity=1)], notes=null)]
2025-11-28 22:05:59.944 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.944 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.944 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:59.944 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:05:59.950 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(Long)
2025-11-28 22:05:59.953 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-28 22:05:59.954 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:59.954 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemRes (truncated)...]
2025-11-28 22:05:59.959 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:59.960 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:05:59.961 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:05:59.962 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.962 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.963 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.964 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:05:59.964 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4, items=[OrderItemRequest(pizzaId=15, quantity=1)], notes=null)]
2025-11-28 22:05:59.964 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.965 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.965 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:59.965 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:05:59.966 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:59.967 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 22:05:59.968 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:59.968 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 22:05:59.971 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:59.972 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:05:59.974 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:05:59.974 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.975 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.975 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.976 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:05:59.977 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5, items=[OrderItemRequest(pizzaId=17, quantity=2), OrderItemRequest(p (truncated)...]
2025-11-28 22:05:59.977 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.978 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.978 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.978 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:59.978 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=4, customerId=5, status=PENDING, totalAmount=140.0, notes=Sem cebola na primeira pi (truncated)...]
2025-11-28 22:05:59.982 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:59.983 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:05:59.984 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:05:59.985 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.985 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.986 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.987 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:05:59.987 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6, items=[], notes=null)]
2025-11-28 22:05:59.987 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-28 22:05:59.987 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-28 22:05:59.987 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 22:05:59.988 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-28 22:05:59.988 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-28 22:05:59.991 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:59.992 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:05:59.993 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:05:59.994 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.994 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.994 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.995 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:05:59.996 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7, items=[OrderItemRequest(pizzaId=21, quantity=1)], notes=Entregar r (truncated)...]
2025-11-28 22:05:59.996 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.996 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:05:59.997 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:59.997 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PENDING, totalAmount=45.0, notes=Entregar rpido, items=[Or (truncated)...]
2025-11-28 22:05:59.998 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:05:59.999 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 22:05:59.999 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:05:59.999 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=CONFIRMED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 22:06:00.000 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(Long)
2025-11-28 22:06:00.000 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:06:00.001 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PREPARING, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 22:06:00.001 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(Long)
2025-11-28 22:06:00.002 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:06:00.002 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=READY, totalAmount=45.0, notes=Entregar rpido, items=[Orde (truncated)...]
2025-11-28 22:06:00.003 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(Long)
2025-11-28 22:06:00.003 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:06:00.004 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=IN_DELIVERY, totalAmount=45.0, notes=Entregar rpido, items (truncated)...]
2025-11-28 22:06:00.004 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(Long)
2025-11-28 22:06:00.005 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:06:00.005 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=DELIVERED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 22:06:00.009 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:06:00.009 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:06:00.011 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:06:00.011 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:06:00.012 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:06:00.013 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:06:00.013 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-28 22:06:00.014 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:06:00.014 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:06:00.014 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 22:06:00.019 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:06:00.020 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:06:00.021 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:06:00.021 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:06:00.022 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:06:00.022 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:06:00.023 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:06:00.024 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=9, items=[OrderItemRequest(pizzaId=25, quantity=1)], notes=null)]
2025-11-28 22:06:00.024 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:06:00.024 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:06:00.025 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:06:00.025 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:06:00.026 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:06:00.027 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(Long)
2025-11-28 22:06:00.027 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:06:00.028 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=CANCELLED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 22:06:00.038 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.Springboot4ExampleApplicationTests
2025-11-28 22:06:00.039 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 22:06:00.054 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Starting Springboot4ExampleApplicationTests using Java 21.0.6 with PID 44514 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 22:06:00.055 DEBUG [ ] c.m.e.Springboot4ExampleApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 22:06:00.055 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - The following 1 profile is active: "test"
2025-11-28 22:06:00.055 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@ba59da9
2025-11-28 22:06:00.181 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 22:06:00.204 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:06:00.205 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:06:00.205 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:06:00.205 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:06:00.206 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 22:06:00.206 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 22:06:00.207 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 22:06:00.207 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 22:06:00.208 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 22:06:00.250 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 22:06:00.267 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 22:06:00.271 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 22:06:00.273 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 22:06:00.275 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 22:06:00.328 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-28 22:06:00.338 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Started Springboot4ExampleApplicationTests in 0.299 seconds (process running for 3.911)
2025-11-28 22:06:00.351 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@68ab0936, started on Fri Nov 28 22:05:57 BRT 2025
2025-11-28 22:06:00.405 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-28 22:06:00.410 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:06:00.411 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:06:00.411 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:06:00.411 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:06:00.413 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@ba59da9, started on Fri Nov 28 22:06:00 BRT 2025
2025-11-28 22:06:00.417 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-28 22:06:00.419 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:06:00.420 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:06:00.420 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:06:00.420 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:07:46.094 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 22:07:46.144 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 22:07:46.215 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 22:07:46.345 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.6 with PID 45984 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 22:07:46.345 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 22:07:46.345 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 22:07:46.352 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3d4e405e
2025-11-28 22:07:47.337 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 22:07:47.842 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:07:47.843 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:07:47.843 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:07:47.843 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:07:47.845 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 22:07:47.849 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 22:07:47.850 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 22:07:47.851 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 22:07:47.852 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 22:07:48.107 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 22:07:48.232 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 22:07:48.249 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 22:07:48.261 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 22:07:48.285 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 22:07:48.586 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 22:07:48.587 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 22:07:48.598 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-28 22:07:48.650 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.434 seconds (process running for 3.034)
2025-11-28 22:07:49.032 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:07:49.048 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:07:49.060 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:07:49.064 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:07:49.069 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:07:49.069 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:07:49.110 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:07:49.130 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=1, items=[OrderItemRequest(pizzaId=9, quantity=2), OrderItemRequest(pi (truncated)...]
2025-11-28 22:07:49.139 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:07:49.140 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:07:49.141 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:07:49.145 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:07:49.146 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=PENDING, totalAmount=140.0, notes=Sem cebola na primeira pi (truncated)...]
2025-11-28 22:07:49.200 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@3d4e405e, started on Fri Nov 28 22:07:46 BRT 2025
2025-11-28 22:07:49.260 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-28 22:07:49.264 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:07:49.265 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:07:49.265 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:07:49.266 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:20:20.469 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 22:20:20.525 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 22:20:20.592 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 22:20:20.714 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.6 with PID 53324 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 22:20:20.714 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 22:20:20.714 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 22:20:20.723 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@68ab0936
2025-11-28 22:20:21.651 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 22:20:22.114 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:20:22.114 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:20:22.114 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:20:22.114 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:20:22.117 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 22:20:22.121 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 22:20:22.122 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 22:20:22.122 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 22:20:22.123 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 22:20:22.314 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 22:20:22.390 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 22:20:22.402 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 22:20:22.411 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 22:20:22.433 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 22:20:22.734 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 22:20:22.734 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 22:20:22.737 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-28 22:20:22.781 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.188 seconds (process running for 2.865)
2025-11-28 22:20:23.160 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:20:23.177 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:20:23.188 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:20:23.193 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.197 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.198 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.239 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:20:23.257 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=1, items=[OrderItemRequest(pizzaId=9, quantity=1)], notes=null)]
2025-11-28 22:20:23.265 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.266 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.270 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:20:23.271 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:20:23.284 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:20:23.285 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 22:20:23.287 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:20:23.287 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 22:20:23.289 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-28 22:20:23.432 DEBUG [ ] org.hibernate.SQL - 
    /* update
        
    for
        com.mendes.example.order.domain.Order */update orders 
    set
        customer_id=?,
        notes=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2025-11-28 22:20:23.435 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:20:23.435 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:20:23.435 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:20:23.436 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:20:23.436 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:20:23.436 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:20:23.436 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:20:23.436 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:20:23.437 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-28 22:20:23.438 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:20:23.438 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemR (truncated)...]
2025-11-28 22:20:23.464 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:20:23.465 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:20:23.467 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:20:23.468 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.468 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.469 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.470 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:20:23.471 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2, items=[OrderItemRequest(pizzaId=999, quantity=1)], notes=null)]
2025-11-28 22:20:23.471 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-28 22:20:23.483 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-28 22:20:23.483 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-28 22:20:23.484 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 22:20:23.487 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-28 22:20:23.491 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-28 22:20:23.501 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:20:23.502 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:20:23.504 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:20:23.504 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.505 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.505 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.506 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:20:23.507 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=3, items=[OrderItemRequest(pizzaId=13, quantity=1)], notes=null)]
2025-11-28 22:20:23.507 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.507 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.508 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:20:23.508 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:20:23.509 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(Long)
2025-11-28 22:20:23.511 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-28 22:20:23.512 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:20:23.512 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemRes (truncated)...]
2025-11-28 22:20:23.518 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:20:23.519 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:20:23.520 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:20:23.521 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.521 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.522 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.522 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:20:23.523 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4, items=[OrderItemRequest(pizzaId=15, quantity=1)], notes=null)]
2025-11-28 22:20:23.523 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.523 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.524 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:20:23.524 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:20:23.525 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:20:23.525 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 22:20:23.526 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:20:23.526 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 22:20:23.530 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:20:23.531 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:20:23.532 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:20:23.533 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.533 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.534 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.535 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:20:23.535 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5, items=[OrderItemRequest(pizzaId=17, quantity=2), OrderItemRequest(p (truncated)...]
2025-11-28 22:20:23.536 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.536 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.536 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.537 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:20:23.537 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=4, customerId=5, status=PENDING, totalAmount=140.0, notes=Sem cebola na primeira pi (truncated)...]
2025-11-28 22:20:23.540 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:20:23.541 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:20:23.542 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:20:23.543 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.543 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.544 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.545 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:20:23.545 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6, items=[], notes=null)]
2025-11-28 22:20:23.545 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-28 22:20:23.545 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-28 22:20:23.545 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 22:20:23.545 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-28 22:20:23.546 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-28 22:20:23.549 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:20:23.550 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:20:23.551 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:20:23.551 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.552 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.552 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.553 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:20:23.554 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7, items=[OrderItemRequest(pizzaId=21, quantity=1)], notes=Entregar r (truncated)...]
2025-11-28 22:20:23.554 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.554 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.555 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:20:23.555 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PENDING, totalAmount=45.0, notes=Entregar rpido, items=[Or (truncated)...]
2025-11-28 22:20:23.556 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:20:23.557 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 22:20:23.557 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:20:23.557 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=CONFIRMED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 22:20:23.558 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(Long)
2025-11-28 22:20:23.558 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:20:23.559 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PREPARING, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 22:20:23.559 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(Long)
2025-11-28 22:20:23.560 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:20:23.560 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=READY, totalAmount=45.0, notes=Entregar rpido, items=[Orde (truncated)...]
2025-11-28 22:20:23.561 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(Long)
2025-11-28 22:20:23.561 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:20:23.561 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=IN_DELIVERY, totalAmount=45.0, notes=Entregar rpido, items (truncated)...]
2025-11-28 22:20:23.562 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(Long)
2025-11-28 22:20:23.563 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:20:23.563 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=DELIVERED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 22:20:23.567 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:20:23.567 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:20:23.569 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:20:23.569 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.570 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.570 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.571 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-28 22:20:23.571 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:20:23.571 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:20:23.571 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 22:20:23.575 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:20:23.576 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:20:23.577 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:20:23.577 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.578 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.578 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.579 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:20:23.579 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=9, items=[OrderItemRequest(pizzaId=25, quantity=1)], notes=null)]
2025-11-28 22:20:23.579 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.580 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:20:23.580 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:20:23.580 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:20:23.581 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:20:23.582 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(Long)
2025-11-28 22:20:23.582 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:20:23.582 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=CANCELLED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 22:20:23.606 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@68ab0936, started on Fri Nov 28 22:20:20 BRT 2025
2025-11-28 22:20:23.663 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-28 22:20:23.706 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:20:23.707 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:20:23.707 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:20:23.707 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:34:26.652 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 22:34:26.719 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 22:34:26.806 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 22:34:26.936 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 60322 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 22:34:26.937 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 22:34:26.937 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 22:34:26.943 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@74ecacc3
2025-11-28 22:34:27.934 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 22:34:28.379 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:34:28.380 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:34:28.380 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:34:28.380 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:34:28.382 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 22:34:28.387 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 22:34:28.388 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 22:34:28.389 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 22:34:28.389 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 22:34:28.588 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 22:34:28.671 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 22:34:28.685 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 22:34:28.697 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 22:34:28.720 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 22:34:29.032 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 22:34:29.033 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 22:34:29.036 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-28 22:34:29.077 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.272 seconds (process running for 2.91)
2025-11-28 22:34:29.453 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:34:29.469 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:34:29.480 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:34:29.493 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.498 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.498 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.537 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:34:29.557 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=1, items=[OrderItemRequest(pizzaId=9, quantity=1)], notes=null)]
2025-11-28 22:34:29.566 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.568 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.573 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:34:29.574 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:34:29.587 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:34:29.589 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 22:34:29.591 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:34:29.591 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 22:34:29.593 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-28 22:34:29.746 DEBUG [ ] org.hibernate.SQL - 
    /* update
        
    for
        com.mendes.example.order.domain.Order */update orders 
    set
        customer_id=?,
        notes=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2025-11-28 22:34:29.749 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:34:29.749 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:34:29.750 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:34:29.750 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:34:29.750 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:34:29.750 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:34:29.750 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:34:29.750 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:34:29.751 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-28 22:34:29.752 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:34:29.753 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemR (truncated)...]
2025-11-28 22:34:29.779 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:34:29.780 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:34:29.782 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:34:29.782 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.783 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.784 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.786 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:34:29.787 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2, items=[OrderItemRequest(pizzaId=999, quantity=1)], notes=null)]
2025-11-28 22:34:29.787 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-28 22:34:29.789 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-28 22:34:29.790 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-28 22:34:29.790 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 22:34:29.791 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-28 22:34:29.795 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-28 22:34:29.804 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:34:29.805 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:34:29.807 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:34:29.808 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.808 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.809 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.810 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:34:29.810 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=3, items=[OrderItemRequest(pizzaId=13, quantity=1)], notes=null)]
2025-11-28 22:34:29.811 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.811 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.812 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:34:29.812 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:34:29.813 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(Long)
2025-11-28 22:34:29.815 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-28 22:34:29.816 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:34:29.816 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemRes (truncated)...]
2025-11-28 22:34:29.823 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:34:29.825 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:34:29.827 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:34:29.827 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.828 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.828 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.830 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:34:29.830 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4, items=[OrderItemRequest(pizzaId=15, quantity=1)], notes=null)]
2025-11-28 22:34:29.830 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.831 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.831 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:34:29.831 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:34:29.833 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:34:29.834 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 22:34:29.834 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:34:29.834 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 22:34:29.839 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:34:29.840 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:34:29.842 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:34:29.842 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.843 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.843 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.844 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:34:29.844 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5, items=[OrderItemRequest(pizzaId=17, quantity=2), OrderItemRequest(p (truncated)...]
2025-11-28 22:34:29.845 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.845 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.846 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.846 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:34:29.846 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=4, customerId=5, status=PENDING, totalAmount=140.0, notes=Sem cebola na primeira pi (truncated)...]
2025-11-28 22:34:29.850 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:34:29.851 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:34:29.852 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:34:29.853 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.854 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.854 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.855 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:34:29.855 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6, items=[], notes=null)]
2025-11-28 22:34:29.856 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-28 22:34:29.856 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-28 22:34:29.856 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 22:34:29.856 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-28 22:34:29.856 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-28 22:34:29.860 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:34:29.860 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:34:29.862 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:34:29.863 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.863 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.864 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.865 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:34:29.865 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7, items=[OrderItemRequest(pizzaId=21, quantity=1)], notes=Entregar r (truncated)...]
2025-11-28 22:34:29.866 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.866 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.867 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:34:29.867 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PENDING, totalAmount=45.0, notes=Entregar rpido, items=[Or (truncated)...]
2025-11-28 22:34:29.868 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:34:29.869 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 22:34:29.870 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:34:29.870 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=CONFIRMED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 22:34:29.871 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(Long)
2025-11-28 22:34:29.872 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:34:29.872 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PREPARING, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 22:34:29.873 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(Long)
2025-11-28 22:34:29.873 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:34:29.873 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=READY, totalAmount=45.0, notes=Entregar rpido, items=[Orde (truncated)...]
2025-11-28 22:34:29.874 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(Long)
2025-11-28 22:34:29.875 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:34:29.875 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=IN_DELIVERY, totalAmount=45.0, notes=Entregar rpido, items (truncated)...]
2025-11-28 22:34:29.876 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(Long)
2025-11-28 22:34:29.876 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:34:29.876 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=DELIVERED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 22:34:29.881 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:34:29.881 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:34:29.883 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:34:29.884 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.884 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.885 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.886 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-28 22:34:29.886 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:34:29.887 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:34:29.887 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 22:34:29.891 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:34:29.891 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:34:29.892 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:34:29.893 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.893 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.894 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.894 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:34:29.895 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=9, items=[OrderItemRequest(pizzaId=25, quantity=1)], notes=null)]
2025-11-28 22:34:29.895 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.895 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:34:29.896 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:34:29.896 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:34:29.897 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:34:29.898 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(Long)
2025-11-28 22:34:29.898 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:34:29.898 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=CANCELLED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 22:34:29.908 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.Springboot4ExampleApplicationTests
2025-11-28 22:34:29.909 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 22:34:29.923 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Starting Springboot4ExampleApplicationTests using Java 21.0.9 with PID 60322 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 22:34:29.923 DEBUG [ ] c.m.e.Springboot4ExampleApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 22:34:29.923 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - The following 1 profile is active: "test"
2025-11-28 22:34:29.924 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7af66b8a
2025-11-28 22:34:30.059 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 22:34:30.084 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:34:30.084 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:34:30.085 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:34:30.085 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:34:30.085 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 22:34:30.086 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 22:34:30.086 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 22:34:30.087 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 22:34:30.088 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 22:34:30.119 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 22:34:30.136 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 22:34:30.139 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 22:34:30.141 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 22:34:30.143 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 22:34:30.190 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-28 22:34:30.198 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Started Springboot4ExampleApplicationTests in 0.289 seconds (process running for 4.035)
2025-11-28 22:34:30.208 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@74ecacc3, started on Fri Nov 28 22:34:26 BRT 2025
2025-11-28 22:34:30.262 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-28 22:34:30.309 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:34:30.309 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:34:30.309 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:34:30.310 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:34:30.312 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@7af66b8a, started on Fri Nov 28 22:34:29 BRT 2025
2025-11-28 22:34:30.316 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-28 22:34:30.318 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:34:30.318 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:34:30.318 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:34:30.318 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:45:49.194 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 22:45:49.246 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 22:45:49.316 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 22:45:49.447 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.6 with PID 69434 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 22:45:49.447 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 22:45:49.447 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 22:45:49.455 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@42b84286
2025-11-28 22:45:50.594 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 22:45:50.996 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-28 22:45:51.050 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-28 22:45:51.085 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:45:51.086 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:45:51.086 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:45:51.086 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:45:51.088 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 22:45:51.093 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 22:45:51.094 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 22:45:51.094 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 22:45:51.095 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 22:45:51.108 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 22:45:51.227 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.6 with PID 69672 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 22:45:51.227 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 22:45:51.227 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-28 22:45:51.234 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@42b84286
2025-11-28 22:45:51.313 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 22:45:51.411 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 22:45:51.424 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 22:45:51.435 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 22:45:51.457 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 22:45:51.785 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 22:45:51.785 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 22:45:51.789 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-28 22:45:51.836 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.52 seconds (process running for 3.275)
2025-11-28 22:45:52.153 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 22:45:52.235 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:52.252 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:45:52.272 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:45:52.278 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.283 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.283 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.324 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:45:52.347 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=1, items=[OrderItemRequest(pizzaId=9, quantity=1)], notes=null)]
2025-11-28 22:45:52.356 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.357 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.361 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:52.363 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:45:52.374 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:52.376 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 22:45:52.378 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:52.378 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 22:45:52.381 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-28 22:45:52.535 DEBUG [ ] org.hibernate.SQL - 
    /* update
        
    for
        com.mendes.example.order.domain.Order */update orders 
    set
        customer_id=?,
        notes=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2025-11-28 22:45:52.538 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:45:52.539 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:45:52.539 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:45:52.539 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:45:52.539 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:45:52.539 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:45:52.539 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:45:52.539 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:45:52.540 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-28 22:45:52.541 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:52.542 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemR (truncated)...]
2025-11-28 22:45:52.570 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:52.571 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:45:52.573 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:45:52.574 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.574 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.575 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.576 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:45:52.577 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2, items=[OrderItemRequest(pizzaId=999, quantity=1)], notes=null)]
2025-11-28 22:45:52.577 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-28 22:45:52.579 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-28 22:45:52.579 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-28 22:45:52.579 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 22:45:52.580 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-28 22:45:52.584 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-28 22:45:52.586 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:45:52.587 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:45:52.587 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:45:52.587 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:45:52.589 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 22:45:52.593 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:52.594 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:45:52.595 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 22:45:52.595 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 22:45:52.596 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:45:52.596 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.596 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 22:45:52.597 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.597 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 22:45:52.597 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.598 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:45:52.599 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=3, items=[OrderItemRequest(pizzaId=13, quantity=1)], notes=null)]
2025-11-28 22:45:52.599 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.600 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.600 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:52.600 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:45:52.601 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(Long)
2025-11-28 22:45:52.603 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-28 22:45:52.603 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:52.604 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemRes (truncated)...]
2025-11-28 22:45:52.609 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:52.610 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:45:52.612 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:45:52.612 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.613 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.613 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.614 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:45:52.615 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4, items=[OrderItemRequest(pizzaId=15, quantity=1)], notes=null)]
2025-11-28 22:45:52.615 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.615 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.616 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:52.616 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:45:52.617 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:52.618 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 22:45:52.618 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:52.618 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 22:45:52.622 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:52.623 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:45:52.625 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:45:52.626 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.626 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.627 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.628 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:45:52.628 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5, items=[OrderItemRequest(pizzaId=17, quantity=2), OrderItemRequest(p (truncated)...]
2025-11-28 22:45:52.629 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.629 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.629 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.630 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:52.630 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=4, customerId=5, status=PENDING, totalAmount=140.0, notes=Sem cebola na primeira pi (truncated)...]
2025-11-28 22:45:52.634 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:52.634 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:45:52.636 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:45:52.636 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.636 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.643 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.645 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:45:52.645 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6, items=[], notes=null)]
2025-11-28 22:45:52.645 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-28 22:45:52.645 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-28 22:45:52.646 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 22:45:52.646 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-28 22:45:52.646 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-28 22:45:52.651 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:52.652 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:45:52.653 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:45:52.654 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.654 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.655 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.656 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:45:52.656 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7, items=[OrderItemRequest(pizzaId=21, quantity=1)], notes=Entregar r (truncated)...]
2025-11-28 22:45:52.657 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.657 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.661 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:52.662 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PENDING, totalAmount=45.0, notes=Entregar rpido, items=[Or (truncated)...]
2025-11-28 22:45:52.663 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:52.664 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 22:45:52.664 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:52.664 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=CONFIRMED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 22:45:52.665 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(Long)
2025-11-28 22:45:52.666 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:52.666 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PREPARING, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 22:45:52.667 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(Long)
2025-11-28 22:45:52.667 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:52.667 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=READY, totalAmount=45.0, notes=Entregar rpido, items=[Orde (truncated)...]
2025-11-28 22:45:52.668 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(Long)
2025-11-28 22:45:52.668 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:52.668 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=IN_DELIVERY, totalAmount=45.0, notes=Entregar rpido, items (truncated)...]
2025-11-28 22:45:52.669 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(Long)
2025-11-28 22:45:52.670 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:52.670 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=DELIVERED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 22:45:52.673 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:52.674 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:45:52.675 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:45:52.676 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.676 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.677 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.677 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-28 22:45:52.678 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:52.678 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:52.679 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 22:45:52.682 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:52.682 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:45:52.683 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:45:52.684 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.684 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.685 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.685 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:45:52.686 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=9, items=[OrderItemRequest(pizzaId=25, quantity=1)], notes=null)]
2025-11-28 22:45:52.686 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.686 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:52.687 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:52.687 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:45:52.689 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:52.690 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(Long)
2025-11-28 22:45:52.691 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:52.691 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=CANCELLED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 22:45:52.701 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.Springboot4ExampleApplicationTests
2025-11-28 22:45:52.704 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 22:45:52.724 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Starting Springboot4ExampleApplicationTests using Java 21.0.6 with PID 69434 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 22:45:52.724 DEBUG [ ] c.m.e.Springboot4ExampleApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 22:45:52.724 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - The following 1 profile is active: "test"
2025-11-28 22:45:52.725 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2d7d92a7
2025-11-28 22:45:52.846 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 22:45:52.877 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 22:45:52.901 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:45:52.901 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:45:52.902 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:45:52.902 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:45:52.904 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 22:45:52.904 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 22:45:52.905 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 22:45:52.906 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 22:45:52.906 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 22:45:52.936 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 22:45:52.939 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 22:45:52.948 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 22:45:52.957 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 22:45:52.959 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 22:45:52.961 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 22:45:52.963 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 22:45:52.966 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 22:45:52.982 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 22:45:53.020 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-28 22:45:53.029 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Started Springboot4ExampleApplicationTests in 0.325 seconds (process running for 4.472)
2025-11-28 22:45:53.047 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@42b84286, started on Fri Nov 28 22:45:49 BRT 2025
2025-11-28 22:45:53.105 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1461)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1432)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 22:45:53.290 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-28 22:45:53.291 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-28 22:45:53.295 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-28 22:45:53.338 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.23 seconds (process running for 2.814)
2025-11-28 22:45:53.693 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:53.710 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:45:53.721 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:45:53.726 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:53.731 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:53.732 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:53.776 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:45:53.795 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=1, items=[OrderItemRequest(pizzaId=9, quantity=1)], notes=null)]
2025-11-28 22:45:53.803 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:53.805 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:53.808 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:53.809 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:45:53.821 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:53.822 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 22:45:53.824 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:53.825 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 22:45:53.826 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-28 22:45:53.968 DEBUG [ ] org.hibernate.SQL - 
    /* update
        
    for
        com.mendes.example.order.domain.Order */update orders 
    set
        customer_id=?,
        notes=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2025-11-28 22:45:53.971 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:45:53.972 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:45:53.972 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:45:53.972 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:45:53.972 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:45:53.972 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:45:53.973 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:45:53.973 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-28 22:45:53.973 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-28 22:45:53.974 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:53.975 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=1, customerId=1, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemR (truncated)...]
2025-11-28 22:45:53.999 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:54.000 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:45:54.001 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:45:54.002 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.003 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.003 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.004 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:45:54.004 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2, items=[OrderItemRequest(pizzaId=999, quantity=1)], notes=null)]
2025-11-28 22:45:54.005 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-28 22:45:54.006 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-28 22:45:54.006 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-28 22:45:54.007 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 22:45:54.008 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-28 22:45:54.012 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-28 22:45:54.017 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:54.018 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:45:54.019 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:45:54.020 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.021 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.021 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.022 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:45:54.023 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=3, items=[OrderItemRequest(pizzaId=13, quantity=1)], notes=null)]
2025-11-28 22:45:54.023 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.024 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.024 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:54.024 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:45:54.025 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(Long)
2025-11-28 22:45:54.027 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-28 22:45:54.028 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:54.028 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=2, customerId=3, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemRes (truncated)...]
2025-11-28 22:45:54.033 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:54.034 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:45:54.035 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:45:54.036 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.036 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.037 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.038 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:45:54.038 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4, items=[OrderItemRequest(pizzaId=15, quantity=1)], notes=null)]
2025-11-28 22:45:54.039 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.039 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.040 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:54.040 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:45:54.041 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:54.041 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 22:45:54.042 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:54.042 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3, customerId=4, status=CONFIRMED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 22:45:54.046 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:54.046 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:45:54.048 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:45:54.048 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.049 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.049 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.050 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:45:54.050 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5, items=[OrderItemRequest(pizzaId=17, quantity=2), OrderItemRequest(p (truncated)...]
2025-11-28 22:45:54.051 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.051 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.052 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.052 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:54.052 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=4, customerId=5, status=PENDING, totalAmount=140.0, notes=Sem cebola na primeira pi (truncated)...]
2025-11-28 22:45:54.056 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:54.057 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:45:54.058 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:45:54.059 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.060 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.060 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.061 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:45:54.061 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6, items=[], notes=null)]
2025-11-28 22:45:54.061 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-28 22:45:54.061 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-28 22:45:54.062 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-28 22:45:54.062 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-28 22:45:54.062 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-28 22:45:54.065 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:54.066 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:45:54.067 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:45:54.068 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.068 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.069 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.069 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:45:54.070 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7, items=[OrderItemRequest(pizzaId=21, quantity=1)], notes=Entregar r (truncated)...]
2025-11-28 22:45:54.070 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.071 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.071 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:54.071 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PENDING, totalAmount=45.0, notes=Entregar rpido, items=[Or (truncated)...]
2025-11-28 22:45:54.072 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:54.072 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(Long)
2025-11-28 22:45:54.073 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:54.073 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=CONFIRMED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 22:45:54.073 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(Long)
2025-11-28 22:45:54.074 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:54.074 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=PREPARING, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 22:45:54.075 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(Long)
2025-11-28 22:45:54.076 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:54.076 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=READY, totalAmount=45.0, notes=Entregar rpido, items=[Orde (truncated)...]
2025-11-28 22:45:54.077 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(Long)
2025-11-28 22:45:54.077 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:54.078 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=IN_DELIVERY, totalAmount=45.0, notes=Entregar rpido, items (truncated)...]
2025-11-28 22:45:54.078 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(Long)
2025-11-28 22:45:54.079 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:54.079 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5, customerId=7, status=DELIVERED, totalAmount=45.0, notes=Entregar rpido, items=[ (truncated)...]
2025-11-28 22:45:54.082 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:54.083 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:45:54.085 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:45:54.085 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.086 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.086 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.087 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-28 22:45:54.088 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:54.088 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:54.088 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-28 22:45:54.092 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:54.092 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-28 22:45:54.094 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-28 22:45:54.094 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.095 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.095 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.096 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-28 22:45:54.096 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=9, items=[OrderItemRequest(pizzaId=25, quantity=1)], notes=null)]
2025-11-28 22:45:54.096 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.097 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-28 22:45:54.097 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:54.097 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=PENDING, totalAmount=45.0, notes=null, items=[OrderItemResp (truncated)...]
2025-11-28 22:45:54.098 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-28 22:45:54.098 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(Long)
2025-11-28 22:45:54.099 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-28 22:45:54.099 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6, customerId=9, status=CANCELLED, totalAmount=45.0, notes=null, items=[OrderItemRe (truncated)...]
2025-11-28 22:45:54.109 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.Springboot4ExampleApplication for test class com.mendes.example.Springboot4ExampleApplicationTests
2025-11-28 22:45:54.111 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-28 22:45:54.125 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Starting Springboot4ExampleApplicationTests using Java 21.0.6 with PID 69672 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-28 22:45:54.125 DEBUG [ ] c.m.e.Springboot4ExampleApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-28 22:45:54.125 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - The following 1 profile is active: "test"
2025-11-28 22:45:54.126 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@30e67f98
2025-11-28 22:45:54.277 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-28 22:45:54.301 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:45:54.301 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:45:54.302 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:45:54.302 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:45:54.302 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        zip_code varchar(10),
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-28 22:45:54.303 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        pizza_id bigint not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-28 22:45:54.303 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        customer_id bigint not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-28 22:45:54.304 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-28 22:45:54.304 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-28 22:45:54.334 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-28 22:45:54.353 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 27 mappings in 'requestMappingHandlerMapping'
2025-11-28 22:45:54.356 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-28 22:45:54.358 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-28 22:45:54.362 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-28 22:45:54.408 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-28 22:45:54.417 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Started Springboot4ExampleApplicationTests in 0.306 seconds (process running for 3.897)
2025-11-28 22:45:54.429 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@42b84286, started on Fri Nov 28 22:45:51 BRT 2025
2025-11-28 22:45:54.476 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1461)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1432)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 22:46:00.752 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:46:00.753 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:46:00.753 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:46:00.754 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:46:00.757 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@2d7d92a7, started on Fri Nov 28 22:45:52 BRT 2025
2025-11-28 22:46:00.760 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1461)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1432)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 22:46:00.763 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:46:00.763 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:46:00.763 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:46:00.763 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:46:03.378 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:46:03.379 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:46:03.380 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:46:03.380 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-28 22:46:03.386 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@30e67f98, started on Fri Nov 28 22:45:54 BRT 2025
2025-11-28 22:46:03.392 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
java.lang.Exception: java.net.ConnectException: Connection refused
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:61)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1461)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1432)
	at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:99)
	at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:306)
	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:58)
	... 17 common frames omitted
2025-11-28 22:46:03.396 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-28 22:46:03.396 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-28 22:46:03.396 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-28 22:46:03.396 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
