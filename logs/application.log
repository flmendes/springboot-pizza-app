2025-11-29 09:10:30.219 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-29 09:10:30.281 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-29 09:10:30.384 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:10:30.504 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 65139 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:10:30.504 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:10:30.504 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-29 09:10:30.513 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7640a5b1
2025-11-29 09:10:31.520 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:10:31.962 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:10:31.963 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:10:31.963 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:10:31.963 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:10:31.965 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:10:31.969 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:10:31.970 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:10:31.970 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:10:31.971 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:10:32.166 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 09:10:32.247 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 09:10:32.262 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 09:10:32.274 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 09:10:32.299 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 09:10:32.619 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-29 09:10:32.620 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-29 09:10:32.624 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 09:10:32.667 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.283 seconds (process running for 2.921)
2025-11-29 09:10:33.032 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:10:33.051 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:10:33.063 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:10:33.106 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:10:33.125 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=874d1986-0651-4db9-9a68-30e52bf89cd5, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:10:33.137 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:10:33.138 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5bc45303-c13e-47af-bb6d-b9a2545ae384, customerId=874d1986-0651-4db9-9a68-30e52bf89c (truncated)...]
2025-11-29 09:10:33.154 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.156 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.156 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.157 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.157 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.159 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.160 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.160 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.161 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.161 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.161 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.161 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.161 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.162 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:10:33.163 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:10:33.165 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:10:33.166 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5bc45303-c13e-47af-bb6d-b9a2545ae384, customerId=874d1986-0651-4db9-9a68-30e52bf89c (truncated)...]
2025-11-29 09:10:33.167 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-29 09:10:33.319 DEBUG [ ] org.hibernate.SQL - 
    /* update
        
    for
        com.mendes.example.order.domain.Order */update orders 
    set
        customer_id=?,
        notes=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2025-11-29 09:10:33.321 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-29 09:10:33.323 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:10:33.323 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=5bc45303-c13e-47af-bb6d-b9a2545ae384, customerId=874d1986-0651-4db9-9a68-30e52bf89 (truncated)...]
2025-11-29 09:10:33.357 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:10:33.358 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:10:33.360 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:10:33.362 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:10:33.362 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=be397612-48c0-4876-aeb9-dcff08bed4c9, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:10:33.363 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-29 09:10:33.364 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-29 09:10:33.364 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: eeceb09d-fa86-48a4-b34c-067374ec1d43
2025-11-29 09:10:33.364 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-29 09:10:33.365 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-29 09:10:33.369 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: eeceb09d-fa86-48a4-b34c-067374ec1d43]
2025-11-29 09:10:33.375 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:10:33.375 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:10:33.377 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:10:33.378 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:10:33.378 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5d847aa5-5fdb-4287-89f2-ade3972b15e2, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:10:33.379 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:10:33.379 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=fc38e7ed-444d-4c15-99cb-0c3cca1db65e, customerId=5d847aa5-5fdb-4287-89f2-ade3972b15 (truncated)...]
2025-11-29 09:10:33.380 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(UUID)
2025-11-29 09:10:33.382 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.382 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.383 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.383 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.383 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.384 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.384 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.384 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.384 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.384 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.385 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.385 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.385 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.385 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-29 09:10:33.386 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:10:33.386 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=fc38e7ed-444d-4c15-99cb-0c3cca1db65e, customerId=5d847aa5-5fdb-4287-89f2-ade3972b1 (truncated)...]
2025-11-29 09:10:33.407 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:10:33.408 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:10:33.409 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:10:33.411 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:10:33.412 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7faebc62-ca96-4053-87bf-3fc195c9d18b, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:10:33.412 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:10:33.412 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=59b6c63b-de83-4adc-a04b-5bf0f4f9d48e, customerId=7faebc62-ca96-4053-87bf-3fc195c9d1 (truncated)...]
2025-11-29 09:10:33.414 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.415 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.415 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.415 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.416 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.416 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.416 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.416 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.416 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.417 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.417 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.417 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.417 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.417 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:10:33.418 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:10:33.419 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:10:33.419 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=59b6c63b-de83-4adc-a04b-5bf0f4f9d48e, customerId=7faebc62-ca96-4053-87bf-3fc195c9d1 (truncated)...]
2025-11-29 09:10:33.424 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:10:33.425 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:10:33.427 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:10:33.429 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:10:33.430 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=b461471b-e5bf-43c8-b9c5-f4503754f2f4, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:10:33.431 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:10:33.431 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=67b7dc5c-5ea2-4456-ae7a-a01d75ffc974, customerId=b461471b-e5bf-43c8-b9c5-f4503754f2 (truncated)...]
2025-11-29 09:10:33.437 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:10:33.438 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:10:33.439 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:10:33.440 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:10:33.441 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=cdc14cf3-070a-4eb9-acbc-1a45468d4151, items=[], notes=null)]
2025-11-29 09:10:33.441 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-29 09:10:33.441 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-29 09:10:33.441 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-29 09:10:33.441 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-29 09:10:33.442 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-29 09:10:33.445 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:10:33.446 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:10:33.448 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:10:33.449 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:10:33.449 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=23ac3196-db96-446a-ba43-250326d6a89c, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:10:33.450 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:10:33.450 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2835d7bd-b604-4005-9aba-95e31c739a20, customerId=23ac3196-db96-446a-ba43-250326d6a8 (truncated)...]
2025-11-29 09:10:33.452 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.452 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.453 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.453 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.453 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.454 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.454 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.454 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.454 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.454 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.455 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.455 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.455 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.455 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:10:33.458 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:10:33.458 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:10:33.459 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2835d7bd-b604-4005-9aba-95e31c739a20, customerId=23ac3196-db96-446a-ba43-250326d6a8 (truncated)...]
2025-11-29 09:10:33.460 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(UUID)
2025-11-29 09:10:33.461 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:10:33.461 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2835d7bd-b604-4005-9aba-95e31c739a20, customerId=23ac3196-db96-446a-ba43-250326d6a8 (truncated)...]
2025-11-29 09:10:33.463 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(UUID)
2025-11-29 09:10:33.463 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:10:33.463 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2835d7bd-b604-4005-9aba-95e31c739a20, customerId=23ac3196-db96-446a-ba43-250326d6a8 (truncated)...]
2025-11-29 09:10:33.464 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(UUID)
2025-11-29 09:10:33.465 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:10:33.465 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2835d7bd-b604-4005-9aba-95e31c739a20, customerId=23ac3196-db96-446a-ba43-250326d6a8 (truncated)...]
2025-11-29 09:10:33.466 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(UUID)
2025-11-29 09:10:33.466 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:10:33.466 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2835d7bd-b604-4005-9aba-95e31c739a20, customerId=23ac3196-db96-446a-ba43-250326d6a8 (truncated)...]
2025-11-29 09:10:33.471 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:10:33.472 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:10:33.474 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:10:33.475 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-29 09:10:33.476 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:10:33.476 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:10:33.476 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-29 09:10:33.481 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:10:33.481 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:10:33.483 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:10:33.484 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:10:33.484 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=160cb8d1-b740-47be-ac2a-1ad8e49bff0b, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:10:33.485 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:10:33.485 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=f6cec479-0806-4df7-874b-d202483e952a, customerId=160cb8d1-b740-47be-ac2a-1ad8e49bff (truncated)...]
2025-11-29 09:10:33.487 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.488 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.488 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.488 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.488 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:10:33.489 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.489 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.489 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.489 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.489 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.489 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.489 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.490 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:10:33.490 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:10:33.490 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(UUID)
2025-11-29 09:10:33.491 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:10:33.491 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=f6cec479-0806-4df7-874b-d202483e952a, customerId=160cb8d1-b740-47be-ac2a-1ad8e49bff (truncated)...]
2025-11-29 09:10:33.501 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.PizzaApplicationTests
2025-11-29 09:10:33.503 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:10:33.517 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Starting Springboot4ExampleApplicationTests using Java 21.0.9 with PID 65139 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:10:33.517 DEBUG [ ] c.m.e.Springboot4ExampleApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:10:33.517 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - The following 1 profile is active: "test"
2025-11-29 09:10:33.518 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@494e502c
2025-11-29 09:10:33.658 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:10:33.685 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:10:33.686 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:10:33.687 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:10:33.687 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:10:33.687 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:10:33.688 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:10:33.688 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:10:33.689 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:10:33.689 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:10:33.719 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 09:10:33.736 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 09:10:33.744 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 09:10:33.746 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 09:10:33.748 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 09:10:33.789 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 09:10:33.796 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Started Springboot4ExampleApplicationTests in 0.293 seconds (process running for 4.055)
2025-11-29 09:10:33.806 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@7640a5b1, started on Sat Nov 29 09:10:30 BRT 2025
2025-11-29 09:10:33.861 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 09:10:33.907 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:10:33.907 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:10:33.908 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:10:33.908 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:10:33.911 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@494e502c, started on Sat Nov 29 09:10:33 BRT 2025
2025-11-29 09:10:33.915 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 09:10:33.917 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:10:33.917 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:10:33.917 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:10:33.917 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:12:15.224 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-29 09:12:15.283 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-29 09:12:15.388 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:12:15.618 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 65953 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:12:15.618 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:12:15.619 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-29 09:12:15.631 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@618ff5c2
2025-11-29 09:12:16.679 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:12:17.133 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:12:17.134 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:12:17.134 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:12:17.134 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:12:17.137 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:12:17.140 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:12:17.141 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:12:17.142 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:12:17.142 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:12:17.337 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 09:12:17.425 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 09:12:17.439 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 09:12:17.450 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 09:12:17.473 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 09:12:17.779 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-29 09:12:17.779 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-29 09:12:17.782 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 09:12:17.826 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.44 seconds (process running for 3.462)
2025-11-29 09:12:18.199 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:12:18.216 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:12:18.229 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:12:18.281 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:12:18.304 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2f1b21e2-2dd1-412e-af9d-044d0b6ffe60, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:12:18.320 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:12:18.322 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2edbffb4-0929-4de7-ba83-d5217585d1ee, customerId=2f1b21e2-2dd1-412e-af9d-044d0b6ffe (truncated)...]
2025-11-29 09:12:18.337 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.338 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.339 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.339 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.340 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.342 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.342 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.343 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.343 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.343 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.343 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.343 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.343 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.344 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:12:18.346 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:12:18.348 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:12:18.348 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2edbffb4-0929-4de7-ba83-d5217585d1ee, customerId=2f1b21e2-2dd1-412e-af9d-044d0b6ffe (truncated)...]
2025-11-29 09:12:18.350 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-29 09:12:18.843 DEBUG [ ] org.hibernate.SQL - 
    /* update
        
    for
        com.mendes.example.order.domain.Order */update orders 
    set
        customer_id=?,
        notes=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2025-11-29 09:12:18.845 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-29 09:12:18.847 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:12:18.848 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=2edbffb4-0929-4de7-ba83-d5217585d1ee, customerId=2f1b21e2-2dd1-412e-af9d-044d0b6ff (truncated)...]
2025-11-29 09:12:18.873 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:12:18.874 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:12:18.875 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:12:18.877 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:12:18.877 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=54a1083b-dcfb-404d-aa5f-0a47fe723e63, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:12:18.878 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-29 09:12:18.879 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-29 09:12:18.880 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 689d025b-2ce3-4304-accb-a7cde7e7023a
2025-11-29 09:12:18.880 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-29 09:12:18.881 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-29 09:12:18.886 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 689d025b-2ce3-4304-accb-a7cde7e7023a]
2025-11-29 09:12:18.892 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:12:18.893 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:12:18.895 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:12:18.897 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:12:18.897 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=0e2bc1fb-9b9c-4cce-8cff-a3d7bb347047, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:12:18.898 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:12:18.898 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=8b22e941-3ac3-484d-92fd-28920e7d789c, customerId=0e2bc1fb-9b9c-4cce-8cff-a3d7bb3470 (truncated)...]
2025-11-29 09:12:18.899 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(UUID)
2025-11-29 09:12:18.902 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.903 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.903 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.903 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.904 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.904 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.904 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.904 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.904 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.905 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.905 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.905 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.905 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.905 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-29 09:12:18.906 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:12:18.906 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=8b22e941-3ac3-484d-92fd-28920e7d789c, customerId=0e2bc1fb-9b9c-4cce-8cff-a3d7bb347 (truncated)...]
2025-11-29 09:12:18.939 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:12:18.940 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:12:18.943 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:12:18.947 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:12:18.947 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7bb64d87-2c56-4e24-ac33-7a1dc4bb5685, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:12:18.949 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:12:18.949 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=fa078fe8-48d1-4638-bb16-06eddad4fbe9, customerId=7bb64d87-2c56-4e24-ac33-7a1dc4bb56 (truncated)...]
2025-11-29 09:12:18.952 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.953 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.953 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.953 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.953 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.954 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.954 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.954 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.954 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.954 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.955 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.955 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.955 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:18.955 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:12:18.956 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:12:18.957 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:12:18.957 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=fa078fe8-48d1-4638-bb16-06eddad4fbe9, customerId=7bb64d87-2c56-4e24-ac33-7a1dc4bb56 (truncated)...]
2025-11-29 09:12:18.963 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:12:18.965 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:12:18.967 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:12:18.970 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:12:18.970 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=013f40fa-86fe-445a-87ba-b8a17202d32a, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:12:18.971 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:12:18.971 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=77a3fd81-d6c9-4b80-a842-682f51c2ba7f, customerId=013f40fa-86fe-445a-87ba-b8a17202d3 (truncated)...]
2025-11-29 09:12:18.976 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:12:18.978 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:12:18.981 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:12:18.983 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:12:18.983 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4245d5d2-52d1-4d57-9882-41dc60793e81, items=[], notes=null)]
2025-11-29 09:12:18.984 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-29 09:12:18.984 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-29 09:12:18.985 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-29 09:12:18.985 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-29 09:12:18.985 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-29 09:12:18.989 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:12:18.990 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:12:18.992 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:12:18.994 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:12:18.995 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7e94a0d2-d222-4a41-8eef-82e7440f2d35, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:12:18.996 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:12:18.996 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=530c3cea-e1e1-450c-8472-7c8e7b8bb21b, customerId=7e94a0d2-d222-4a41-8eef-82e7440f2d (truncated)...]
2025-11-29 09:12:18.998 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.998 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.999 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.999 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:18.999 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:19.000 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:19.000 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:19.000 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:19.000 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:19.000 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:19.000 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:19.000 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:19.001 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:19.001 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:12:19.002 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:12:19.002 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:12:19.002 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=530c3cea-e1e1-450c-8472-7c8e7b8bb21b, customerId=7e94a0d2-d222-4a41-8eef-82e7440f2d (truncated)...]
2025-11-29 09:12:19.004 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(UUID)
2025-11-29 09:12:19.004 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:12:19.005 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=530c3cea-e1e1-450c-8472-7c8e7b8bb21b, customerId=7e94a0d2-d222-4a41-8eef-82e7440f2d (truncated)...]
2025-11-29 09:12:19.006 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(UUID)
2025-11-29 09:12:19.006 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:12:19.006 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=530c3cea-e1e1-450c-8472-7c8e7b8bb21b, customerId=7e94a0d2-d222-4a41-8eef-82e7440f2d (truncated)...]
2025-11-29 09:12:19.007 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(UUID)
2025-11-29 09:12:19.008 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:12:19.008 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=530c3cea-e1e1-450c-8472-7c8e7b8bb21b, customerId=7e94a0d2-d222-4a41-8eef-82e7440f2d (truncated)...]
2025-11-29 09:12:19.009 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(UUID)
2025-11-29 09:12:19.010 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:12:19.010 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=530c3cea-e1e1-450c-8472-7c8e7b8bb21b, customerId=7e94a0d2-d222-4a41-8eef-82e7440f2d (truncated)...]
2025-11-29 09:12:19.014 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:12:19.016 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:12:19.018 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:12:19.020 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-29 09:12:19.021 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:12:19.021 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:12:19.021 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-29 09:12:19.026 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:12:19.027 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:12:19.028 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:12:19.032 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:12:19.033 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6e743e01-3623-496c-ae09-566bc615fe5a, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:12:19.033 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:12:19.033 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=221f1886-e6d4-4964-badf-588cef010f01, customerId=6e743e01-3623-496c-ae09-566bc615fe (truncated)...]
2025-11-29 09:12:19.035 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:19.035 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:19.036 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:19.036 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:19.036 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:12:19.036 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:19.037 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:19.037 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:19.037 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:19.037 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:19.037 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:19.037 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:19.037 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:12:19.038 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:12:19.038 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(UUID)
2025-11-29 09:12:19.039 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:12:19.039 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=221f1886-e6d4-4964-badf-588cef010f01, customerId=6e743e01-3623-496c-ae09-566bc615fe (truncated)...]
2025-11-29 09:12:19.045 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@618ff5c2, started on Sat Nov 29 09:12:15 BRT 2025
2025-11-29 09:12:19.100 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 09:12:19.150 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:12:19.151 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:12:19.151 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:12:19.152 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:18:56.138 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-29 09:18:56.192 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-29 09:18:56.263 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:18:56.379 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 69012 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:18:56.380 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:18:56.380 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-29 09:18:56.389 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@76ad6715
2025-11-29 09:18:57.370 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:18:57.827 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:18:57.828 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:18:57.828 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:18:57.828 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:18:57.830 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:18:57.833 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:18:57.834 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:18:57.835 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:18:57.836 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:18:57.950 WARN  [ ] o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerService' defined in file [/Users/flavio/Developer/Labs/java/springboot-4-example/target/classes/com/mendes/example/customer/application/CustomerService.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.mendes.example.customer.application.mapper.CustomerMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-11-29 09:18:57.950 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:18:57.951 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:18:57.951 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:18:57.952 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:18:57.963 INFO  [ ] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-29 09:18:57.972 ERROR [ ] o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.mendes.example.customer.application.CustomerService required a bean of type 'com.mendes.example.customer.application.mapper.CustomerMapper' that could not be found.


Action:

Consider defining a bean of type 'com.mendes.example.customer.application.mapper.CustomerMapper' in your configuration.

2025-11-29 09:18:57.973 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@e9fa0ea]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@5ca8157c testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.PizzaApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@33cee31a key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1eea9d2d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c211fd0, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@71a3a190, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@2f879bab, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@56ccd751, org.springframework.boot.test.context.SpringBootTestAnnotation@7c53048d], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.lambda$loadContext$0(DefaultCacheAwareContextLoaderDelegate.java:195)
	at org.springframework.test.context.cache.DefaultContextCache.put(DefaultContextCache.java:172)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:160)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:93)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$0(InterceptingLauncher.java:41)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:40)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:67)
	at com.intellij.junit6.JUnit6IdeaTestRunner.startRunnerWithArgs(JUnit6IdeaTestRunner.java:67)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerService' defined in file [/Users/flavio/Developer/Labs/java/springboot-4-example/target/classes/com/mendes/example/customer/application/CustomerService.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.mendes.example.customer.application.mapper.CustomerMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:983)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$2(SpringBootContextLoader.java:148)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1474)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:573)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:148)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:114)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:247)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.lambda$loadContext$0(DefaultCacheAwareContextLoaderDelegate.java:167)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.mendes.example.customer.application.mapper.CustomerMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2297)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1725)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 108 common frames omitted
2025-11-29 09:19:38.818 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-29 09:19:38.874 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-29 09:19:38.953 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:19:39.085 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 69350 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:19:39.085 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:19:39.086 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-29 09:19:39.095 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@76ad6715
2025-11-29 09:19:40.100 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:19:40.543 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:19:40.543 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:19:40.544 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:19:40.544 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:19:40.548 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:19:40.551 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:19:40.552 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:19:40.553 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:19:40.553 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:19:40.678 WARN  [ ] o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerService' defined in file [/Users/flavio/Developer/Labs/java/springboot-4-example/target/classes/com/mendes/example/customer/application/CustomerService.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.mendes.example.customer.application.mapper.CustomerMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-11-29 09:19:40.679 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:19:40.679 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:19:40.680 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:19:40.680 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:19:40.699 INFO  [ ] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-29 09:19:40.709 ERROR [ ] o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.mendes.example.customer.application.CustomerService required a bean of type 'com.mendes.example.customer.application.mapper.CustomerMapper' that could not be found.


Action:

Consider defining a bean of type 'com.mendes.example.customer.application.mapper.CustomerMapper' in your configuration.

2025-11-29 09:19:40.710 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@2518245b]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@52813ba4 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.PizzaApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@62291850 key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1eea9d2d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c211fd0, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@71a3a190, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@2f879bab, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@56ccd751, org.springframework.boot.test.context.SpringBootTestAnnotation@7c53048d], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.lambda$loadContext$0(DefaultCacheAwareContextLoaderDelegate.java:195)
	at org.springframework.test.context.cache.DefaultContextCache.put(DefaultContextCache.java:172)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:160)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:93)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$0(InterceptingLauncher.java:41)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:40)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:67)
	at com.intellij.junit6.JUnit6IdeaTestRunner.startRunnerWithArgs(JUnit6IdeaTestRunner.java:67)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerService' defined in file [/Users/flavio/Developer/Labs/java/springboot-4-example/target/classes/com/mendes/example/customer/application/CustomerService.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.mendes.example.customer.application.mapper.CustomerMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:983)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$2(SpringBootContextLoader.java:148)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1474)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:573)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:148)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:114)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:247)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.lambda$loadContext$0(DefaultCacheAwareContextLoaderDelegate.java:167)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.mendes.example.customer.application.mapper.CustomerMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2297)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1725)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 108 common frames omitted
2025-11-29 09:20:02.831 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-29 09:20:02.887 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-29 09:20:02.962 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:20:03.135 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 69538 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:20:03.136 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:20:03.136 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-29 09:20:03.145 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@291373d3
2025-11-29 09:20:04.164 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:20:04.619 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:20:04.620 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:20:04.620 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:20:04.620 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:20:04.623 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:20:04.628 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:20:04.629 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:20:04.629 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:20:04.630 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:20:04.756 WARN  [ ] o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerService' defined in file [/Users/flavio/Developer/Labs/java/springboot-4-example/target/classes/com/mendes/example/customer/application/CustomerService.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.mendes.example.customer.application.mapper.CustomerMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-11-29 09:20:04.757 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:20:04.757 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:20:04.758 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:20:04.758 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:20:04.768 INFO  [ ] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-29 09:20:04.776 ERROR [ ] o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.mendes.example.customer.application.CustomerService required a bean of type 'com.mendes.example.customer.application.mapper.CustomerMapper' that could not be found.


Action:

Consider defining a bean of type 'com.mendes.example.customer.application.mapper.CustomerMapper' in your configuration.

2025-11-29 09:20:04.777 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@744d0cfb]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@27a57c66 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.PizzaApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@5453020f key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5183d589, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d4960c8, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@6b580b88, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@6ad6fa53, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@175acfb2, org.springframework.boot.test.context.SpringBootTestAnnotation@3bcebd72], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.lambda$loadContext$0(DefaultCacheAwareContextLoaderDelegate.java:195)
	at org.springframework.test.context.cache.DefaultContextCache.put(DefaultContextCache.java:172)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:160)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:93)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$0(InterceptingLauncher.java:41)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:40)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:67)
	at com.intellij.junit6.JUnit6IdeaTestRunner.startRunnerWithArgs(JUnit6IdeaTestRunner.java:67)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerService' defined in file [/Users/flavio/Developer/Labs/java/springboot-4-example/target/classes/com/mendes/example/customer/application/CustomerService.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.mendes.example.customer.application.mapper.CustomerMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:983)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:454)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$2(SpringBootContextLoader.java:148)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1474)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:573)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:148)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:114)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:247)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.lambda$loadContext$0(DefaultCacheAwareContextLoaderDelegate.java:167)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.mendes.example.customer.application.mapper.CustomerMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2297)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1725)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 108 common frames omitted
2025-11-29 09:20:04.786 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@77d80294]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@27a57c66 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.PizzaApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@5453020f key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5183d589, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d4960c8, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@6b580b88, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@6ad6fa53, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@175acfb2, org.springframework.boot.test.context.SpringBootTestAnnotation@3bcebd72], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:93)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$0(InterceptingLauncher.java:41)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:40)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:67)
	at com.intellij.junit6.JUnit6IdeaTestRunner.startRunnerWithArgs(JUnit6IdeaTestRunner.java:67)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
2025-11-29 09:20:04.789 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@1a2d9177]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@27a57c66 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.PizzaApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@5453020f key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5183d589, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d4960c8, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@6b580b88, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@6ad6fa53, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@175acfb2, org.springframework.boot.test.context.SpringBootTestAnnotation@3bcebd72], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:93)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$0(InterceptingLauncher.java:41)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:40)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:67)
	at com.intellij.junit6.JUnit6IdeaTestRunner.startRunnerWithArgs(JUnit6IdeaTestRunner.java:67)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
2025-11-29 09:20:04.790 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@6ddccee4]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@27a57c66 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.PizzaApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@5453020f key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5183d589, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d4960c8, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@6b580b88, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@6ad6fa53, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@175acfb2, org.springframework.boot.test.context.SpringBootTestAnnotation@3bcebd72], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:93)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$0(InterceptingLauncher.java:41)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:40)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:67)
	at com.intellij.junit6.JUnit6IdeaTestRunner.startRunnerWithArgs(JUnit6IdeaTestRunner.java:67)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
2025-11-29 09:20:04.792 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@4f5080ea]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@27a57c66 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.PizzaApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@5453020f key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5183d589, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d4960c8, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@6b580b88, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@6ad6fa53, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@175acfb2, org.springframework.boot.test.context.SpringBootTestAnnotation@3bcebd72], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:93)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$0(InterceptingLauncher.java:41)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:40)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:67)
	at com.intellij.junit6.JUnit6IdeaTestRunner.startRunnerWithArgs(JUnit6IdeaTestRunner.java:67)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
2025-11-29 09:20:04.793 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@23ec291e]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@27a57c66 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.PizzaApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@5453020f key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5183d589, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d4960c8, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@6b580b88, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@6ad6fa53, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@175acfb2, org.springframework.boot.test.context.SpringBootTestAnnotation@3bcebd72], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:93)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$0(InterceptingLauncher.java:41)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:40)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:67)
	at com.intellij.junit6.JUnit6IdeaTestRunner.startRunnerWithArgs(JUnit6IdeaTestRunner.java:67)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
2025-11-29 09:20:04.794 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@518d4537]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@27a57c66 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.PizzaApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@5453020f key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5183d589, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d4960c8, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@6b580b88, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@6ad6fa53, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@175acfb2, org.springframework.boot.test.context.SpringBootTestAnnotation@3bcebd72], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:93)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$0(InterceptingLauncher.java:41)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:40)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:67)
	at com.intellij.junit6.JUnit6IdeaTestRunner.startRunnerWithArgs(JUnit6IdeaTestRunner.java:67)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
2025-11-29 09:20:04.796 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@5824b485]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@27a57c66 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.PizzaApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@5453020f key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5183d589, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d4960c8, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@6b580b88, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@6ad6fa53, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@175acfb2, org.springframework.boot.test.context.SpringBootTestAnnotation@3bcebd72], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:93)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$0(InterceptingLauncher.java:41)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:40)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:67)
	at com.intellij.junit6.JUnit6IdeaTestRunner.startRunnerWithArgs(JUnit6IdeaTestRunner.java:67)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
2025-11-29 09:20:04.798 WARN  [ ] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.mendes.example.order.presentation.OrderControllerIntegrationTest@7734ddb8]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@27a57c66 testClass = com.mendes.example.order.presentation.OrderControllerIntegrationTest, locations = [], classes = [com.mendes.example.PizzaApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@5453020f key = [org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebDriverAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcWebClientAutoConfiguration, org.springframework.boot.webmvc.test.autoconfigure.MockMvcAutoConfiguration]], org.springframework.boot.test.context.PropertyMappingContextCustomizer@2d298995, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5183d589, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d4960c8, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@6b580b88, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.webmvc.test.autoconfigure.WebDriverContextCustomizer@6ad6fa53, org.springframework.boot.web.server.context.SpringBootTestRandomPortContextCustomizerFactory$Customizer@175acfb2, org.springframework.boot.test.context.SpringBootTestAnnotation@3bcebd72], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:157)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:128)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:203)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$1(ClassBasedTestDescriptor.java:423)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:428)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$0(ClassBasedTestDescriptor.java:422)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:422)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$0(ClassBasedTestDescriptor.java:334)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:333)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$1(ClassBasedTestDescriptor.java:322)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$0(ClassBasedTestDescriptor.java:321)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:127)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:126)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:70)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:110)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:93)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$0(InterceptingLauncher.java:41)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:40)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:48)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:67)
	at com.intellij.junit6.JUnit6IdeaTestRunner.startRunnerWithArgs(JUnit6IdeaTestRunner.java:67)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
2025-11-29 09:20:17.942 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-29 09:20:17.991 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-29 09:20:18.085 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:20:18.227 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 69938 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:20:18.227 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:20:18.228 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-29 09:20:18.236 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@74ecacc3
2025-11-29 09:20:19.752 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:20:20.208 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:20:20.209 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:20:20.209 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:20:20.209 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:20:20.211 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:20:20.215 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:20:20.215 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:20:20.216 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:20:20.217 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:20:20.492 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 09:20:20.604 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 09:20:20.636 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 09:20:20.647 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 09:20:20.668 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 09:20:20.981 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-29 09:20:20.982 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-29 09:20:20.985 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 09:20:21.028 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.945 seconds (process running for 3.542)
2025-11-29 09:20:21.374 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:20:21.399 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:20:21.412 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:20:21.454 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:20:21.473 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=dabead5c-9f1e-4219-8a44-485fdcbc497d, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:20:21.486 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:20:21.487 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=851ea8a6-8908-4f88-8f27-637ba93dc676, customerId=dabead5c-9f1e-4219-8a44-485fdcbc49 (truncated)...]
2025-11-29 09:20:21.503 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.505 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.505 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.506 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.506 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.508 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.509 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.509 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.509 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.509 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.510 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.510 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.510 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.510 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:20:21.512 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:20:21.514 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:20:21.514 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=851ea8a6-8908-4f88-8f27-637ba93dc676, customerId=dabead5c-9f1e-4219-8a44-485fdcbc49 (truncated)...]
2025-11-29 09:20:21.516 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-29 09:20:21.670 DEBUG [ ] org.hibernate.SQL - 
    /* update
        
    for
        com.mendes.example.order.domain.Order */update orders 
    set
        customer_id=?,
        notes=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2025-11-29 09:20:21.672 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-29 09:20:21.673 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:20:21.674 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=851ea8a6-8908-4f88-8f27-637ba93dc676, customerId=dabead5c-9f1e-4219-8a44-485fdcbc4 (truncated)...]
2025-11-29 09:20:21.716 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:20:21.718 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:20:21.720 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:20:21.722 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:20:21.722 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=a9ca65cb-bf2e-4390-8113-cfb8ec1acc62, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:20:21.723 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-29 09:20:21.724 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-29 09:20:21.724 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 22629853-b47d-4b7c-a37d-3f77a3937cda
2025-11-29 09:20:21.725 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-29 09:20:21.726 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-29 09:20:21.730 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 22629853-b47d-4b7c-a37d-3f77a3937cda]
2025-11-29 09:20:21.739 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:20:21.740 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:20:21.742 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:20:21.743 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:20:21.743 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=3a4de99d-1b7f-4c52-a9fd-e5654ef5c1aa, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:20:21.744 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:20:21.744 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=c288a220-ea49-48e5-b288-7c5a73ba0505, customerId=3a4de99d-1b7f-4c52-a9fd-e5654ef5c1 (truncated)...]
2025-11-29 09:20:21.745 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(UUID)
2025-11-29 09:20:21.747 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.748 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.748 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.749 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.749 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.749 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.750 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.750 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.750 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.750 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.750 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.750 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.751 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.751 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-29 09:20:21.751 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:20:21.752 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=c288a220-ea49-48e5-b288-7c5a73ba0505, customerId=3a4de99d-1b7f-4c52-a9fd-e5654ef5c (truncated)...]
2025-11-29 09:20:21.773 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:20:21.774 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:20:21.777 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:20:21.778 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:20:21.779 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=f3ff4bfd-87dd-4b88-93c5-80df76e49b6e, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:20:21.780 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:20:21.780 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=b83815b6-02ce-4b71-9b0c-c339901beeb0, customerId=f3ff4bfd-87dd-4b88-93c5-80df76e49b (truncated)...]
2025-11-29 09:20:21.781 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.782 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.782 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.782 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.782 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.783 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.783 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.783 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.783 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.783 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.784 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.784 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.784 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.784 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:20:21.785 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:20:21.786 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:20:21.786 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=b83815b6-02ce-4b71-9b0c-c339901beeb0, customerId=f3ff4bfd-87dd-4b88-93c5-80df76e49b (truncated)...]
2025-11-29 09:20:21.790 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:20:21.791 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:20:21.793 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:20:21.794 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:20:21.795 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5e4e6016-3cc5-4a4a-b003-09e4013ba7ee, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:20:21.796 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:20:21.796 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2552b0f5-8b8d-404b-ab72-8179d7e401f2, customerId=5e4e6016-3cc5-4a4a-b003-09e4013ba7 (truncated)...]
2025-11-29 09:20:21.801 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:20:21.802 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:20:21.803 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:20:21.805 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:20:21.805 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=ba8feed8-5883-456d-9d4c-6d0a75df1938, items=[], notes=null)]
2025-11-29 09:20:21.806 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-29 09:20:21.806 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-29 09:20:21.806 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-29 09:20:21.806 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-29 09:20:21.806 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-29 09:20:21.810 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:20:21.811 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:20:21.812 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:20:21.813 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:20:21.814 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=1d953a38-9057-4b0c-b8b4-fb918417d7cf, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:20:21.814 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:20:21.814 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=13e44e92-8e51-47a4-9dc3-674f2170f884, customerId=1d953a38-9057-4b0c-b8b4-fb918417d7 (truncated)...]
2025-11-29 09:20:21.816 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.816 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.817 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.817 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.817 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.817 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.818 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.818 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.818 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.818 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.818 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.818 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.819 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.819 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:20:21.820 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:20:21.820 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:20:21.820 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=13e44e92-8e51-47a4-9dc3-674f2170f884, customerId=1d953a38-9057-4b0c-b8b4-fb918417d7 (truncated)...]
2025-11-29 09:20:21.821 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(UUID)
2025-11-29 09:20:21.822 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:20:21.822 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=13e44e92-8e51-47a4-9dc3-674f2170f884, customerId=1d953a38-9057-4b0c-b8b4-fb918417d7 (truncated)...]
2025-11-29 09:20:21.824 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(UUID)
2025-11-29 09:20:21.824 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:20:21.824 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=13e44e92-8e51-47a4-9dc3-674f2170f884, customerId=1d953a38-9057-4b0c-b8b4-fb918417d7 (truncated)...]
2025-11-29 09:20:21.825 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(UUID)
2025-11-29 09:20:21.825 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:20:21.826 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=13e44e92-8e51-47a4-9dc3-674f2170f884, customerId=1d953a38-9057-4b0c-b8b4-fb918417d7 (truncated)...]
2025-11-29 09:20:21.827 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(UUID)
2025-11-29 09:20:21.827 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:20:21.827 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=13e44e92-8e51-47a4-9dc3-674f2170f884, customerId=1d953a38-9057-4b0c-b8b4-fb918417d7 (truncated)...]
2025-11-29 09:20:21.832 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:20:21.833 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:20:21.835 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:20:21.836 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-29 09:20:21.837 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:20:21.837 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:20:21.837 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-29 09:20:21.841 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:20:21.841 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:20:21.843 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:20:21.844 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:20:21.844 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=27a719c0-5ce0-4cbc-81f5-74877e11982a, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:20:21.845 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:20:21.845 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3c1202e6-84f6-4fe9-8e31-16430cb07bce, customerId=27a719c0-5ce0-4cbc-81f5-74877e1198 (truncated)...]
2025-11-29 09:20:21.846 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.846 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.846 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.847 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.847 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:20:21.847 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.848 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.848 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.848 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.848 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.848 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.848 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.848 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:20:21.848 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:20:21.849 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(UUID)
2025-11-29 09:20:21.850 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:20:21.850 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=3c1202e6-84f6-4fe9-8e31-16430cb07bce, customerId=27a719c0-5ce0-4cbc-81f5-74877e1198 (truncated)...]
2025-11-29 09:20:21.859 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.PizzaApplicationTests
2025-11-29 09:20:21.861 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:20:21.876 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Starting Springboot4ExampleApplicationTests using Java 21.0.9 with PID 69938 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:20:21.876 DEBUG [ ] c.m.e.Springboot4ExampleApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:20:21.876 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - The following 1 profile is active: "test"
2025-11-29 09:20:21.877 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5bfa2801
2025-11-29 09:20:22.032 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:20:22.055 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:20:22.056 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:20:22.056 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:20:22.056 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:20:22.057 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:20:22.057 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:20:22.058 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:20:22.058 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:20:22.058 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:20:22.087 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 09:20:22.103 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 09:20:22.105 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 09:20:22.107 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 09:20:22.109 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 09:20:22.158 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 09:20:22.168 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Started Springboot4ExampleApplicationTests in 0.307 seconds (process running for 4.686)
2025-11-29 09:20:22.177 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@74ecacc3, started on Sat Nov 29 09:20:18 BRT 2025
2025-11-29 09:20:22.230 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 09:20:22.283 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:20:22.283 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:20:22.284 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:20:22.284 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:20:22.286 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@5bfa2801, started on Sat Nov 29 09:20:21 BRT 2025
2025-11-29 09:20:22.290 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 09:20:22.292 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:20:22.293 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:20:22.293 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:20:22.293 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:21:42.409 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-29 09:21:42.463 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-29 09:21:42.536 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:21:42.657 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 70607 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:21:42.658 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:21:42.658 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-29 09:21:42.667 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@127a7272
2025-11-29 09:21:43.665 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:21:44.107 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:21:44.107 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:21:44.107 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:21:44.108 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:21:44.110 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:21:44.113 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:21:44.114 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:21:44.114 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:21:44.115 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:21:44.301 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 09:21:44.400 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 09:21:44.415 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 09:21:44.429 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 09:21:44.452 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 09:21:44.762 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-29 09:21:44.763 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-29 09:21:44.766 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 09:21:44.822 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.279 seconds (process running for 2.894)
2025-11-29 09:21:45.216 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:21:45.233 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:21:45.246 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:21:45.289 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:21:45.308 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7488a81d-10fd-41c0-b6e2-58b88c2f78f1, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:21:45.325 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:21:45.327 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=ba8f4d44-0dc2-4b96-8d27-1805e9d8166a, customerId=7488a81d-10fd-41c0-b6e2-58b88c2f78 (truncated)...]
2025-11-29 09:21:45.341 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(UUID)
2025-11-29 09:21:45.494 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:21:45.497 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:21:45.497 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:21:45.497 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:21:45.498 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:21:45.499 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:21:45.500 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:21:45.500 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:21:45.501 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:21:45.501 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:21:45.501 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:21:45.501 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:21:45.501 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:21:45.502 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-29 09:21:45.504 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:21:45.504 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=ba8f4d44-0dc2-4b96-8d27-1805e9d8166a, customerId=7488a81d-10fd-41c0-b6e2-58b88c2f7 (truncated)...]
2025-11-29 09:21:45.537 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@127a7272, started on Sat Nov 29 09:21:42 BRT 2025
2025-11-29 09:21:45.585 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 09:21:45.590 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:21:45.591 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:21:45.591 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:21:45.591 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:23:01.852 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-29 09:23:01.911 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-29 09:23:01.985 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:23:02.105 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 71232 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:23:02.106 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:23:02.106 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-29 09:23:02.118 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@127a7272
2025-11-29 09:23:03.099 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:23:03.552 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:23:03.552 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:23:03.553 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:23:03.553 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:23:03.555 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:23:03.559 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:23:03.559 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:23:03.560 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:23:03.561 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:23:03.762 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 09:23:03.848 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 09:23:03.861 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 09:23:03.872 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 09:23:03.895 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 09:23:04.191 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-29 09:23:04.191 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-29 09:23:04.194 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 09:23:04.236 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.251 seconds (process running for 2.89)
2025-11-29 09:23:04.622 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:23:04.640 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:23:04.653 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:23:04.702 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:23:04.728 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=2c465865-9a7e-400a-9f7e-09f4b4ad4ff3, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:23:04.741 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:23:04.743 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=b7a88476-a99c-4a23-aa3b-a1df234d2738, customerId=2c465865-9a7e-400a-9f7e-09f4b4ad4f (truncated)...]
2025-11-29 09:23:04.753 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(UUID)
2025-11-29 09:23:04.901 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:23:04.903 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:23:04.903 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:23:04.904 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:23:04.904 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:23:04.906 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:23:04.907 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:23:04.907 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:23:04.908 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:23:04.908 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:23:04.908 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:23:04.908 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:23:04.908 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:23:04.909 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-29 09:23:04.911 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:23:04.911 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=b7a88476-a99c-4a23-aa3b-a1df234d2738, customerId=2c465865-9a7e-400a-9f7e-09f4b4ad4 (truncated)...]
2025-11-29 09:23:04.943 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@127a7272, started on Sat Nov 29 09:23:02 BRT 2025
2025-11-29 09:23:04.990 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 09:23:04.995 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:23:04.996 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:23:04.997 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:23:04.997 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:23:35.412 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-29 09:23:35.493 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-29 09:23:35.687 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:23:35.817 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 71484 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:23:35.817 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:23:35.818 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-29 09:23:35.826 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@43fda8d9
2025-11-29 09:23:36.975 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:23:37.472 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:23:37.473 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:23:37.473 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:23:37.473 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:23:37.476 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:23:37.479 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:23:37.480 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:23:37.481 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:23:37.481 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:23:37.692 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 09:23:37.799 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 09:23:37.814 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 09:23:37.826 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 09:23:37.849 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 09:23:38.311 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-29 09:23:38.312 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-29 09:23:38.316 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 09:23:38.372 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.703 seconds (process running for 4.03)
2025-11-29 09:23:38.759 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:23:38.777 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:23:38.792 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:23:38.849 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:23:38.872 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=672cb9be-c8da-4a09-9816-2e3263e7642c, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:23:38.887 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:23:38.888 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=7040da00-4b26-462a-bc0f-71282f0d3f86, customerId=672cb9be-c8da-4a09-9816-2e3263e764 (truncated)...]
2025-11-29 09:23:38.901 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(UUID)
2025-11-29 09:23:39.065 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:23:39.067 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:23:39.068 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:23:39.068 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:23:39.069 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:23:39.071 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:23:39.072 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:23:39.072 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:23:39.072 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:23:39.073 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:23:39.073 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:23:39.073 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:23:39.073 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:23:39.074 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-29 09:23:39.076 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:23:39.076 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=7040da00-4b26-462a-bc0f-71282f0d3f86, customerId=672cb9be-c8da-4a09-9816-2e3263e76 (truncated)...]
2025-11-29 09:24:15.670 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@43fda8d9, started on Sat Nov 29 09:23:35 BRT 2025
2025-11-29 09:24:15.723 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 09:24:15.729 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:24:15.729 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:24:15.730 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:24:15.730 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:24:41.082 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-29 09:24:41.150 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-29 09:24:41.234 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:24:41.354 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 72012 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:24:41.354 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:24:41.355 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-29 09:24:41.363 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@127a7272
2025-11-29 09:24:42.331 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:24:42.787 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:24:42.788 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:24:42.788 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:24:42.788 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:24:42.790 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:24:42.793 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:24:42.794 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:24:42.795 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:24:42.796 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:24:42.994 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 09:24:43.082 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 09:24:43.097 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 09:24:43.109 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 09:24:43.132 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 09:24:43.440 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-29 09:24:43.440 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-29 09:24:43.444 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 09:24:43.485 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.251 seconds (process running for 2.953)
2025-11-29 09:24:43.851 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:24:43.868 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:24:43.880 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:24:43.931 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:24:43.956 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=4ebd5870-3aa6-4533-928a-d688d83713a0, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:24:43.968 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:24:43.969 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=7332cf8d-c519-4956-b02c-bb8400bc68bc, customerId=4ebd5870-3aa6-4533-928a-d688d83713 (truncated)...]
2025-11-29 09:24:43.978 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(UUID)
2025-11-29 09:24:44.124 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:24:44.125 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:24:44.126 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:24:44.126 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:24:44.127 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:24:44.129 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:24:44.130 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:24:44.130 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:24:44.130 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:24:44.130 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:24:44.130 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:24:44.131 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:24:44.131 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:24:44.131 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-29 09:24:44.133 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:24:44.133 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=7332cf8d-c519-4956-b02c-bb8400bc68bc, customerId=4ebd5870-3aa6-4533-928a-d688d8371 (truncated)...]
2025-11-29 09:24:44.158 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@127a7272, started on Sat Nov 29 09:24:41 BRT 2025
2025-11-29 09:24:44.203 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 09:24:44.208 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:24:44.208 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:24:44.209 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:24:44.209 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:24:54.204 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-29 09:24:54.256 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-29 09:24:54.327 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:24:54.454 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 72107 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:24:54.454 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:24:54.455 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-29 09:24:54.465 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@127a7272
2025-11-29 09:24:55.410 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:24:55.853 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:24:55.854 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:24:55.854 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:24:55.854 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:24:55.856 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:24:55.860 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:24:55.860 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:24:55.861 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:24:55.862 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:24:56.046 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 09:24:56.126 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 09:24:56.142 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 09:24:56.153 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 09:24:56.177 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 09:24:56.465 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-29 09:24:56.465 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-29 09:24:56.469 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 09:24:56.511 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.184 seconds (process running for 2.799)
2025-11-29 09:24:56.865 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:24:56.881 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:24:56.893 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:24:56.945 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:24:56.971 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=e69f2bcc-e380-4d66-a215-7dcba11d467c, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:24:56.984 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:24:56.985 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=ebb9bf6b-230e-4e5c-898c-ae9251cad065, customerId=e69f2bcc-e380-4d66-a215-7dcba11d46 (truncated)...]
2025-11-29 09:24:56.994 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(UUID)
2025-11-29 09:24:57.140 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:24:57.142 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:24:57.142 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:24:57.143 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:24:57.143 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:24:57.145 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:24:57.146 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:24:57.146 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:24:57.146 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:24:57.146 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:24:57.147 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:24:57.147 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:24:57.147 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:24:57.147 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-29 09:24:57.149 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:24:57.149 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=ebb9bf6b-230e-4e5c-898c-ae9251cad065, customerId=e69f2bcc-e380-4d66-a215-7dcba11d4 (truncated)...]
2025-11-29 09:24:57.175 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@127a7272, started on Sat Nov 29 09:24:54 BRT 2025
2025-11-29 09:24:57.218 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 09:24:57.223 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:24:57.223 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:24:57.224 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:24:57.224 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:25:02.838 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-29 09:25:02.889 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-29 09:25:02.971 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:25:03.120 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 72326 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:25:03.121 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:25:03.121 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-29 09:25:03.129 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@74ecacc3
2025-11-29 09:25:04.176 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:25:04.664 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:25:04.665 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:25:04.665 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:25:04.665 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:25:04.668 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:25:04.671 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:25:04.672 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:25:04.673 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:25:04.673 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:25:04.922 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 09:25:05.009 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 09:25:05.024 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 09:25:05.035 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 09:25:05.067 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 09:25:05.492 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-29 09:25:05.492 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-29 09:25:05.496 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 09:25:05.543 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.574 seconds (process running for 3.178)
2025-11-29 09:25:05.953 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:05.979 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:25:05.991 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:25:06.036 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:25:06.056 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=22bbd3c1-0954-4135-a077-9aaff4d07591, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:25:06.070 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:06.072 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=9b996b98-c40e-41ed-a36d-fd467e34f48d, customerId=22bbd3c1-0954-4135-a077-9aaff4d075 (truncated)...]
2025-11-29 09:25:06.089 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.091 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.091 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.092 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.092 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.094 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.095 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.095 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.095 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.096 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.096 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.096 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.096 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.097 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:06.098 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:25:06.100 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:06.101 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=9b996b98-c40e-41ed-a36d-fd467e34f48d, customerId=22bbd3c1-0954-4135-a077-9aaff4d075 (truncated)...]
2025-11-29 09:25:06.103 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-29 09:25:06.258 DEBUG [ ] org.hibernate.SQL - 
    /* update
        
    for
        com.mendes.example.order.domain.Order */update orders 
    set
        customer_id=?,
        notes=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2025-11-29 09:25:06.260 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-29 09:25:06.261 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:06.262 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=9b996b98-c40e-41ed-a36d-fd467e34f48d, customerId=22bbd3c1-0954-4135-a077-9aaff4d07 (truncated)...]
2025-11-29 09:25:06.298 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:06.300 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:25:06.303 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:25:06.306 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:25:06.307 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=59ee2b31-f519-45cb-a99b-1da41ada1aac, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:25:06.307 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-29 09:25:06.309 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-29 09:25:06.310 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: b902f26c-fcae-429c-b388-50d7e36825d4
2025-11-29 09:25:06.310 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-29 09:25:06.315 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-29 09:25:06.320 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: b902f26c-fcae-429c-b388-50d7e36825d4]
2025-11-29 09:25:06.327 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:06.328 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:25:06.330 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:25:06.331 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:25:06.332 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=74b82558-3517-4974-b84a-c3938dc86fa9, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:25:06.332 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:06.332 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=8d044c2b-2997-45d7-b58d-64c518686072, customerId=74b82558-3517-4974-b84a-c3938dc86f (truncated)...]
2025-11-29 09:25:06.333 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(UUID)
2025-11-29 09:25:06.336 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.336 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.337 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.337 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.338 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.338 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.338 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.338 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.339 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.339 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.339 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.339 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.339 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.339 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-29 09:25:06.340 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:06.340 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=8d044c2b-2997-45d7-b58d-64c518686072, customerId=74b82558-3517-4974-b84a-c3938dc86 (truncated)...]
2025-11-29 09:25:06.347 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:06.348 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:25:06.350 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:25:06.352 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:25:06.352 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=24c31daf-9175-4353-9483-40d90e9dfdf3, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:25:06.353 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:06.353 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=8cf14382-eafd-494d-a92d-65f41534cc32, customerId=24c31daf-9175-4353-9483-40d90e9dfd (truncated)...]
2025-11-29 09:25:06.354 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.354 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.354 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.355 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.355 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.356 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.356 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.356 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.356 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.356 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.357 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.357 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.357 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.357 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:06.358 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:25:06.359 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:06.359 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=8cf14382-eafd-494d-a92d-65f41534cc32, customerId=24c31daf-9175-4353-9483-40d90e9dfd (truncated)...]
2025-11-29 09:25:06.362 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:06.363 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:25:06.365 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:25:06.366 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:25:06.367 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=fecb208c-2894-4c42-8cda-63bd10f4135d, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:25:06.368 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:06.368 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=f17932c8-9ced-4529-bd23-0c16710f54ab, customerId=fecb208c-2894-4c42-8cda-63bd10f413 (truncated)...]
2025-11-29 09:25:06.386 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:06.387 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:25:06.388 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:25:06.390 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:25:06.390 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=a6a5e333-f693-4332-a449-20a2dbbf6013, items=[], notes=null)]
2025-11-29 09:25:06.390 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-29 09:25:06.391 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-29 09:25:06.391 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-29 09:25:06.391 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-29 09:25:06.391 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-29 09:25:06.394 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:06.396 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:25:06.397 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:25:06.399 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:25:06.399 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=b83caa6e-abaf-432c-8c32-e07b474a6fec, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:25:06.400 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:06.400 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=507ccd77-f09b-4f0d-a04f-306f255a13aa, customerId=b83caa6e-abaf-432c-8c32-e07b474a6f (truncated)...]
2025-11-29 09:25:06.401 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.402 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.402 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.403 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.403 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.403 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.403 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.404 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.404 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.404 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.404 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.404 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.404 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.404 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:06.405 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:25:06.405 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:06.406 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=507ccd77-f09b-4f0d-a04f-306f255a13aa, customerId=b83caa6e-abaf-432c-8c32-e07b474a6f (truncated)...]
2025-11-29 09:25:06.406 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(UUID)
2025-11-29 09:25:06.407 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:06.407 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=507ccd77-f09b-4f0d-a04f-306f255a13aa, customerId=b83caa6e-abaf-432c-8c32-e07b474a6f (truncated)...]
2025-11-29 09:25:06.408 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(UUID)
2025-11-29 09:25:06.409 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:06.409 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=507ccd77-f09b-4f0d-a04f-306f255a13aa, customerId=b83caa6e-abaf-432c-8c32-e07b474a6f (truncated)...]
2025-11-29 09:25:06.410 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(UUID)
2025-11-29 09:25:06.410 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:06.410 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=507ccd77-f09b-4f0d-a04f-306f255a13aa, customerId=b83caa6e-abaf-432c-8c32-e07b474a6f (truncated)...]
2025-11-29 09:25:06.411 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(UUID)
2025-11-29 09:25:06.412 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:06.412 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=507ccd77-f09b-4f0d-a04f-306f255a13aa, customerId=b83caa6e-abaf-432c-8c32-e07b474a6f (truncated)...]
2025-11-29 09:25:06.416 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:06.417 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:25:06.419 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:25:06.420 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-29 09:25:06.421 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:06.421 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:06.421 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-29 09:25:06.424 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:06.425 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:25:06.426 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:25:06.427 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:25:06.428 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=47e76f81-54e1-43bf-8427-f8d988f2e991, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:25:06.428 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:06.428 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=bf236cb7-d646-469a-96ee-a7d5e7c0fe0f, customerId=47e76f81-54e1-43bf-8427-f8d988f2e9 (truncated)...]
2025-11-29 09:25:06.429 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.430 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.430 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.430 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.430 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:06.431 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.431 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.431 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.431 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.431 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.431 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.432 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.432 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:06.432 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:06.433 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(UUID)
2025-11-29 09:25:06.434 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:06.434 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=bf236cb7-d646-469a-96ee-a7d5e7c0fe0f, customerId=47e76f81-54e1-43bf-8427-f8d988f2e9 (truncated)...]
2025-11-29 09:25:06.443 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.PizzaApplicationTests
2025-11-29 09:25:06.445 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:25:06.459 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Starting Springboot4ExampleApplicationTests using Java 21.0.9 with PID 72326 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:25:06.459 DEBUG [ ] c.m.e.Springboot4ExampleApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:25:06.459 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - The following 1 profile is active: "test"
2025-11-29 09:25:06.460 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@657c93da
2025-11-29 09:25:06.612 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:25:06.636 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:25:06.637 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:25:06.637 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:25:06.637 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:25:06.638 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:25:06.638 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:25:06.639 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:25:06.639 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:25:06.640 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:25:06.668 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 09:25:06.686 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 09:25:06.689 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 09:25:06.691 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 09:25:06.693 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 09:25:06.741 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 09:25:06.749 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Started Springboot4ExampleApplicationTests in 0.304 seconds (process running for 4.39)
2025-11-29 09:25:06.759 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@74ecacc3, started on Sat Nov 29 09:25:03 BRT 2025
2025-11-29 09:25:06.812 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 09:25:06.819 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:25:06.820 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:25:06.821 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:25:06.821 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:25:06.826 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@657c93da, started on Sat Nov 29 09:25:06 BRT 2025
2025-11-29 09:25:06.832 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 09:25:06.834 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:25:06.834 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:25:06.835 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:25:06.835 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:25:28.192 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-29 09:25:28.242 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-29 09:25:28.315 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:25:28.448 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 72677 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:25:28.448 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:25:28.448 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-29 09:25:28.456 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@74ecacc3
2025-11-29 09:25:29.394 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:25:29.835 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:25:29.836 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:25:29.836 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:25:29.836 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:25:29.839 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:25:29.842 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:25:29.843 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:25:29.844 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:25:29.845 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:25:30.034 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 09:25:30.131 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 09:25:30.144 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 09:25:30.156 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 09:25:30.180 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 09:25:30.496 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-29 09:25:30.497 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-29 09:25:30.501 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 09:25:30.549 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.233 seconds (process running for 2.805)
2025-11-29 09:25:30.896 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:30.912 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:25:30.924 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:25:30.975 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:25:30.995 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=28143042-8dda-40b5-8ee1-f137c045bab3, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:25:31.008 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:31.010 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5c240f7c-c355-43ce-b129-239e10074a1c, customerId=28143042-8dda-40b5-8ee1-f137c045ba (truncated)...]
2025-11-29 09:25:31.024 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.026 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.026 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.027 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.027 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.029 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.030 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.030 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.030 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.031 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.031 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.031 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.031 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.031 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:31.033 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:25:31.035 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:31.035 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=5c240f7c-c355-43ce-b129-239e10074a1c, customerId=28143042-8dda-40b5-8ee1-f137c045ba (truncated)...]
2025-11-29 09:25:31.037 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-29 09:25:31.183 DEBUG [ ] org.hibernate.SQL - 
    /* update
        
    for
        com.mendes.example.order.domain.Order */update orders 
    set
        customer_id=?,
        notes=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2025-11-29 09:25:31.184 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-29 09:25:31.186 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:31.186 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=5c240f7c-c355-43ce-b129-239e10074a1c, customerId=28143042-8dda-40b5-8ee1-f137c045b (truncated)...]
2025-11-29 09:25:31.215 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:31.216 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:25:31.218 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:25:31.219 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:25:31.220 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=deb0b74b-c060-40c1-a267-205fe5ed23cb, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:25:31.220 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-29 09:25:31.222 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-29 09:25:31.222 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 080b1f2c-1286-48c8-8bf4-edeb82f59cab
2025-11-29 09:25:31.222 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-29 09:25:31.223 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-29 09:25:31.227 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 080b1f2c-1286-48c8-8bf4-edeb82f59cab]
2025-11-29 09:25:31.233 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:31.234 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:25:31.236 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:25:31.237 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:25:31.237 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=a4b97f33-e24a-4915-baf1-dafc5fee0d1c, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:25:31.238 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:31.238 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=d1276f80-b695-4f70-9bb8-9a822c883440, customerId=a4b97f33-e24a-4915-baf1-dafc5fee0d (truncated)...]
2025-11-29 09:25:31.239 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(UUID)
2025-11-29 09:25:31.241 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.241 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.241 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.242 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.242 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.242 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.242 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.242 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.243 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.243 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.243 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.243 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.243 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.243 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customerId = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-29 09:25:31.244 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:31.244 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=d1276f80-b695-4f70-9bb8-9a822c883440, customerId=a4b97f33-e24a-4915-baf1-dafc5fee0 (truncated)...]
2025-11-29 09:25:31.248 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:31.248 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:25:31.250 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:25:31.251 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:25:31.252 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=dc36af95-09c1-40bf-8f7e-3bb305824920, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:25:31.252 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:31.252 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=9250f583-c870-4451-be4f-e5b67c6c2e89, customerId=dc36af95-09c1-40bf-8f7e-3bb3058249 (truncated)...]
2025-11-29 09:25:31.253 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.254 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.254 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.254 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.254 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.255 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.255 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.255 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.255 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.255 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.256 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.256 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.256 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.256 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:31.257 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:25:31.257 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:31.257 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=9250f583-c870-4451-be4f-e5b67c6c2e89, customerId=dc36af95-09c1-40bf-8f7e-3bb3058249 (truncated)...]
2025-11-29 09:25:31.260 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:31.261 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:25:31.263 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:25:31.264 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:25:31.265 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=21a20791-beeb-4f23-ac24-bfedab4c6d24, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:25:31.265 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:31.265 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1fae1093-5c31-44dd-ba2a-f5344323eec2, customerId=21a20791-beeb-4f23-ac24-bfedab4c6d (truncated)...]
2025-11-29 09:25:31.269 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:31.270 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:25:31.271 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:25:31.272 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:25:31.272 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=d295f1ad-0a53-42ff-8b8a-71190e691178, items=[], notes=null)]
2025-11-29 09:25:31.273 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-29 09:25:31.273 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-29 09:25:31.273 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-29 09:25:31.273 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-29 09:25:31.273 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-29 09:25:31.276 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:31.278 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:25:31.280 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:25:31.281 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:25:31.282 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=78005d0d-8427-4820-830b-24d20983d263, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:25:31.282 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:31.282 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=0c8c2921-0fa4-45f1-9fa8-99b3052a70c6, customerId=78005d0d-8427-4820-830b-24d20983d2 (truncated)...]
2025-11-29 09:25:31.284 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.285 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.285 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.285 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.286 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.286 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.286 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.286 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.287 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.287 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.287 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.287 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.287 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.287 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:31.288 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:25:31.289 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:31.289 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=0c8c2921-0fa4-45f1-9fa8-99b3052a70c6, customerId=78005d0d-8427-4820-830b-24d20983d2 (truncated)...]
2025-11-29 09:25:31.290 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(UUID)
2025-11-29 09:25:31.290 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:31.291 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=0c8c2921-0fa4-45f1-9fa8-99b3052a70c6, customerId=78005d0d-8427-4820-830b-24d20983d2 (truncated)...]
2025-11-29 09:25:31.292 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(UUID)
2025-11-29 09:25:31.292 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:31.292 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=0c8c2921-0fa4-45f1-9fa8-99b3052a70c6, customerId=78005d0d-8427-4820-830b-24d20983d2 (truncated)...]
2025-11-29 09:25:31.293 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(UUID)
2025-11-29 09:25:31.294 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:31.294 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=0c8c2921-0fa4-45f1-9fa8-99b3052a70c6, customerId=78005d0d-8427-4820-830b-24d20983d2 (truncated)...]
2025-11-29 09:25:31.295 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(UUID)
2025-11-29 09:25:31.295 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:31.295 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=0c8c2921-0fa4-45f1-9fa8-99b3052a70c6, customerId=78005d0d-8427-4820-830b-24d20983d2 (truncated)...]
2025-11-29 09:25:31.300 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:31.301 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:25:31.303 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:25:31.305 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-29 09:25:31.305 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:31.306 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:31.306 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-29 09:25:31.310 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:31.310 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:25:31.312 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:25:31.315 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:25:31.315 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=b8326d2c-cb03-4aa3-a1c4-10fa4304724d, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:25:31.316 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:31.317 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=de16a5c7-c3d4-4ccf-bfe3-2b946111c3fb, customerId=b8326d2c-cb03-4aa3-a1c4-10fa430472 (truncated)...]
2025-11-29 09:25:31.319 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.319 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.319 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.319 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.320 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:25:31.320 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.320 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.320 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.320 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.320 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.321 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.321 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.321 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:25:31.321 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:25:31.322 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(UUID)
2025-11-29 09:25:31.322 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:25:31.322 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=de16a5c7-c3d4-4ccf-bfe3-2b946111c3fb, customerId=b8326d2c-cb03-4aa3-a1c4-10fa430472 (truncated)...]
2025-11-29 09:25:31.333 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.PizzaApplicationTests
2025-11-29 09:25:31.336 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:25:31.353 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Starting Springboot4ExampleApplicationTests using Java 21.0.9 with PID 72677 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:25:31.353 DEBUG [ ] c.m.e.Springboot4ExampleApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:25:31.353 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - The following 1 profile is active: "test"
2025-11-29 09:25:31.354 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@18cc07ca
2025-11-29 09:25:31.509 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:25:31.537 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:25:31.538 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:25:31.538 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:25:31.538 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:25:31.539 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:25:31.539 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:25:31.540 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:25:31.541 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:25:31.541 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:25:31.576 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 09:25:31.593 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 09:25:31.596 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 09:25:31.598 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 09:25:31.601 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 09:25:31.647 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 09:25:31.656 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Started Springboot4ExampleApplicationTests in 0.32 seconds (process running for 3.918)
2025-11-29 09:25:31.665 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@74ecacc3, started on Sat Nov 29 09:25:28 BRT 2025
2025-11-29 09:25:31.946 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 09:25:31.991 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:25:31.991 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:25:31.991 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:25:31.991 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:25:31.994 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@18cc07ca, started on Sat Nov 29 09:25:31 BRT 2025
2025-11-29 09:25:31.997 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 09:25:31.999 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:25:31.999 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:25:31.999 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:25:31.999 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:31:55.215 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-29 09:31:55.265 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-29 09:31:55.351 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:31:55.482 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 75954 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:31:55.483 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:31:55.483 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-29 09:31:55.494 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@74ecacc3
2025-11-29 09:31:56.508 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:31:56.983 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:31:56.983 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:31:56.983 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:31:56.983 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:31:56.986 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:31:56.989 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:31:56.989 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:31:56.990 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:31:56.991 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:31:56.996 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK624gtjin3po807j3vix093tlf 
       foreign key (customer_id) 
       references customer
2025-11-29 09:31:57.184 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 09:31:57.262 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 09:31:57.277 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 09:31:57.288 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 09:31:57.310 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 09:31:57.622 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-29 09:31:57.623 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-29 09:31:57.626 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 09:31:57.677 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.325 seconds (process running for 2.91)
2025-11-29 09:31:58.038 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:31:58.055 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:31:58.068 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:31:58.110 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:31:58.128 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6db4caf5-98e4-44a2-b130-887b0c726d55, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:31:58.142 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:31:58.144 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=9dbb2387-4eb2-439e-8f15-cc52da046794, customerId=6db4caf5-98e4-44a2-b130-887b0c726d (truncated)...]
2025-11-29 09:31:58.160 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.162 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.162 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.163 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.164 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.166 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.167 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.167 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.167 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.167 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.167 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.168 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.168 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.168 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:31:58.171 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:31:58.173 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:31:58.173 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=9dbb2387-4eb2-439e-8f15-cc52da046794, customerId=6db4caf5-98e4-44a2-b130-887b0c726d (truncated)...]
2025-11-29 09:31:58.176 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-29 09:31:58.325 DEBUG [ ] org.hibernate.SQL - 
    /* update
        
    for
        com.mendes.example.order.domain.Order */update orders 
    set
        customer_id=?,
        notes=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2025-11-29 09:31:58.327 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-29 09:31:58.328 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:31:58.329 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=9dbb2387-4eb2-439e-8f15-cc52da046794, customerId=6db4caf5-98e4-44a2-b130-887b0c726 (truncated)...]
2025-11-29 09:31:58.365 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:31:58.366 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:31:58.368 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:31:58.370 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:31:58.371 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=fc4a8f38-ed4a-4d4d-9ff0-73149e9615d9, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:31:58.371 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-29 09:31:58.373 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-29 09:31:58.373 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 994744b8-0140-4417-a611-6a7f900c52c0
2025-11-29 09:31:58.374 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-29 09:31:58.375 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-29 09:31:58.379 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 994744b8-0140-4417-a611-6a7f900c52c0]
2025-11-29 09:31:58.386 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:31:58.387 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:31:58.389 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:31:58.391 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:31:58.391 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=60f7fd3b-49b9-402b-bd78-701077aa820e, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:31:58.392 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:31:58.392 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6e1df255-8227-4274-bfbf-18356498c70e, customerId=60f7fd3b-49b9-402b-bd78-701077aa82 (truncated)...]
2025-11-29 09:31:58.393 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(UUID)
2025-11-29 09:31:58.399 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.400 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.400 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.400 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.400 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.401 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.401 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.401 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.401 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.401 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.402 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.402 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.402 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.402 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customer.id = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-29 09:31:58.403 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:31:58.403 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=6e1df255-8227-4274-bfbf-18356498c70e, customerId=60f7fd3b-49b9-402b-bd78-701077aa8 (truncated)...]
2025-11-29 09:31:58.407 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:31:58.408 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:31:58.410 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:31:58.411 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:31:58.412 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=a5ef83c8-9187-49e8-b06d-32eaee215011, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:31:58.412 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:31:58.413 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2a3aa2e0-7a36-42c8-a65f-efb6cbc29e1a, customerId=a5ef83c8-9187-49e8-b06d-32eaee2150 (truncated)...]
2025-11-29 09:31:58.414 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.414 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.415 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.415 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.415 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.416 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.416 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.416 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.416 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.416 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.416 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.417 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.417 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.417 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:31:58.418 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:31:58.418 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:31:58.418 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2a3aa2e0-7a36-42c8-a65f-efb6cbc29e1a, customerId=a5ef83c8-9187-49e8-b06d-32eaee2150 (truncated)...]
2025-11-29 09:31:58.423 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:31:58.424 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:31:58.426 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:31:58.428 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:31:58.428 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=de409869-c7fe-486a-a60e-17dc02405dd2, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:31:58.429 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:31:58.429 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1b2f01f3-e05b-4c5a-868c-5f292ae3646f, customerId=de409869-c7fe-486a-a60e-17dc02405d (truncated)...]
2025-11-29 09:31:58.433 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:31:58.434 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:31:58.436 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:31:58.437 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:31:58.438 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=a155cfcf-0531-4d32-b351-7c4dd0ab9b0f, items=[], notes=null)]
2025-11-29 09:31:58.438 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-29 09:31:58.438 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-29 09:31:58.438 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-29 09:31:58.438 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-29 09:31:58.439 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-29 09:31:58.443 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:31:58.444 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:31:58.446 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:31:58.448 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:31:58.448 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6862e170-d6cf-4adf-b356-476bb783501b, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:31:58.449 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:31:58.449 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=423ae4d6-3954-4cee-be4a-641319817e04, customerId=6862e170-d6cf-4adf-b356-476bb78350 (truncated)...]
2025-11-29 09:31:58.450 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.451 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.451 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.451 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.452 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.452 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.452 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.452 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.453 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.453 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.453 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.453 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.453 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.453 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:31:58.454 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:31:58.455 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:31:58.455 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=423ae4d6-3954-4cee-be4a-641319817e04, customerId=6862e170-d6cf-4adf-b356-476bb78350 (truncated)...]
2025-11-29 09:31:58.456 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(UUID)
2025-11-29 09:31:58.457 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:31:58.457 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=423ae4d6-3954-4cee-be4a-641319817e04, customerId=6862e170-d6cf-4adf-b356-476bb78350 (truncated)...]
2025-11-29 09:31:58.458 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(UUID)
2025-11-29 09:31:58.458 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:31:58.458 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=423ae4d6-3954-4cee-be4a-641319817e04, customerId=6862e170-d6cf-4adf-b356-476bb78350 (truncated)...]
2025-11-29 09:31:58.459 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(UUID)
2025-11-29 09:31:58.460 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:31:58.460 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=423ae4d6-3954-4cee-be4a-641319817e04, customerId=6862e170-d6cf-4adf-b356-476bb78350 (truncated)...]
2025-11-29 09:31:58.461 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(UUID)
2025-11-29 09:31:58.461 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:31:58.461 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=423ae4d6-3954-4cee-be4a-641319817e04, customerId=6862e170-d6cf-4adf-b356-476bb78350 (truncated)...]
2025-11-29 09:31:58.465 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:31:58.466 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:31:58.468 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:31:58.470 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-29 09:31:58.471 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:31:58.471 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:31:58.471 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-29 09:31:58.475 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:31:58.476 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:31:58.477 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:31:58.478 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:31:58.479 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=b9bc07f2-4212-4684-a863-f4ae6a0deb2d, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:31:58.479 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:31:58.479 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=49898683-849e-49c2-8aa9-746b32eed9d0, customerId=b9bc07f2-4212-4684-a863-f4ae6a0deb (truncated)...]
2025-11-29 09:31:58.481 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.483 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.483 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.483 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.483 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:31:58.484 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.484 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.484 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.484 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.484 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.485 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.485 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.485 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:31:58.485 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:31:58.486 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(UUID)
2025-11-29 09:31:58.487 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:31:58.487 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=49898683-849e-49c2-8aa9-746b32eed9d0, customerId=b9bc07f2-4212-4684-a863-f4ae6a0deb (truncated)...]
2025-11-29 09:31:58.498 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.PizzaApplicationTests
2025-11-29 09:31:58.500 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:31:58.515 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Starting Springboot4ExampleApplicationTests using Java 21.0.9 with PID 75954 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:31:58.515 DEBUG [ ] c.m.e.Springboot4ExampleApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:31:58.515 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - The following 1 profile is active: "test"
2025-11-29 09:31:58.515 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7316742f
2025-11-29 09:31:58.677 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:31:58.703 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:31:58.704 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:31:58.704 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:31:58.705 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:31:58.705 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:31:58.705 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id uuid not null,
        order_id uuid not null,
        pizza_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:31:58.706 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:31:58.706 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        id uuid not null,
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:31:58.707 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:31:58.707 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK624gtjin3po807j3vix093tlf 
       foreign key (customer_id) 
       references customer
2025-11-29 09:31:58.737 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 09:31:58.754 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 09:31:58.757 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 09:31:58.764 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 09:31:58.767 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 09:31:58.810 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 09:31:58.820 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Started Springboot4ExampleApplicationTests in 0.321 seconds (process running for 4.061)
2025-11-29 09:31:58.830 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@74ecacc3, started on Sat Nov 29 09:31:55 BRT 2025
2025-11-29 09:31:58.891 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 09:31:58.935 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:31:58.936 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:31:58.936 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:31:58.936 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:31:58.939 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@7316742f, started on Sat Nov 29 09:31:58 BRT 2025
2025-11-29 09:31:58.942 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 09:31:58.944 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:31:58.944 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:31:58.944 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:31:58.944 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:38:20.322 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-29 09:38:20.388 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-29 09:38:20.461 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:38:20.591 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 79392 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:38:20.591 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:38:20.592 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-29 09:38:20.601 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@74ecacc3
2025-11-29 09:38:21.540 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:38:21.977 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:38:21.978 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:38:21.978 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:38:21.978 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:38:21.980 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:38:21.983 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        pizza_id bigint not null,
        id uuid not null,
        order_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:38:21.984 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:38:21.985 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:38:21.986 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:38:21.991 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK624gtjin3po807j3vix093tlf 
       foreign key (customer_id) 
       references customer
2025-11-29 09:38:22.176 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 09:38:22.258 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 09:38:22.269 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 09:38:22.280 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 09:38:22.302 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 09:38:22.602 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-29 09:38:22.602 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-29 09:38:22.606 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 09:38:22.653 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.187 seconds (process running for 2.862)
2025-11-29 09:38:23.007 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:38:23.024 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:38:23.034 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:38:23.040 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.044 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 09:38:23.047 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 09:38:23.086 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:38:23.105 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=5b34599d-a203-44ec-874f-cc06e85cf93a, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:38:23.118 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:38:23.120 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=d9f5493f-4a98-4857-95a3-b4a284e81a3f, customerId=5b34599d-a203-44ec-874f-cc06e85cf9 (truncated)...]
2025-11-29 09:38:23.133 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.134 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.136 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.137 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.137 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.137 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.137 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.137 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.137 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.138 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.138 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:38:23.139 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:38:23.141 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:38:23.142 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=d9f5493f-4a98-4857-95a3-b4a284e81a3f, customerId=5b34599d-a203-44ec-874f-cc06e85cf9 (truncated)...]
2025-11-29 09:38:23.144 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-29 09:38:23.291 DEBUG [ ] org.hibernate.SQL - 
    /* update
        
    for
        com.mendes.example.order.domain.Order */update orders 
    set
        customer_id=?,
        notes=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2025-11-29 09:38:23.296 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-29 09:38:23.297 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:38:23.297 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=d9f5493f-4a98-4857-95a3-b4a284e81a3f, customerId=5b34599d-a203-44ec-874f-cc06e85cf (truncated)...]
2025-11-29 09:38:23.321 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:38:23.322 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:38:23.324 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:38:23.325 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.325 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 09:38:23.326 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 09:38:23.327 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:38:23.328 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6e905b9f-7272-40f9-bfed-669d5103958c, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:38:23.329 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-29 09:38:23.330 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-29 09:38:23.330 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-29 09:38:23.331 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-29 09:38:23.332 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-29 09:38:23.336 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-29 09:38:23.344 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:38:23.345 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:38:23.346 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:38:23.347 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.348 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 09:38:23.348 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 09:38:23.349 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:38:23.350 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=89aa1280-80e6-4604-9866-1d34b5fb17b6, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:38:23.351 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:38:23.351 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=badacdf7-697e-426b-b20e-b255de536e45, customerId=89aa1280-80e6-4604-9866-1d34b5fb17 (truncated)...]
2025-11-29 09:38:23.352 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(UUID)
2025-11-29 09:38:23.357 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.357 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.358 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.358 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.358 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.358 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.359 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.359 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.359 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.359 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.360 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customer.id = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-29 09:38:23.361 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:38:23.361 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=badacdf7-697e-426b-b20e-b255de536e45, customerId=89aa1280-80e6-4604-9866-1d34b5fb1 (truncated)...]
2025-11-29 09:38:23.365 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:38:23.366 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:38:23.367 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:38:23.368 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.369 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 09:38:23.369 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 09:38:23.370 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:38:23.371 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=25213c5d-4bfe-4dfb-a39b-6f2edc9f7021, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:38:23.371 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:38:23.371 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2118c542-ed4f-45c0-bbb0-f9dbef18858b, customerId=25213c5d-4bfe-4dfb-a39b-6f2edc9f70 (truncated)...]
2025-11-29 09:38:23.373 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.373 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.373 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.374 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.374 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.374 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.374 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.374 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.374 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.375 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.375 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:38:23.376 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:38:23.376 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:38:23.377 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=2118c542-ed4f-45c0-bbb0-f9dbef18858b, customerId=25213c5d-4bfe-4dfb-a39b-6f2edc9f70 (truncated)...]
2025-11-29 09:38:23.381 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:38:23.382 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:38:23.383 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:38:23.384 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.385 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 09:38:23.385 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 09:38:23.386 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:38:23.386 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=67de9bac-0bae-4ae1-8965-a85311b1fd90, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:38:23.387 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:38:23.387 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=7cd2af7d-1a3a-4c1c-beaf-7d8a5434f75a, customerId=67de9bac-0bae-4ae1-8965-a85311b1fd (truncated)...]
2025-11-29 09:38:23.392 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:38:23.393 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:38:23.394 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:38:23.395 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.395 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 09:38:23.396 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 09:38:23.397 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:38:23.397 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=a17f128b-90d7-4c8d-9319-09a26f9d15a1, items=[], notes=null)]
2025-11-29 09:38:23.397 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-29 09:38:23.397 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-29 09:38:23.397 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-29 09:38:23.398 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-29 09:38:23.398 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-29 09:38:23.402 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:38:23.403 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:38:23.404 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:38:23.405 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.405 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 09:38:23.406 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 09:38:23.408 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:38:23.408 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=0c1642c2-25df-4a80-a21a-a3edf0c7e84f, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:38:23.409 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:38:23.409 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=36440b34-2592-4b80-9175-56a41c4f0384, customerId=0c1642c2-25df-4a80-a21a-a3edf0c7e8 (truncated)...]
2025-11-29 09:38:23.412 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.412 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.412 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.412 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.413 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.413 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.413 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.413 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.413 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.413 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.413 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:38:23.414 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 09:38:23.415 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:38:23.415 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=36440b34-2592-4b80-9175-56a41c4f0384, customerId=0c1642c2-25df-4a80-a21a-a3edf0c7e8 (truncated)...]
2025-11-29 09:38:23.416 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(UUID)
2025-11-29 09:38:23.416 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:38:23.416 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=36440b34-2592-4b80-9175-56a41c4f0384, customerId=0c1642c2-25df-4a80-a21a-a3edf0c7e8 (truncated)...]
2025-11-29 09:38:23.417 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(UUID)
2025-11-29 09:38:23.418 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:38:23.418 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=36440b34-2592-4b80-9175-56a41c4f0384, customerId=0c1642c2-25df-4a80-a21a-a3edf0c7e8 (truncated)...]
2025-11-29 09:38:23.419 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(UUID)
2025-11-29 09:38:23.419 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:38:23.419 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=36440b34-2592-4b80-9175-56a41c4f0384, customerId=0c1642c2-25df-4a80-a21a-a3edf0c7e8 (truncated)...]
2025-11-29 09:38:23.420 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(UUID)
2025-11-29 09:38:23.421 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:38:23.421 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=36440b34-2592-4b80-9175-56a41c4f0384, customerId=0c1642c2-25df-4a80-a21a-a3edf0c7e8 (truncated)...]
2025-11-29 09:38:23.425 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:38:23.426 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:38:23.427 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:38:23.428 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.428 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 09:38:23.429 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 09:38:23.429 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-29 09:38:23.430 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:38:23.430 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:38:23.430 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-29 09:38:23.433 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:38:23.434 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 09:38:23.435 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 09:38:23.436 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.436 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 09:38:23.437 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 09:38:23.438 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 09:38:23.438 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=7b1e7234-c2bb-4b0a-a12a-e5a175f21a73, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 09:38:23.439 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:38:23.439 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=c60e64e6-7d5b-4243-9174-ba7987c492d8, customerId=7b1e7234-c2bb-4b0a-a12a-e5a175f21a (truncated)...]
2025-11-29 09:38:23.440 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.441 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 09:38:23.441 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.441 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.441 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.441 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.441 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.442 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.442 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.442 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 09:38:23.442 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 09:38:23.442 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(UUID)
2025-11-29 09:38:23.443 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 09:38:23.443 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=c60e64e6-7d5b-4243-9174-ba7987c492d8, customerId=7b1e7234-c2bb-4b0a-a12a-e5a175f21a (truncated)...]
2025-11-29 09:38:23.453 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.PizzaApplicationTests
2025-11-29 09:38:23.455 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 09:38:23.469 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Starting Springboot4ExampleApplicationTests using Java 21.0.9 with PID 79392 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 09:38:23.469 DEBUG [ ] c.m.e.Springboot4ExampleApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 09:38:23.469 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - The following 1 profile is active: "test"
2025-11-29 09:38:23.470 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5f7a911f
2025-11-29 09:38:23.605 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 09:38:23.630 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:38:23.631 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:38:23.631 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:38:23.631 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:38:23.632 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 09:38:23.632 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        pizza_id bigint not null,
        id uuid not null,
        order_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 09:38:23.632 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 09:38:23.633 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 09:38:23.633 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 09:38:23.634 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK624gtjin3po807j3vix093tlf 
       foreign key (customer_id) 
       references customer
2025-11-29 09:38:23.668 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 09:38:23.683 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 09:38:23.686 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 09:38:23.688 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 09:38:23.690 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 09:38:23.727 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 09:38:23.735 INFO  [ ] c.m.e.Springboot4ExampleApplicationTests - Started Springboot4ExampleApplicationTests in 0.281 seconds (process running for 3.955)
2025-11-29 09:38:23.744 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@74ecacc3, started on Sat Nov 29 09:38:20 BRT 2025
2025-11-29 09:38:23.792 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 09:38:23.835 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:38:23.835 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:38:23.836 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:38:23.836 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 09:38:23.838 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@5f7a911f, started on Sat Nov 29 09:38:23 BRT 2025
2025-11-29 09:38:23.843 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 09:38:23.845 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 09:38:23.845 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 09:38:23.845 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 09:38:23.845 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 10:27:49.261 INFO  [ ] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.mendes.example.order.presentation.OrderControllerIntegrationTest]: OrderControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-29 10:27:49.311 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.order.presentation.OrderControllerIntegrationTest
2025-11-29 10:27:49.399 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 10:27:49.542 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Starting OrderControllerIntegrationTest using Java 21.0.9 with PID 3859 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 10:27:49.542 DEBUG [ ] c.m.e.o.p.OrderControllerIntegrationTest - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 10:27:49.542 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - The following 1 profile is active: "test"
2025-11-29 10:27:49.552 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@53b7ce6
2025-11-29 10:27:50.896 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 10:27:51.345 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 10:27:51.346 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 10:27:51.346 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 10:27:51.346 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 10:27:51.348 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 10:27:51.352 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        pizza_id bigint not null,
        id uuid not null,
        order_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 10:27:51.353 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 10:27:51.354 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 10:27:51.356 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 10:27:51.361 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK624gtjin3po807j3vix093tlf 
       foreign key (customer_id) 
       references customer
2025-11-29 10:27:51.563 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 10:27:51.650 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 10:27:51.664 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 10:27:51.678 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 10:27:51.703 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 10:27:52.015 DEBUG [ ] o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-11-29 10:27:52.016 INFO  [ ] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-29 10:27:52.019 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 10:27:52.059 INFO  [ ] c.m.e.o.p.OrderControllerIntegrationTest - Started OrderControllerIntegrationTest in 2.662 seconds (process running for 3.329)
2025-11-29 10:27:52.419 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 10:27:52.436 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 10:27:52.447 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 10:27:52.452 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.456 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 10:27:52.459 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 10:27:52.506 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 10:27:52.525 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=c3aefa1b-1b25-45e6-9af0-e564aa598820, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 10:27:52.540 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 10:27:52.542 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6093b4e9-35cd-468c-8cc9-30ddc9fcb7b5, customerId=c3aefa1b-1b25-45e6-9af0-e564aa5988 (truncated)...]
2025-11-29 10:27:52.554 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.555 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.558 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.558 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.558 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.559 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.559 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.559 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.559 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.559 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.560 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 10:27:52.561 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 10:27:52.564 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 10:27:52.564 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=6093b4e9-35cd-468c-8cc9-30ddc9fcb7b5, customerId=c3aefa1b-1b25-45e6-9af0-e564aa5988 (truncated)...]
2025-11-29 10:27:52.567 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByStatus(OrderStatus)
2025-11-29 10:27:52.734 DEBUG [ ] org.hibernate.SQL - 
    /* update
        
    for
        com.mendes.example.order.domain.Order */update orders 
    set
        customer_id=?,
        notes=?,
        status=?,
        total_amount=?,
        updated_at=? 
    where
        id=?
2025-11-29 10:27:52.736 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.status = :status */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.status=?
2025-11-29 10:27:52.737 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 10:27:52.738 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=6093b4e9-35cd-468c-8cc9-30ddc9fcb7b5, customerId=c3aefa1b-1b25-45e6-9af0-e564aa598 (truncated)...]
2025-11-29 10:27:52.767 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 10:27:52.767 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 10:27:52.769 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 10:27:52.770 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.771 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 10:27:52.772 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 10:27:52.774 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 10:27:52.775 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6c67e55b-ce73-4553-8f06-abf780b8d17d, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 10:27:52.776 DEBUG [ ] org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0 
    where
        p1_0.id=?
2025-11-29 10:27:52.781 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException, WebRequest)
2025-11-29 10:27:52.782 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Resource not found: Pizza not found with id: 999
2025-11-29 10:27:52.783 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-29 10:27:52.787 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/resource-not-found', title='Resource Not Found' (truncated)...]
2025-11-29 10:27:52.796 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.mendes.example.shared.exception.ResourceNotFoundException: Pizza not found with id: 999]
2025-11-29 10:27:52.808 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 10:27:52.809 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 10:27:52.811 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 10:27:52.812 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.813 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 10:27:52.813 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 10:27:52.814 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 10:27:52.815 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=830fc946-a6fc-495b-8b73-e3599d1153f9, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 10:27:52.816 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 10:27:52.817 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=70f7b2fb-8d5e-485c-a37f-3b3900e8fd30, customerId=830fc946-a6fc-495b-8b73-e3599d1153 (truncated)...]
2025-11-29 10:27:52.818 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#getOrdersByCustomerId(UUID)
2025-11-29 10:27:52.825 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.826 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.827 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.827 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.827 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.827 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.827 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.827 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.827 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.828 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.828 DEBUG [ ] org.hibernate.SQL - 
    /* SELECT
        o 
    FROM
        
    Order o WHERE
        o.customer.id = :customerId */ select
            o1_0.id,
            o1_0.created_at,
            o1_0.customer_id,
            o1_0.notes,
            o1_0.status,
            o1_0.total_amount,
            o1_0.updated_at 
        from
            orders o1_0 
        where
            o1_0.customer_id=?
2025-11-29 10:27:52.829 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 10:27:52.829 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderResponse(id=70f7b2fb-8d5e-485c-a37f-3b3900e8fd30, customerId=830fc946-a6fc-495b-8b73-e3599d115 (truncated)...]
2025-11-29 10:27:52.834 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 10:27:52.835 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 10:27:52.837 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 10:27:52.837 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.839 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 10:27:52.840 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 10:27:52.841 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 10:27:52.842 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=dd764313-dab0-48b0-a781-c148602cf429, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 10:27:52.843 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 10:27:52.843 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=11658571-c332-4093-84cf-1b865863ce66, customerId=dd764313-dab0-48b0-a781-c148602cf4 (truncated)...]
2025-11-29 10:27:52.845 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.845 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.846 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.846 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.846 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.847 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.847 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.848 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.848 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.849 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.849 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 10:27:52.852 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 10:27:52.853 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 10:27:52.853 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=11658571-c332-4093-84cf-1b865863ce66, customerId=dd764313-dab0-48b0-a781-c148602cf4 (truncated)...]
2025-11-29 10:27:52.861 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 10:27:52.863 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 10:27:52.866 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 10:27:52.867 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.868 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 10:27:52.868 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 10:27:52.869 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 10:27:52.870 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=e942fd95-d5ff-46d9-b356-5699d8ed24b9, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 10:27:52.871 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 10:27:52.871 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=b4f3ff36-2c1f-4f0f-9135-ef3932340212, customerId=e942fd95-d5ff-46d9-b356-5699d8ed24 (truncated)...]
2025-11-29 10:27:52.875 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 10:27:52.876 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 10:27:52.877 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 10:27:52.878 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.879 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 10:27:52.879 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 10:27:52.880 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 10:27:52.880 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=1b341464-d71b-4e83-ae3c-e7a17b678bab, items=[], notes=null)]
2025-11-29 10:27:52.881 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.mendes.example.shared.exception.GlobalExceptionHandler#handleIllegalArgumentException(IllegalArgumentException, WebRequest)
2025-11-29 10:27:52.881 WARN  [ ] c.m.e.s.e.GlobalExceptionHandler - Validation error: Order must have at least one item
2025-11-29 10:27:52.881 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [*/*] and supported [application/problem+json]
2025-11-29 10:27:52.881 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='https://api.example.com/problems/invalid-request', title='Invalid Request', stat (truncated)...]
2025-11-29 10:27:52.881 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Order must have at least one item]
2025-11-29 10:27:52.885 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 10:27:52.885 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 10:27:52.888 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 10:27:52.888 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.889 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 10:27:52.889 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 10:27:52.890 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 10:27:52.891 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=f2b6dc9d-adf3-4065-bd1d-3108b6c586af, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 10:27:52.891 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 10:27:52.891 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1b829a41-31e6-4ec8-a111-6ab7d0222b09, customerId=f2b6dc9d-adf3-4065-bd1d-3108b6c586 (truncated)...]
2025-11-29 10:27:52.893 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.893 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.893 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.893 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.894 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.894 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.894 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.894 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.894 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.894 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.894 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 10:27:52.895 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#confirmOrder(UUID)
2025-11-29 10:27:52.895 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 10:27:52.895 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1b829a41-31e6-4ec8-a111-6ab7d0222b09, customerId=f2b6dc9d-adf3-4065-bd1d-3108b6c586 (truncated)...]
2025-11-29 10:27:52.896 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#startPreparing(UUID)
2025-11-29 10:27:52.897 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 10:27:52.897 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1b829a41-31e6-4ec8-a111-6ab7d0222b09, customerId=f2b6dc9d-adf3-4065-bd1d-3108b6c586 (truncated)...]
2025-11-29 10:27:52.897 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsReady(UUID)
2025-11-29 10:27:52.898 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 10:27:52.898 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1b829a41-31e6-4ec8-a111-6ab7d0222b09, customerId=f2b6dc9d-adf3-4065-bd1d-3108b6c586 (truncated)...]
2025-11-29 10:27:52.900 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsInDelivery(UUID)
2025-11-29 10:27:52.901 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 10:27:52.901 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1b829a41-31e6-4ec8-a111-6ab7d0222b09, customerId=f2b6dc9d-adf3-4065-bd1d-3108b6c586 (truncated)...]
2025-11-29 10:27:52.902 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#markAsDelivered(UUID)
2025-11-29 10:27:52.910 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 10:27:52.910 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=1b829a41-31e6-4ec8-a111-6ab7d0222b09, customerId=f2b6dc9d-adf3-4065-bd1d-3108b6c586 (truncated)...]
2025-11-29 10:27:52.938 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 10:27:52.939 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 10:27:52.944 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 10:27:52.944 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.945 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 10:27:52.948 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 10:27:52.951 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#listAllOrders()
2025-11-29 10:27:52.952 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 10:27:52.953 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 10:27:52.953 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-29 10:27:52.959 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 10:27:52.960 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.available,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.size,
        p1_0.updated_at 
    from
        pizza p1_0
2025-11-29 10:27:52.961 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.created_at,
        c1_0.email,
        c1_0.name,
        c1_0.phone,
        c1_0.state,
        c1_0.updated_at,
        c1_0.zip_code 
    from
        customer c1_0
2025-11-29 10:27:52.962 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.customer.domain.Customer
        */insert 
    into
        customer (address, city, created_at, email, name, phone, state, updated_at, zip_code, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.962 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 10:27:52.963 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.pizza.domain.Pizza
        */insert 
    into
        pizza (available, created_at, description, name, price, size, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, default)
2025-11-29 10:27:52.964 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#createOrder(CreateOrderRequest)
2025-11-29 10:27:52.964 DEBUG [ ] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(customerId=6c1cd4d3-117f-424b-a639-bac85d7c66b4, items=[OrderItemRequest(pizzaId= (truncated)...]
2025-11-29 10:27:52.965 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 10:27:52.965 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=55e64694-488c-49c9-ae96-e29ad7e14f2c, customerId=6c1cd4d3-117f-424b-a639-bac85d7c66 (truncated)...]
2025-11-29 10:27:52.967 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.Order
        */insert 
    into
        orders (created_at, customer_id, notes, status, total_amount, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.967 DEBUG [ ] org.hibernate.SQL - 
    /* insert 
    for
        com.mendes.example.order.domain.OrderItem
        */insert 
    into
        order_item (created_at, order_id, pizza_id, pizza_name, quantity, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-29 10:27:52.967 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.968 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.968 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.968 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.968 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.968 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.968 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.969 DEBUG [ ] org.hibernate.SQL - 
    /* delete 
    for
        com.mendes.example.pizza.domain.Pizza */delete 
    from
        pizza 
    where
        id=?
2025-11-29 10:27:52.969 DEBUG [ ] org.hibernate.SQL - 
    /* <criteria> */ select
        o1_0.id,
        o1_0.created_at,
        o1_0.customer_id,
        o1_0.notes,
        o1_0.status,
        o1_0.total_amount,
        o1_0.updated_at 
    from
        orders o1_0
2025-11-29 10:27:52.970 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.mendes.example.order.presentation.OrderController#cancelOrder(UUID)
2025-11-29 10:27:52.970 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-29 10:27:52.971 DEBUG [ ] o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderResponse(id=55e64694-488c-49c9-ae96-e29ad7e14f2c, customerId=6c1cd4d3-117f-424b-a639-bac85d7c66 (truncated)...]
2025-11-29 10:27:52.983 INFO  [ ] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.mendes.example.PizzaApplication for test class com.mendes.example.PizzaApplicationTests
2025-11-29 10:27:52.985 INFO  [ ] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-29 10:27:53.028 INFO  [ ] c.m.example.PizzaApplicationTests - Starting PizzaApplicationTests using Java 21.0.9 with PID 3859 (started by flavio in /Users/flavio/Developer/Labs/java/springboot-4-example)
2025-11-29 10:27:53.028 DEBUG [ ] c.m.example.PizzaApplicationTests - Running with Spring Boot v4.0.0, Spring v7.0.1
2025-11-29 10:27:53.028 INFO  [ ] c.m.example.PizzaApplicationTests - The following 1 profile is active: "test"
2025-11-29 10:27:53.029 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7540aa55
2025-11-29 10:27:53.185 WARN  [ ] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-29 10:27:53.210 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 10:27:53.210 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 10:27:53.211 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 10:27:53.211 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 10:27:53.211 DEBUG [ ] org.hibernate.SQL - 
    create table customer (
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        zip_code varchar(10),
        id uuid not null,
        phone varchar(20) not null,
        state varchar(50),
        city varchar(100),
        email varchar(100) not null unique,
        name varchar(150) not null,
        address varchar(200) not null,
        primary key (id)
    )
2025-11-29 10:27:53.212 DEBUG [ ] org.hibernate.SQL - 
    create table order_item (
        quantity integer not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        created_at timestamp(6) not null,
        pizza_id bigint not null,
        id uuid not null,
        order_id uuid not null,
        pizza_name varchar(255) not null,
        primary key (id)
    )
2025-11-29 10:27:53.212 DEBUG [ ] org.hibernate.SQL - 
    create table orders (
        total_amount numeric(38,2) not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6),
        customer_id uuid not null,
        id uuid not null,
        notes varchar(500),
        status enum ('CANCELLED','CONFIRMED','DELIVERED','IN_DELIVERY','PENDING','PREPARING','READY') not null,
        primary key (id)
    )
2025-11-29 10:27:53.213 DEBUG [ ] org.hibernate.SQL - 
    create table pizza (
        available boolean not null,
        price numeric(38,2) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        name varchar(100) not null,
        description varchar(500) not null,
        size enum ('EXTRA_LARGE','LARGE','MEDIUM','SMALL') not null,
        primary key (id)
    )
2025-11-29 10:27:53.213 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists order_item 
       add constraint FKt4dc2r9nbvbujrljv3e23iibt 
       foreign key (order_id) 
       references orders
2025-11-29 10:27:53.214 DEBUG [ ] org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK624gtjin3po807j3vix093tlf 
       foreign key (customer_id) 
       references customer
2025-11-29 10:27:53.254 WARN  [ ] o.s.b.j.a.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-29 10:27:53.273 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-11-29 10:27:53.277 DEBUG [ ] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-29 10:27:53.279 DEBUG [ ] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-29 10:27:53.281 DEBUG [ ] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-29 10:27:53.334 INFO  [ ] o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-29 10:27:53.343 INFO  [ ] c.m.example.PizzaApplicationTests - Started PizzaApplicationTests in 0.358 seconds (process running for 4.616)
2025-11-29 10:27:53.351 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@53b7ce6, started on Sat Nov 29 10:27:49 BRT 2025
2025-11-29 10:27:53.415 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 10:27:53.468 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 10:27:53.468 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 10:27:53.468 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 10:27:53.469 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
2025-11-29 10:27:53.471 DEBUG [ ] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@7540aa55, started on Sat Nov 29 10:27:53 BRT 2025
2025-11-29 10:27:53.475 WARN  [ ] i.m.registry.otlp.OtlpMeterRegistry - Failed to publish metrics to OTLP receiver (context: url=http://localhost:4318/v1/metrics, resource-attributes={service.name=pizza-app})
io.micrometer.registry.otlp.OtlpHttpMetricsSender$OtlpHttpMetricsSendUnsuccessfulException: Server responded with HTTP status code 404 and body 404 page not found

	at io.micrometer.registry.otlp.OtlpHttpMetricsSender.send(OtlpHttpMetricsSender.java:65)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.publish(OtlpMeterRegistry.java:190)
	at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafelyOrSkipIfInProgress(PushMeterRegistry.java:63)
	at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:143)
	at io.micrometer.registry.otlp.OtlpMeterRegistry.close(OtlpMeterRegistry.java:305)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:113)
	at org.springframework.boot.micrometer.metrics.autoconfigure.MetricsAutoConfiguration$MeterRegistryCloser.onApplicationEvent(MetricsAutoConfiguration.java:101)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:180)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:151)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:447)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:380)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1159)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1122)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-29 10:27:53.477 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists customer cascade 
2025-11-29 10:27:53.477 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists order_item cascade 
2025-11-29 10:27:53.477 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-11-29 10:27:53.477 DEBUG [ ] org.hibernate.SQL - 
    drop table if exists pizza cascade 
